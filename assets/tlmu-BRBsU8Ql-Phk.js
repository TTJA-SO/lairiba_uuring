/*! 
  ________                                  __  .__       .__   
 /  _____/  ____  ____  _________________ _/  |_|__|____  |  |  
/   \  ____/ __ \/  _ \/  ___/\____ \__  \    __\  \__  \ |  |  
\    \_\  \  ___(  <_> )___ \ |  |_> > __ \|  | |  |/ __ \|  |__
 \______  /\___  >____/____  >|   __(____  /__| |__(____  /____/
        \/     \/          \/ |__|       \/             \/      

        Copyright (c) 2024, Geospatial OÃœ - TI */
var t,e,n=Object.defineProperty,i=Object.getOwnPropertyNames,r=(t,e,i)=>((t,e,i)=>e in t?n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i)(t,"symbol"!=typeof e?e+"":e,i),o=(t={"assets/tlmu-BRBsU8Ql-Phk.js"(t){function e(t,e){for(var n=0;n<e.length;n++){const i=e[n];if("string"!=typeof i&&!Array.isArray(i))for(const e in i)if("default"!==e&&!(e in t)){const n=Object.getOwnPropertyDescriptor(i,e);n&&Object.defineProperty(t,e,n.get?n:{enumerable:!0,get:()=>i[e]})}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function i(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var n=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var i=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,i.get?i:{enumerable:!0,get:function(){return t[e]}})})),n}!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();var o={exports:{}},s={},a={exports:{}},l={},u=Symbol.for("react.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),x=Symbol.iterator,b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function E(t,e,n){this.props=t,this.context=e,this.refs=S,this.updater=n||b}function C(){}function M(t,e,n){this.props=t,this.context=e,this.refs=S,this.updater=n||b}E.prototype.isReactComponent={},E.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},E.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},C.prototype=E.prototype;var k=M.prototype=new C;k.constructor=M,w(k,E.prototype),k.isPureReactComponent=!0;var T=Array.isArray,P=Object.prototype.hasOwnProperty,R={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function O(t,e,n){var i,r={},o=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(o=""+e.key),e)P.call(e,i)&&!I.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps)void 0===r[i]&&(r[i]=a[i]);return{$$typeof:u,type:t,key:o,ref:s,props:r,_owner:R.current}}function F(t){return"object"==typeof t&&null!==t&&t.$$typeof===u}var L=/\/+/g;function A(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function j(t,e,n,i,r){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var s=!1;if(null===t)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case u:case c:s=!0}}if(s)return r=r(s=t),t=""===i?"."+A(s,0):i,T(r)?(n="",null!=t&&(n=t.replace(L,"$&/")+"/"),j(r,e,n,"",(function(t){return t}))):null!=r&&(F(r)&&(r=function(t,e){return{$$typeof:u,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(r,n+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(L,"$&/")+"/")+t)),e.push(r)),1;if(s=0,i=""===i?".":i+":",T(t))for(var a=0;a<t.length;a++){var l=i+A(o=t[a],a);s+=j(o,e,n,l,r)}else if(l=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=x&&t[x]||t["@@iterator"])?t:null}(t),"function"==typeof l)for(t=l.call(t),a=0;!(o=t.next()).done;)s+=j(o=o.value,e,n,l=i+A(o,a++),r);else if("object"===o)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function N(t,e,n){if(null==t)return t;var i=[],r=0;return j(t,i,"","",(function(t){return e.call(n,t,r++)})),i}function D(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var z={current:null},$={transition:null},B={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:$,ReactCurrentOwner:R};function W(){throw Error("act(...) is not supported in production builds of React.")}l.Children={map:N,forEach:function(t,e,n){N(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return N(t,(function(){e++})),e},toArray:function(t){return N(t,(function(t){return t}))||[]},only:function(t){if(!F(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},l.Component=E,l.Fragment=h,l.Profiler=f,l.PureComponent=M,l.StrictMode=d,l.Suspense=y,l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,l.act=W,l.cloneElement=function(t,e,n){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=w({},t.props),r=t.key,o=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,s=R.current),void 0!==e.key&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)P.call(e,l)&&!I.hasOwnProperty(l)&&(i[l]=void 0===e[l]&&void 0!==a?a[l]:e[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:u,type:t.type,key:r,ref:o,props:i,_owner:s}},l.createContext=function(t){return(t={$$typeof:g,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:p,_context:t},t.Consumer=t},l.createElement=O,l.createFactory=function(t){var e=O.bind(null,t);return e.type=t,e},l.createRef=function(){return{current:null}},l.forwardRef=function(t){return{$$typeof:m,render:t}},l.isValidElement=F,l.lazy=function(t){return{$$typeof:_,_payload:{_status:-1,_result:t},_init:D}},l.memo=function(t,e){return{$$typeof:v,type:t,compare:void 0===e?null:e}},l.startTransition=function(t){var e=$.transition;$.transition={};try{t()}finally{$.transition=e}},l.unstable_act=W,l.useCallback=function(t,e){return z.current.useCallback(t,e)},l.useContext=function(t){return z.current.useContext(t)},l.useDebugValue=function(){},l.useDeferredValue=function(t){return z.current.useDeferredValue(t)},l.useEffect=function(t,e){return z.current.useEffect(t,e)},l.useId=function(){return z.current.useId()},l.useImperativeHandle=function(t,e,n){return z.current.useImperativeHandle(t,e,n)},l.useInsertionEffect=function(t,e){return z.current.useInsertionEffect(t,e)},l.useLayoutEffect=function(t,e){return z.current.useLayoutEffect(t,e)},l.useMemo=function(t,e){return z.current.useMemo(t,e)},l.useReducer=function(t,e,n){return z.current.useReducer(t,e,n)},l.useRef=function(t){return z.current.useRef(t)},l.useState=function(t){return z.current.useState(t)},l.useSyncExternalStore=function(t,e,n){return z.current.useSyncExternalStore(t,e,n)},l.useTransition=function(){return z.current.useTransition()},l.version="18.3.1",a.exports=l;var G=a.exports;const U=n(G),H=e({__proto__:null,default:U},[G]);var V=G,q=Symbol.for("react.element"),X=Symbol.for("react.fragment"),K=Object.prototype.hasOwnProperty,Z=V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Y={key:!0,ref:!0,__self:!0,__source:!0};function J(t,e,n){var i,r={},o=null,s=null;for(i in void 0!==n&&(o=""+n),void 0!==e.key&&(o=""+e.key),void 0!==e.ref&&(s=e.ref),e)K.call(e,i)&&!Y.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===r[i]&&(r[i]=e[i]);return{$$typeof:q,type:t,key:o,ref:s,props:r,_owner:Z.current}}s.Fragment=X,s.jsx=J,s.jsxs=J,o.exports=s;var Q=o.exports,tt={},et={exports:{}},nt={},it={exports:{}},rt={};!function(t){function e(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,o=t[i];if(!(0<r(o,e)))break t;t[i]=e,t[n]=o,n=i}}function n(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,o=t.length,s=o>>>1;i<s;){var a=2*(i+1)-1,l=t[a],u=a+1,c=t[u];if(0>r(l,n))u<o&&0>r(c,l)?(t[i]=c,t[u]=n,i=u):(t[i]=l,t[a]=n,i=a);else{if(!(u<o&&0>r(c,n)))break t;t[i]=c,t[u]=n,i=u}}}return e}function r(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,p=!1,g=!1,m="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function _(t){for(var r=n(u);null!==r;){if(null===r.callback)i(u);else{if(!(r.startTime<=t))break;i(u),r.sortIndex=r.expirationTime,e(l,r)}r=n(u)}}function x(t){if(g=!1,_(t),!p)if(null!==n(l))p=!0,O(b);else{var e=n(u);null!==e&&F(x,e.startTime-t)}}function b(e,r){p=!1,g&&(g=!1,y(C),C=-1),f=!0;var o=d;try{for(_(r),h=n(l);null!==h&&(!(h.expirationTime>r)||e&&!T());){var s=h.callback;if("function"==typeof s){h.callback=null,d=h.priorityLevel;var a=s(h.expirationTime<=r);r=t.unstable_now(),"function"==typeof a?h.callback=a:h===n(l)&&i(l),_(r)}else i(l);h=n(l)}if(null!==h)var c=!0;else{var m=n(u);null!==m&&F(x,m.startTime-r),c=!1}return c}finally{h=null,d=o,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,S=!1,E=null,C=-1,M=5,k=-1;function T(){return!(t.unstable_now()-k<M)}function P(){if(null!==E){var e=t.unstable_now();k=e;var n=!0;try{n=E(!0,e)}finally{n?w():(S=!1,E=null)}}else S=!1}if("function"==typeof v)w=function(){v(P)};else if("undefined"!=typeof MessageChannel){var R=new MessageChannel,I=R.port2;R.port1.onmessage=P,w=function(){I.postMessage(null)}}else w=function(){m(P,0)};function O(t){E=t,S||(S=!0,w())}function F(e,n){C=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(t){t.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,O(b))},t.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<t?Math.floor(1e3/t):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(t){switch(d){case 1:case 2:case 3:var e=3;break;default:e=d}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_scheduleCallback=function(i,r,o){var s=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?s+o:s,i){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return i={id:c++,callback:r,priorityLevel:i,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(i.sortIndex=o,e(u,i),null===n(l)&&i===n(u)&&(g?(y(C),C=-1):g=!0,F(x,o-s))):(i.sortIndex=a,e(l,i),p||f||(p=!0,O(b))),i},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(t){var e=d;return function(){var n=d;d=e;try{return t.apply(this,arguments)}finally{d=n}}}}(rt),it.exports=rt;var ot=it.exports,st=G,at=ot;function lt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ut=new Set,ct={};function ht(t,e){dt(t,e),dt(t+"Capture",e)}function dt(t,e){for(ct[t]=e,t=0;t<e.length;t++)ut.add(e[t])}var ft=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),pt=Object.prototype.hasOwnProperty,gt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mt={},yt={};function vt(t,e,n,i,r,o,s){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){_t[t]=new vt(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];_t[e]=new vt(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){_t[t]=new vt(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){_t[t]=new vt(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){_t[t]=new vt(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){_t[t]=new vt(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){_t[t]=new vt(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){_t[t]=new vt(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){_t[t]=new vt(t,5,!1,t.toLowerCase(),null,!1,!1)}));var xt=/[\-:]([a-z])/g;function bt(t){return t[1].toUpperCase()}function wt(t,e,n,i){var r=_t.hasOwnProperty(e)?_t[e]:null;(null!==r?0!==r.type:i||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,i){if(null==e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,i)&&(n=null),i||null===r?function(t){return!!pt.call(yt,t)||!pt.call(mt,t)&&(gt.test(t)?yt[t]=!0:(mt[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(xt,bt);_t[e]=new vt(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(xt,bt);_t[e]=new vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(xt,bt);_t[e]=new vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){_t[t]=new vt(t,1,!1,t.toLowerCase(),null,!1,!1)})),_t.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){_t[t]=new vt(t,1,!1,t.toLowerCase(),null,!0,!0)}));var St=st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Et=Symbol.for("react.element"),Ct=Symbol.for("react.portal"),Mt=Symbol.for("react.fragment"),kt=Symbol.for("react.strict_mode"),Tt=Symbol.for("react.profiler"),Pt=Symbol.for("react.provider"),Rt=Symbol.for("react.context"),It=Symbol.for("react.forward_ref"),Ot=Symbol.for("react.suspense"),Ft=Symbol.for("react.suspense_list"),Lt=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),jt=Symbol.for("react.offscreen"),Nt=Symbol.iterator;function Dt(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=Nt&&t[Nt]||t["@@iterator"])?t:null}var zt,$t=Object.assign;function Bt(t){if(void 0===zt)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zt=e&&e[1]||""}return"\n"+zt+t}var Wt=!1;function Gt(t,e){if(!t||Wt)return"";Wt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&"string"==typeof u.stack){for(var r=u.stack.split("\n"),o=i.stack.split("\n"),s=r.length-1,a=o.length-1;1<=s&&0<=a&&r[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(r[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||r[s]!==o[a]){var l="\n"+r[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=s&&0<=a);break}}}finally{Wt=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bt(t):""}function Ut(t){switch(t.tag){case 5:return Bt(t.type);case 16:return Bt("Lazy");case 13:return Bt("Suspense");case 19:return Bt("SuspenseList");case 0:case 2:case 15:return t=Gt(t.type,!1);case 11:return t=Gt(t.type.render,!1);case 1:return t=Gt(t.type,!0);default:return""}}function Ht(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case Mt:return"Fragment";case Ct:return"Portal";case Tt:return"Profiler";case kt:return"StrictMode";case Ot:return"Suspense";case Ft:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case Rt:return(t.displayName||"Context")+".Consumer";case Pt:return(t._context.displayName||"Context")+".Provider";case It:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case Lt:return null!==(e=t.displayName||null)?e:Ht(t.type)||"Memo";case At:e=t._payload,t=t._init;try{return Ht(t(e))}catch(n){}}return null}function Vt(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ht(e);case 8:return e===kt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e}return null}function qt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function Xt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Kt(t){t._valueTracker||(t._valueTracker=function(t){var e=Xt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Zt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Xt(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function Yt(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Jt(t,e){var n=e.checked;return $t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Qt(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=qt(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function te(t,e){null!=(e=e.checked)&&wt(t,"checked",e,!1)}function ee(t,e){te(t,e);var n=qt(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?ie(t,e.type,n):e.hasOwnProperty("defaultValue")&&ie(t,e.type,qt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function ne(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function ie(t,e,n){"number"===e&&Yt(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var re=Array.isArray;function oe(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+qt(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function se(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(lt(91));return $t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ae(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(lt(92));if(re(n)){if(1<n.length)throw Error(lt(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:qt(n)}}function le(t,e){var n=qt(e.value),i=qt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function ue(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function ce(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ce(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var de,fe,pe=(fe=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((de=de||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=de.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction((function(){return fe(t,e)}))}:fe);function ge(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ye=["Webkit","ms","Moz","O"];function ve(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||me.hasOwnProperty(t)&&me[t]?(""+e).trim():e+"px"}function _e(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=ve(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(me).forEach((function(t){ye.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),me[e]=me[t]}))}));var xe=$t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(t,e){if(e){if(xe[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(lt(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(lt(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(lt(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(lt(62))}}function we(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Se=null;function Ee(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Ce=null,Me=null,ke=null;function Te(t){if(t=So(t)){if("function"!=typeof Ce)throw Error(lt(280));var e=t.stateNode;e&&(e=Co(e),Ce(t.stateNode,t.type,e))}}function Pe(t){Me?ke?ke.push(t):ke=[t]:Me=t}function Re(){if(Me){var t=Me,e=ke;if(ke=Me=null,Te(t),e)for(t=0;t<e.length;t++)Te(e[t])}}function Ie(t,e){return t(e)}function Oe(){}var Fe=!1;function Le(t,e,n){if(Fe)return t(e,n);Fe=!0;try{return Ie(t,e,n)}finally{Fe=!1,(null!==Me||null!==ke)&&(Oe(),Re())}}function Ae(t,e){var n=t.stateNode;if(null===n)return null;var i=Co(n);if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(lt(231,e,typeof n));return n}var je=!1;if(ft)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){je=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(fe){je=!1}function De(t,e,n,i,r,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ze=!1,$e=null,Be=!1,We=null,Ge={onError:function(t){ze=!0,$e=t}};function Ue(t,e,n,i,r,o,s,a,l){ze=!1,$e=null,De.apply(Ge,arguments)}function He(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{!!(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Ve(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&null!==(t=t.alternate)&&(e=t.memoizedState),null!==e)return e.dehydrated}return null}function qe(t){if(He(t)!==t)throw Error(lt(188))}function Xe(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=He(t)))throw Error(lt(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return qe(r),t;if(o===i)return qe(r),e;o=o.sibling}throw Error(lt(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,a=r.child;a;){if(a===n){s=!0,n=r,i=o;break}if(a===i){s=!0,i=r,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,i=r;break}if(a===i){s=!0,i=o,n=r;break}a=a.sibling}if(!s)throw Error(lt(189))}}if(n.alternate!==i)throw Error(lt(190))}if(3!==n.tag)throw Error(lt(188));return n.stateNode.current===n?t:e}(t))?Ke(t):null}function Ke(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Ke(t);if(null!==e)return e;t=t.sibling}return null}var Ze=at.unstable_scheduleCallback,Ye=at.unstable_cancelCallback,Je=at.unstable_shouldYield,Qe=at.unstable_requestPaint,tn=at.unstable_now,en=at.unstable_getCurrentPriorityLevel,nn=at.unstable_ImmediatePriority,rn=at.unstable_UserBlockingPriority,on=at.unstable_NormalPriority,sn=at.unstable_LowPriority,an=at.unstable_IdlePriority,ln=null,un=null,cn=Math.clz32?Math.clz32:function(t){return 0===(t>>>=0)?32:31-(hn(t)/dn|0)|0},hn=Math.log,dn=Math.LN2,fn=64,pn=4194304;function gn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mn(t,e){var n=t.pendingLanes;if(0===n)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,s=268435455&n;if(0!==s){var a=s&~r;0!==a?i=gn(a):0!=(o&=s)&&(i=gn(o))}else 0!=(s=n&~r)?i=gn(s):0!==o&&(i=gn(o));if(0===i)return 0;if(0!==e&&e!==i&&!(e&r)&&((r=i&-i)>=(o=e&-e)||16===r&&4194240&o))return e;if(4&i&&(i|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=i;0<e;)r=1<<(n=31-cn(e)),i|=t[n],e&=~r;return i}function yn(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function vn(t){return 0!=(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function _n(){var t=fn;return!(4194240&(fn<<=1))&&(fn=64),t}function xn(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bn(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-cn(e)]=n}function wn(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-cn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Sn=0;function En(t){return 1<(t&=-t)?4<t?268435455&t?16:536870912:4:1}var Cn,Mn,kn,Tn,Pn,Rn=!1,In=[],On=null,Fn=null,Ln=null,An=new Map,jn=new Map,Nn=[],Dn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zn(t,e){switch(t){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":An.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jn.delete(e.pointerId)}}function $n(t,e,n,i,r,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==e&&null!==(e=So(e))&&Mn(e),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function Bn(t){var e=wo(t.target);if(null!==e){var n=He(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Ve(n)))return t.blockedOn=e,void Pn(t.priority,(function(){kn(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Wn(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qn(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=So(n))&&Mn(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);Se=i,n.target.dispatchEvent(i),Se=null,e.shift()}return!0}function Gn(t,e,n){Wn(t)&&n.delete(e)}function Un(){Rn=!1,null!==On&&Wn(On)&&(On=null),null!==Fn&&Wn(Fn)&&(Fn=null),null!==Ln&&Wn(Ln)&&(Ln=null),An.forEach(Gn),jn.forEach(Gn)}function Hn(t,e){t.blockedOn===e&&(t.blockedOn=null,Rn||(Rn=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,Un)))}function Vn(t){function e(e){return Hn(e,t)}if(0<In.length){Hn(In[0],t);for(var n=1;n<In.length;n++){var i=In[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==On&&Hn(On,t),null!==Fn&&Hn(Fn,t),null!==Ln&&Hn(Ln,t),An.forEach(e),jn.forEach(e),n=0;n<Nn.length;n++)(i=Nn[n]).blockedOn===t&&(i.blockedOn=null);for(;0<Nn.length&&null===(n=Nn[0]).blockedOn;)Bn(n),null===n.blockedOn&&Nn.shift()}var qn=St.ReactCurrentBatchConfig,Xn=!0;function Kn(t,e,n,i){var r=Sn,o=qn.transition;qn.transition=null;try{Sn=1,Yn(t,e,n,i)}finally{Sn=r,qn.transition=o}}function Zn(t,e,n,i){var r=Sn,o=qn.transition;qn.transition=null;try{Sn=4,Yn(t,e,n,i)}finally{Sn=r,qn.transition=o}}function Yn(t,e,n,i){if(Xn){var r=Qn(t,e,n,i);if(null===r)qr(t,e,i,Jn,n),zn(t,i);else if(function(t,e,n,i,r){switch(e){case"focusin":return On=$n(On,t,e,n,i,r),!0;case"dragenter":return Fn=$n(Fn,t,e,n,i,r),!0;case"mouseover":return Ln=$n(Ln,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return An.set(o,$n(An.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,jn.set(o,$n(jn.get(o)||null,t,e,n,i,r)),!0}return!1}(r,t,e,n,i))i.stopPropagation();else if(zn(t,i),4&e&&-1<Dn.indexOf(t)){for(;null!==r;){var o=So(r);if(null!==o&&Cn(o),null===(o=Qn(t,e,n,i))&&qr(t,e,i,Jn,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else qr(t,e,i,null,n)}}var Jn=null;function Qn(t,e,n,i){if(Jn=null,null!==(t=wo(t=Ee(i))))if(null===(e=He(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Ve(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jn=t,null}function ti(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(en()){case nn:return 1;case rn:return 4;case on:case sn:return 16;case an:return 536870912;default:return 16}default:return 16}}var ei=null,ni=null,ii=null;function ri(){if(ii)return ii;var t,e,n=ni,i=n.length,r="value"in ei?ei.value:ei.textContent,o=r.length;for(t=0;t<i&&n[t]===r[t];t++);var s=i-t;for(e=1;e<=s&&n[i-e]===r[o-e];e++);return ii=r.slice(t,1<e?1-e:void 0)}function oi(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function si(){return!0}function ai(){return!1}function li(t){function e(e,n,i,r,o){for(var s in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(s)&&(e=t[s],this[s]=e?e(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?si:ai,this.isPropagationStopped=ai,this}return $t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),e}var ui,ci,hi,di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=li(di),pi=$t({},di,{view:0,detail:0}),gi=li(pi),mi=$t({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ti,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hi&&(hi&&"mousemove"===t.type?(ui=t.screenX-hi.screenX,ci=t.screenY-hi.screenY):ci=ui=0,hi=t),ui)},movementY:function(t){return"movementY"in t?t.movementY:ci}}),yi=li(mi),vi=li($t({},mi,{dataTransfer:0})),_i=li($t({},pi,{relatedTarget:0})),xi=li($t({},di,{animationName:0,elapsedTime:0,pseudoElement:0})),bi=$t({},di,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wi=li(bi),Si=li($t({},di,{data:0})),Ei={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ci={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ki(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Mi[t])&&!!e[t]}function Ti(){return ki}var Pi=$t({},pi,{key:function(t){if(t.key){var e=Ei[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=oi(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Ci[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ti,charCode:function(t){return"keypress"===t.type?oi(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?oi(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Ri=li(Pi),Ii=li($t({},mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Oi=li($t({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ti})),Fi=li($t({},di,{propertyName:0,elapsedTime:0,pseudoElement:0})),Li=$t({},mi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ai=li(Li),ji=[9,13,27,32],Ni=ft&&"CompositionEvent"in window,Di=null;ft&&"documentMode"in document&&(Di=document.documentMode);var zi=ft&&"TextEvent"in window&&!Di,$i=ft&&(!Ni||Di&&8<Di&&11>=Di),Bi=String.fromCharCode(32),Wi=!1;function Gi(t,e){switch(t){case"keyup":return-1!==ji.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ui(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var Hi=!1,Vi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Vi[t.type]:"textarea"===e}function Xi(t,e,n,i){Pe(i),0<(e=Kr(e,"onChange")).length&&(n=new fi("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ki=null,Zi=null;function Yi(t){Br(t,0)}function Ji(t){if(Zt(Eo(t)))return t}function Qi(t,e){if("change"===t)return e}var tr=!1;if(ft){var er;if(ft){var nr="oninput"in document;if(!nr){var ir=document.createElement("div");ir.setAttribute("oninput","return;"),nr="function"==typeof ir.oninput}er=nr}else er=!1;tr=er&&(!document.documentMode||9<document.documentMode)}function rr(){Ki&&(Ki.detachEvent("onpropertychange",or),Zi=Ki=null)}function or(t){if("value"===t.propertyName&&Ji(Zi)){var e=[];Xi(e,Zi,t,Ee(t)),Le(Yi,e)}}function sr(t,e,n){"focusin"===t?(rr(),Zi=n,(Ki=e).attachEvent("onpropertychange",or)):"focusout"===t&&rr()}function ar(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Ji(Zi)}function lr(t,e){if("click"===t)return Ji(e)}function ur(t,e){if("input"===t||"change"===t)return Ji(e)}var cr="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e};function hr(t,e){if(cr(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!pt.call(e,r)||!cr(t[r],e[r]))return!1}return!0}function dr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fr(t,e){var n,i=dr(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=dr(i)}}function pr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?pr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function gr(){for(var t=window,e=Yt();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=Yt((t=e.contentWindow).document)}return e}function mr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function yr(t){var e=gr(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pr(n.ownerDocument.documentElement,n)){if(null!==i&&mr(n))if(e=i.start,void 0===(t=i.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=fr(n,o);var s=fr(n,i);r&&s&&(1!==t.rangeCount||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&((e=e.createRange()).setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vr=ft&&"documentMode"in document&&11>=document.documentMode,_r=null,xr=null,br=null,wr=!1;function Sr(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==_r||_r!==Yt(i)||(i="selectionStart"in(i=_r)&&mr(i)?{start:i.selectionStart,end:i.selectionEnd}:{anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},br&&hr(br,i)||(br=i,0<(i=Kr(xr,"onSelect")).length&&(e=new fi("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=_r)))}function Er(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Cr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},Mr={},kr={};function Tr(t){if(Mr[t])return Mr[t];if(!Cr[t])return t;var e,n=Cr[t];for(e in n)if(n.hasOwnProperty(e)&&e in kr)return Mr[t]=n[e];return t}ft&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);var Pr=Tr("animationend"),Rr=Tr("animationiteration"),Ir=Tr("animationstart"),Or=Tr("transitionend"),Fr=new Map,Lr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(t,e){Fr.set(t,e),ht(e,[t])}for(var jr=0;jr<Lr.length;jr++){var Nr=Lr[jr];Ar(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Ar(Pr,"onAnimationEnd"),Ar(Rr,"onAnimationIteration"),Ar(Ir,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Or,"onTransitionEnd"),dt("onMouseEnter",["mouseout","mouseover"]),dt("onMouseLeave",["mouseout","mouseover"]),dt("onPointerEnter",["pointerout","pointerover"]),dt("onPointerLeave",["pointerout","pointerover"]),ht("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ht("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ht("onBeforeInput",["compositionend","keypress","textInput","paste"]),ht("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ht("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ht("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function $r(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,i,r,o,s,a,l){if(Ue.apply(this,arguments),ze){if(!ze)throw Error(lt(198));var u=$e;ze=!1,$e=null,Be||(Be=!0,We=u)}}(i,e,void 0,t),t.currentTarget=null}function Br(t,e){e=!!(4&e);for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;t:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break t;$r(r,a,u),o=l}else for(s=0;s<i.length;s++){if(l=(a=i[s]).instance,u=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break t;$r(r,a,u),o=l}}}if(Be)throw t=We,Be=!1,We=null,t}function Wr(t,e){var n=e[_o];void 0===n&&(n=e[_o]=new Set);var i=t+"__bubble";n.has(i)||(Vr(e,t,2,!1),n.add(i))}function Gr(t,e,n){var i=0;e&&(i|=4),Vr(n,t,i,e)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Hr(t){if(!t[Ur]){t[Ur]=!0,ut.forEach((function(e){"selectionchange"!==e&&(zr.has(e)||Gr(e,!1,t),Gr(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Ur]||(e[Ur]=!0,Gr("selectionchange",!1,e))}}function Vr(t,e,n,i){switch(ti(e)){case 1:var r=Kn;break;case 4:r=Zn;break;default:r=Yn}n=r.bind(null,e,n,t),r=void 0,!je||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),i?void 0!==r?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):void 0!==r?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function qr(t,e,n,i,r){var o=i;if(!(1&e||2&e||null===i))t:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===s)for(s=i.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==a;){if(null===(s=wo(a)))return;if(5===(l=s.tag)||6===l){i=o=s;continue t}a=a.parentNode}}i=i.return}Le((function(){var i=o,r=Ee(n),s=[];t:{var a=Fr.get(t);if(void 0!==a){var l=fi,u=t;switch(t){case"keypress":if(0===oi(n))break t;case"keydown":case"keyup":l=Ri;break;case"focusin":u="focus",l=_i;break;case"focusout":u="blur",l=_i;break;case"beforeblur":case"afterblur":l=_i;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=yi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Oi;break;case Pr:case Rr:case Ir:l=xi;break;case Or:l=Fi;break;case"scroll":l=gi;break;case"wheel":l=Ai;break;case"copy":case"cut":case"paste":l=wi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ii}var c=!!(4&e),h=!c&&"scroll"===t,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=i;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&null!=(g=Ae(p,d))&&c.push(Xr(p,g,f))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,r),s.push({event:a,listeners:c}))}}if(!(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||n===Se||!(u=n.relatedTarget||n.fromElement)||!wo(u)&&!u[vo])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(u=(u=n.relatedTarget||n.toElement)?wo(u):null)&&(u!==(h=He(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=i),l!==u)){if(c=yi,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(c=Ii,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:Eo(l),f=null==u?a:Eo(u),(a=new c(g,p+"leave",l,n,r)).target=h,a.relatedTarget=f,g=null,wo(r)===i&&((c=new c(d,p+"enter",u,n,r)).target=f,c.relatedTarget=h,g=c),h=g,l&&u)t:{for(d=u,p=0,f=c=l;f;f=Zr(f))p++;for(f=0,g=d;g;g=Zr(g))f++;for(;0<p-f;)c=Zr(c),p--;for(;0<f-p;)d=Zr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break t;c=Zr(c),d=Zr(d)}c=null}else c=null;null!==l&&Yr(s,a,l,c,!1),null!==u&&null!==h&&Yr(s,h,u,c,!0)}if("select"===(l=(a=i?Eo(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Qi;else if(qi(a))if(tr)m=ur;else{m=ar;var y=sr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=lr);switch(m&&(m=m(t,i))?Xi(s,m,n,r):(y&&y(t,a,i),"focusout"===t&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ie(a,"number",a.value)),y=i?Eo(i):window,t){case"focusin":(qi(y)||"true"===y.contentEditable)&&(_r=y,xr=i,br=null);break;case"focusout":br=xr=_r=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,Sr(s,n,r);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":Sr(s,n,r)}var v;if(Ni)t:{switch(t){case"compositionstart":var _="onCompositionStart";break t;case"compositionend":_="onCompositionEnd";break t;case"compositionupdate":_="onCompositionUpdate";break t}_=void 0}else Hi?Gi(t,n)&&(_="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(_="onCompositionStart");_&&($i&&"ko"!==n.locale&&(Hi||"onCompositionStart"!==_?"onCompositionEnd"===_&&Hi&&(v=ri()):(ni="value"in(ei=r)?ei.value:ei.textContent,Hi=!0)),0<(y=Kr(i,_)).length&&(_=new Si(_,t,null,n,r),s.push({event:_,listeners:y}),(v||null!==(v=Ui(n)))&&(_.data=v))),(v=zi?function(t,e){switch(t){case"compositionend":return Ui(e);case"keypress":return 32!==e.which?null:(Wi=!0,Bi);case"textInput":return(t=e.data)===Bi&&Wi?null:t;default:return null}}(t,n):function(t,e){if(Hi)return"compositionend"===t||!Ni&&Gi(t,e)?(t=ri(),ii=ni=ei=null,Hi=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $i&&"ko"!==e.locale?null:e.data}}(t,n))&&0<(i=Kr(i,"onBeforeInput")).length&&(r=new Si("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:i}),r.data=v)}Br(s,e)}))}function Xr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Kr(t,e){for(var n=e+"Capture",i=[];null!==t;){var r=t,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=Ae(t,n))&&i.unshift(Xr(t,o,r)),null!=(o=Ae(t,e))&&i.push(Xr(t,o,r))),t=t.return}return i}function Zr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Yr(t,e,n,i,r){for(var o=e._reactName,s=[];null!==n&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==u&&(a=u,r?null!=(l=Ae(n,o))&&s.unshift(Xr(n,l,a)):r||null!=(l=Ae(n,o))&&s.push(Xr(n,l,a))),n=n.return}0!==s.length&&t.push({event:e,listeners:s})}var Jr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function to(t){return("string"==typeof t?t:""+t).replace(Jr,"\n").replace(Qr,"")}function eo(t,e,n){if(e=to(e),to(t)!==e&&n)throw Error(lt(425))}function no(){}var io=null,ro=null;function oo(t,e){return"textarea"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var so="function"==typeof setTimeout?setTimeout:void 0,ao="function"==typeof clearTimeout?clearTimeout:void 0,lo="function"==typeof Promise?Promise:void 0,uo="function"==typeof queueMicrotask?queueMicrotask:void 0!==lo?function(t){return lo.resolve(null).then(t).catch(co)}:so;function co(t){setTimeout((function(){throw t}))}function ho(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return t.removeChild(r),void Vn(e);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Vn(e)}function fo(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function po(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var go=Math.random().toString(36).slice(2),mo="__reactFiber$"+go,yo="__reactProps$"+go,vo="__reactContainer$"+go,_o="__reactEvents$"+go,xo="__reactListeners$"+go,bo="__reactHandles$"+go;function wo(t){var e=t[mo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vo]||n[mo]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=po(t);null!==t;){if(n=t[mo])return n;t=po(t)}return e}n=(t=n).parentNode}return null}function So(t){return!(t=t[mo]||t[vo])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Eo(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(lt(33))}function Co(t){return t[yo]||null}var Mo=[],ko=-1;function To(t){return{current:t}}function Po(t){0>ko||(t.current=Mo[ko],Mo[ko]=null,ko--)}function Ro(t,e){ko++,Mo[ko]=t.current,t.current=e}var Io={},Oo=To(Io),Fo=To(!1),Lo=Io;function Ao(t,e){var n=t.type.contextTypes;if(!n)return Io;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function jo(t){return null!=(t=t.childContextTypes)}function No(){Po(Fo),Po(Oo)}function Do(t,e,n){if(Oo.current!==Io)throw Error(lt(168));Ro(Oo,e),Ro(Fo,n)}function zo(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in e))throw Error(lt(108,Vt(t)||"Unknown",r));return $t({},n,i)}function $o(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Io,Lo=Oo.current,Ro(Oo,t),Ro(Fo,Fo.current),!0}function Bo(t,e,n){var i=t.stateNode;if(!i)throw Error(lt(169));n?(t=zo(t,e,Lo),i.__reactInternalMemoizedMergedChildContext=t,Po(Fo),Po(Oo),Ro(Oo,t)):Po(Fo),Ro(Fo,n)}var Wo=null,Go=!1,Uo=!1;function Ho(t){null===Wo?Wo=[t]:Wo.push(t)}function Vo(){if(!Uo&&null!==Wo){Uo=!0;var t=0,e=Sn;try{var n=Wo;for(Sn=1;t<n.length;t++){var i=n[t];do{i=i(!0)}while(null!==i)}Wo=null,Go=!1}catch(r){throw null!==Wo&&(Wo=Wo.slice(t+1)),Ze(nn,Vo),r}finally{Sn=e,Uo=!1}}return null}var qo=[],Xo=0,Ko=null,Zo=0,Yo=[],Jo=0,Qo=null,ts=1,es="";function ns(t,e){qo[Xo++]=Zo,qo[Xo++]=Ko,Ko=t,Zo=e}function is(t,e,n){Yo[Jo++]=ts,Yo[Jo++]=es,Yo[Jo++]=Qo,Qo=t;var i=ts;t=es;var r=32-cn(i)-1;i&=~(1<<r),n+=1;var o=32-cn(e)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,ts=1<<32-cn(e)+r|n<<r|i,es=o+t}else ts=1<<o|n<<r|i,es=t}function rs(t){null!==t.return&&(ns(t,1),is(t,1,0))}function os(t){for(;t===Ko;)Ko=qo[--Xo],qo[Xo]=null,Zo=qo[--Xo],qo[Xo]=null;for(;t===Qo;)Qo=Yo[--Jo],Yo[Jo]=null,es=Yo[--Jo],Yo[Jo]=null,ts=Yo[--Jo],Yo[Jo]=null}var ss=null,as=null,ls=!1,us=null;function cs(t,e){var n=Fc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function hs(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,ss=t,as=fo(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,ss=t,as=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Qo?{id:ts,overflow:es}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Fc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,ss=t,as=null,!0);default:return!1}}function ds(t){return!(!(1&t.mode)||128&t.flags)}function fs(t){if(ls){var e=as;if(e){var n=e;if(!hs(t,e)){if(ds(t))throw Error(lt(418));e=fo(n.nextSibling);var i=ss;e&&hs(t,e)?cs(i,n):(t.flags=-4097&t.flags|2,ls=!1,ss=t)}}else{if(ds(t))throw Error(lt(418));t.flags=-4097&t.flags|2,ls=!1,ss=t}}}function ps(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ss=t}function gs(t){if(t!==ss)return!1;if(!ls)return ps(t),ls=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!oo(t.type,t.memoizedProps)),e&&(e=as)){if(ds(t))throw ms(),Error(lt(418));for(;e;)cs(t,e),e=fo(e.nextSibling)}if(ps(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(lt(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){as=fo(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}as=null}}else as=ss?fo(t.stateNode.nextSibling):null;return!0}function ms(){for(var t=as;t;)t=fo(t.nextSibling)}function ys(){as=ss=null,ls=!1}function vs(t){null===us?us=[t]:us.push(t)}var _s=St.ReactCurrentBatchConfig;function xs(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(lt(309));var i=n.stateNode}if(!i)throw Error(lt(147,t));var r=i,o=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===o?e.ref:((e=function(t){var e=r.refs;null===t?delete e[o]:e[o]=t})._stringRef=o,e)}if("string"!=typeof t)throw Error(lt(284));if(!n._owner)throw Error(lt(290,t))}return t}function bs(t,e){throw t=Object.prototype.toString.call(e),Error(lt(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ws(t){return(0,t._init)(t._payload)}function Ss(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Ac(t,e)).index=0,t.sibling=null,t}function o(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=2,n):i:(e.flags|=2,n):(e.flags|=1048576,n)}function s(e){return t&&null===e.alternate&&(e.flags|=2),e}function a(t,e,n,i){return null===e||6!==e.tag?((e=zc(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function l(t,e,n,i){var o=n.type;return o===Mt?c(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===At&&ws(o)===e.type)?((i=r(e,n.props)).ref=xs(t,e,n),i.return=t,i):((i=jc(n.type,n.key,n.props,null,t.mode,i)).ref=xs(t,e,n),i.return=t,i)}function u(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=$c(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function c(t,e,n,i,o){return null===e||7!==e.tag?((e=Nc(n,t.mode,i,o)).return=t,e):((e=r(e,n)).return=t,e)}function h(t,e,n){if("string"==typeof e&&""!==e||"number"==typeof e)return(e=zc(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case Et:return(n=jc(e.type,e.key,e.props,null,t.mode,n)).ref=xs(t,null,e),n.return=t,n;case Ct:return(e=$c(e,t.mode,n)).return=t,e;case At:return h(t,(0,e._init)(e._payload),n)}if(re(e)||Dt(e))return(e=Nc(e,t.mode,n,null)).return=t,e;bs(t,e)}return null}function d(t,e,n,i){var r=null!==e?e.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==r?null:a(t,e,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Et:return n.key===r?l(t,e,n,i):null;case Ct:return n.key===r?u(t,e,n,i):null;case At:return d(t,e,(r=n._init)(n._payload),i)}if(re(n)||Dt(n))return null!==r?null:c(t,e,n,i,null);bs(t,n)}return null}function f(t,e,n,i,r){if("string"==typeof i&&""!==i||"number"==typeof i)return a(e,t=t.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case Et:return l(e,t=t.get(null===i.key?n:i.key)||null,i,r);case Ct:return u(e,t=t.get(null===i.key?n:i.key)||null,i,r);case At:return f(t,e,n,(0,i._init)(i._payload),r)}if(re(i)||Dt(i))return c(e,t=t.get(n)||null,i,r,null);bs(e,i)}return null}return function a(l,u,c,p){if("object"==typeof c&&null!==c&&c.type===Mt&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case Et:t:{for(var g=c.key,m=u;null!==m;){if(m.key===g){if((g=c.type)===Mt){if(7===m.tag){n(l,m.sibling),(u=r(m,c.props.children)).return=l,l=u;break t}}else if(m.elementType===g||"object"==typeof g&&null!==g&&g.$$typeof===At&&ws(g)===m.type){n(l,m.sibling),(u=r(m,c.props)).ref=xs(l,m,c),u.return=l,l=u;break t}n(l,m);break}e(l,m),m=m.sibling}c.type===Mt?((u=Nc(c.props.children,l.mode,p,c.key)).return=l,l=u):((p=jc(c.type,c.key,c.props,null,l.mode,p)).ref=xs(l,u,c),p.return=l,l=p)}return s(l);case Ct:t:{for(m=c.key;null!==u;){if(u.key===m){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(u=r(u,c.children||[])).return=l,l=u;break t}n(l,u);break}e(l,u),u=u.sibling}(u=$c(c,l.mode,p)).return=l,l=u}return s(l);case At:return a(l,u,(m=c._init)(c._payload),p)}if(re(c))return function(r,s,a,l){for(var u=null,c=null,p=s,g=s=0,m=null;null!==p&&g<a.length;g++){p.index>g?(m=p,p=null):m=p.sibling;var y=d(r,p,a[g],l);if(null===y){null===p&&(p=m);break}t&&p&&null===y.alternate&&e(r,p),s=o(y,s,g),null===c?u=y:c.sibling=y,c=y,p=m}if(g===a.length)return n(r,p),ls&&ns(r,g),u;if(null===p){for(;g<a.length;g++)null!==(p=h(r,a[g],l))&&(s=o(p,s,g),null===c?u=p:c.sibling=p,c=p);return ls&&ns(r,g),u}for(p=i(r,p);g<a.length;g++)null!==(m=f(p,r,g,a[g],l))&&(t&&null!==m.alternate&&p.delete(null===m.key?g:m.key),s=o(m,s,g),null===c?u=m:c.sibling=m,c=m);return t&&p.forEach((function(t){return e(r,t)})),ls&&ns(r,g),u}(l,u,c,p);if(Dt(c))return function(r,s,a,l){var u=Dt(a);if("function"!=typeof u)throw Error(lt(150));if(null==(a=u.call(a)))throw Error(lt(151));for(var c=u=null,p=s,g=s=0,m=null,y=a.next();null!==p&&!y.done;g++,y=a.next()){p.index>g?(m=p,p=null):m=p.sibling;var v=d(r,p,y.value,l);if(null===v){null===p&&(p=m);break}t&&p&&null===v.alternate&&e(r,p),s=o(v,s,g),null===c?u=v:c.sibling=v,c=v,p=m}if(y.done)return n(r,p),ls&&ns(r,g),u;if(null===p){for(;!y.done;g++,y=a.next())null!==(y=h(r,y.value,l))&&(s=o(y,s,g),null===c?u=y:c.sibling=y,c=y);return ls&&ns(r,g),u}for(p=i(r,p);!y.done;g++,y=a.next())null!==(y=f(p,r,g,y.value,l))&&(t&&null!==y.alternate&&p.delete(null===y.key?g:y.key),s=o(y,s,g),null===c?u=y:c.sibling=y,c=y);return t&&p.forEach((function(t){return e(r,t)})),ls&&ns(r,g),u}(l,u,c,p);bs(l,c)}return"string"==typeof c&&""!==c||"number"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(u=r(u,c)).return=l,l=u):(n(l,u),(u=zc(c,l.mode,p)).return=l,l=u),s(l)):n(l,u)}}var Es=Ss(!0),Cs=Ss(!1),Ms=To(null),ks=null,Ts=null,Ps=null;function Rs(){Ps=Ts=ks=null}function Is(t){var e=Ms.current;Po(Ms),t._currentValue=e}function Os(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Fs(t,e){ks=t,Ps=Ts=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(!!(t.lanes&e)&&(wl=!0),t.firstContext=null)}function Ls(t){var e=t._currentValue;if(Ps!==t)if(t={context:t,memoizedValue:e,next:null},null===Ts){if(null===ks)throw Error(lt(308));Ts=t,ks.dependencies={lanes:0,firstContext:t}}else Ts=Ts.next=t;return e}var As=null;function js(t){null===As?As=[t]:As.push(t)}function Ns(t,e,n,i){var r=e.interleaved;return null===r?(n.next=n,js(e)):(n.next=r.next,r.next=n),e.interleaved=n,Ds(t,i)}function Ds(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var zs=!1;function $s(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bs(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ws(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gs(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,2&Ru){var r=i.pending;return null===r?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ds(t,n)}return null===(r=i.interleaved)?(e.next=e,js(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ds(t,n)}function Us(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,4194240&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,wn(t,n)}}function Hs(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?r=o=e:o=o.next=e}else r=o=e;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vs(t,e,n,i){var r=t.updateQueue;zs=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?o=u:s.next=u,s=l;var c=t.alternate;null!==c&&(a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l)}if(null!==o){var h=r.baseState;for(s=0,c=u=l=null,a=o;;){var d=a.lane,f=a.eventTime;if((i&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,g=a;switch(d=e,f=n,g.tag){case 1:if("function"==typeof(p=g.payload)){h=p.call(f,h,d);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(d="function"==typeof(p=g.payload)?p.call(f,h,d):p))break t;h=$t({},h,d);break t;case 2:zs=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(d=r.effects)?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,s|=d;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(d=a).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===c&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,null!==(e=r.shared.interleaved)){r=e;do{s|=r.lane,r=r.next}while(r!==e)}else null===o&&(r.shared.lanes=0);Du|=s,t.lanes=s,t.memoizedState=h}}function qs(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!=typeof r)throw Error(lt(191,r));r.call(i)}}}var Xs={},Ks=To(Xs),Zs=To(Xs),Ys=To(Xs);function Js(t){if(t===Xs)throw Error(lt(174));return t}function Qs(t,e){switch(Ro(Ys,e),Ro(Zs,t),Ro(Ks,Xs),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:he(null,"");break;default:e=he(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Po(Ks),Ro(Ks,e)}function ta(){Po(Ks),Po(Zs),Po(Ys)}function ea(t){Js(Ys.current);var e=Js(Ks.current),n=he(e,t.type);e!==n&&(Ro(Zs,t),Ro(Ks,n))}function na(t){Zs.current===t&&(Po(Ks),Po(Zs))}var ia=To(0);function ra(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(128&e.flags)return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var oa=[];function sa(){for(var t=0;t<oa.length;t++)oa[t]._workInProgressVersionPrimary=null;oa.length=0}var aa=St.ReactCurrentDispatcher,la=St.ReactCurrentBatchConfig,ua=0,ca=null,ha=null,da=null,fa=!1,pa=!1,ga=0,ma=0;function ya(){throw Error(lt(321))}function va(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cr(t[n],e[n]))return!1;return!0}function _a(t,e,n,i,r,o){if(ua=o,ca=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,aa.current=null===t||null===t.memoizedState?nl:il,t=n(i,r),pa){o=0;do{if(pa=!1,ga=0,25<=o)throw Error(lt(301));o+=1,da=ha=null,e.updateQueue=null,aa.current=rl,t=n(i,r)}while(pa)}if(aa.current=el,e=null!==ha&&null!==ha.next,ua=0,da=ha=ca=null,fa=!1,e)throw Error(lt(300));return t}function xa(){var t=0!==ga;return ga=0,t}function ba(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===da?ca.memoizedState=da=t:da=da.next=t,da}function wa(){if(null===ha){var t=ca.alternate;t=null!==t?t.memoizedState:null}else t=ha.next;var e=null===da?ca.memoizedState:da.next;if(null!==e)da=e,ha=t;else{if(null===t)throw Error(lt(310));t={memoizedState:(ha=t).memoizedState,baseState:ha.baseState,baseQueue:ha.baseQueue,queue:ha.queue,next:null},null===da?ca.memoizedState=da=t:da=da.next=t}return da}function Sa(t,e){return"function"==typeof e?e(t):e}function Ea(t){var e=wa(),n=e.queue;if(null===n)throw Error(lt(311));n.lastRenderedReducer=t;var i=ha,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,i=i.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((ua&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(a=l=h,s=i):l=l.next=h,ca.lanes|=c,Du|=c}u=u.next}while(null!==u&&u!==o);null===l?s=i:l.next=a,cr(i,e.memoizedState)||(wl=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=l,n.lastRenderedState=i}if(null!==(t=n.interleaved)){r=t;do{o=r.lane,ca.lanes|=o,Du|=o,r=r.next}while(r!==t)}else null===r&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ca(t){var e=wa(),n=e.queue;if(null===n)throw Error(lt(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{o=t(o,s.action),s=s.next}while(s!==r);cr(o,e.memoizedState)||(wl=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function Ma(){}function ka(t,e){var n=ca,i=wa(),r=e(),o=!cr(i.memoizedState,r);if(o&&(i.memoizedState=r,wl=!0),i=i.queue,za(Ra.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||null!==da&&1&da.memoizedState.tag){if(n.flags|=2048,La(9,Pa.bind(null,n,i,r,e),void 0,null),null===Iu)throw Error(lt(349));30&ua||Ta(n,e,r)}return r}function Ta(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=ca.updateQueue)?(e={lastEffect:null,stores:null},ca.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Pa(t,e,n,i){e.value=n,e.getSnapshot=i,Ia(e)&&Oa(t)}function Ra(t,e,n){return n((function(){Ia(e)&&Oa(t)}))}function Ia(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cr(t,n)}catch(i){return!0}}function Oa(t){var e=Ds(t,1);null!==e&&rc(e,t,1,-1)}function Fa(t){var e=ba();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:t},e.queue=t,t=t.dispatch=Ya.bind(null,ca,t),[e.memoizedState,t]}function La(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=ca.updateQueue)?(e={lastEffect:null,stores:null},ca.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Aa(){return wa().memoizedState}function ja(t,e,n,i){var r=ba();ca.flags|=t,r.memoizedState=La(1|e,n,void 0,void 0===i?null:i)}function Na(t,e,n,i){var r=wa();i=void 0===i?null:i;var o=void 0;if(null!==ha){var s=ha.memoizedState;if(o=s.destroy,null!==i&&va(i,s.deps))return void(r.memoizedState=La(e,n,o,i))}ca.flags|=t,r.memoizedState=La(1|e,n,o,i)}function Da(t,e){return ja(8390656,8,t,e)}function za(t,e){return Na(2048,8,t,e)}function $a(t,e){return Na(4,2,t,e)}function Ba(t,e){return Na(4,4,t,e)}function Wa(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ga(t,e,n){return n=null!=n?n.concat([t]):null,Na(4,4,Wa.bind(null,e,t),n)}function Ua(){}function Ha(t,e){var n=wa();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&va(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Va(t,e){var n=wa();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&va(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function qa(t,e,n){return 21&ua?(cr(n,e)||(n=_n(),ca.lanes|=n,Du|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wl=!0),t.memoizedState=n)}function Xa(t,e){var n=Sn;Sn=0!==n&&4>n?n:4,t(!0);var i=la.transition;la.transition={};try{t(!1),e()}finally{Sn=n,la.transition=i}}function Ka(){return wa().memoizedState}function Za(t,e,n){var i=ic(t);n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Ja(t)?Qa(e,n):null!==(n=Ns(t,e,n,i))&&(rc(n,t,i,nc()),tl(n,e,i))}function Ya(t,e,n){var i=ic(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ja(t))Qa(e,r);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var s=e.lastRenderedState,a=o(s,n);if(r.hasEagerState=!0,r.eagerState=a,cr(a,s)){var l=e.interleaved;return null===l?(r.next=r,js(e)):(r.next=l.next,l.next=r),void(e.interleaved=r)}}catch(u){}null!==(n=Ns(t,e,r,i))&&(rc(n,t,i,r=nc()),tl(n,e,i))}}function Ja(t){var e=t.alternate;return t===ca||null!==e&&e===ca}function Qa(t,e){pa=fa=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tl(t,e,n){if(4194240&n){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,wn(t,n)}}var el={readContext:Ls,useCallback:ya,useContext:ya,useEffect:ya,useImperativeHandle:ya,useInsertionEffect:ya,useLayoutEffect:ya,useMemo:ya,useReducer:ya,useRef:ya,useState:ya,useDebugValue:ya,useDeferredValue:ya,useTransition:ya,useMutableSource:ya,useSyncExternalStore:ya,useId:ya,unstable_isNewReconciler:!1},nl={readContext:Ls,useCallback:function(t,e){return ba().memoizedState=[t,void 0===e?null:e],t},useContext:Ls,useEffect:Da,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,ja(4194308,4,Wa.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ja(4194308,4,t,e)},useInsertionEffect:function(t,e){return ja(4,2,t,e)},useMemo:function(t,e){var n=ba();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=ba();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=Za.bind(null,ca,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},ba().memoizedState=t},useState:Fa,useDebugValue:Ua,useDeferredValue:function(t){return ba().memoizedState=t},useTransition:function(){var t=Fa(!1),e=t[0];return t=Xa.bind(null,t[1]),ba().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=ca,r=ba();if(ls){if(void 0===n)throw Error(lt(407));n=n()}else{if(n=e(),null===Iu)throw Error(lt(349));30&ua||Ta(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,Da(Ra.bind(null,i,o,t),[t]),i.flags|=2048,La(9,Pa.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=ba(),e=Iu.identifierPrefix;if(ls){var n=es;e=":"+e+"R"+(n=(ts&~(1<<32-cn(ts)-1)).toString(32)+n),0<(n=ga++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=ma++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},il={readContext:Ls,useCallback:Ha,useContext:Ls,useEffect:za,useImperativeHandle:Ga,useInsertionEffect:$a,useLayoutEffect:Ba,useMemo:Va,useReducer:Ea,useRef:Aa,useState:function(){return Ea(Sa)},useDebugValue:Ua,useDeferredValue:function(t){return qa(wa(),ha.memoizedState,t)},useTransition:function(){return[Ea(Sa)[0],wa().memoizedState]},useMutableSource:Ma,useSyncExternalStore:ka,useId:Ka,unstable_isNewReconciler:!1},rl={readContext:Ls,useCallback:Ha,useContext:Ls,useEffect:za,useImperativeHandle:Ga,useInsertionEffect:$a,useLayoutEffect:Ba,useMemo:Va,useReducer:Ca,useRef:Aa,useState:function(){return Ca(Sa)},useDebugValue:Ua,useDeferredValue:function(t){var e=wa();return null===ha?e.memoizedState=t:qa(e,ha.memoizedState,t)},useTransition:function(){return[Ca(Sa)[0],wa().memoizedState]},useMutableSource:Ma,useSyncExternalStore:ka,useId:Ka,unstable_isNewReconciler:!1};function ol(t,e){if(t&&t.defaultProps){for(var n in e=$t({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function sl(t,e,n,i){n=null==(n=n(i,e=t.memoizedState))?e:$t({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var al={isMounted:function(t){return!!(t=t._reactInternals)&&He(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=nc(),r=ic(t),o=Ws(i,r);o.payload=e,null!=n&&(o.callback=n),null!==(e=Gs(t,o,r))&&(rc(e,t,r,i),Us(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=nc(),r=ic(t),o=Ws(i,r);o.tag=1,o.payload=e,null!=n&&(o.callback=n),null!==(e=Gs(t,o,r))&&(rc(e,t,r,i),Us(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nc(),i=ic(t),r=Ws(n,i);r.tag=2,null!=e&&(r.callback=e),null!==(e=Gs(t,r,i))&&(rc(e,t,i,n),Us(e,t,i))}};function ll(t,e,n,i,r,o,s){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,o,s):!(e.prototype&&e.prototype.isPureReactComponent&&hr(n,i)&&hr(r,o))}function ul(t,e,n){var i=!1,r=Io,o=e.contextType;return"object"==typeof o&&null!==o?o=Ls(o):(r=jo(e)?Lo:Oo.current,o=(i=null!=(i=e.contextTypes))?Ao(t,r):Io),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=al,t.stateNode=e,e._reactInternals=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function cl(t,e,n,i){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&al.enqueueReplaceState(e,e.state,null)}function hl(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},$s(t);var o=e.contextType;"object"==typeof o&&null!==o?r.context=Ls(o):(o=jo(e)?Lo:Oo.current,r.context=Ao(t,o)),r.state=t.memoizedState,"function"==typeof(o=e.getDerivedStateFromProps)&&(sl(t,e,o,n),r.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(e=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&al.enqueueReplaceState(r,r.state,null),Vs(t,n,r,i),r.state=t.memoizedState),"function"==typeof r.componentDidMount&&(t.flags|=4194308)}function dl(t,e){try{var n="",i=e;do{n+=Ut(i),i=i.return}while(i);var r=n}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:r,digest:null}}function fl(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function pl(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var gl="function"==typeof WeakMap?WeakMap:Map;function ml(t,e,n){(n=Ws(-1,n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Vu||(Vu=!0,qu=i),pl(0,e)},n}function yl(t,e,n){(n=Ws(-1,n)).tag=3;var i=t.type.getDerivedStateFromError;if("function"==typeof i){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){pl(0,e)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){pl(0,e),"function"!=typeof i&&(null===Xu?Xu=new Set([this]):Xu.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function vl(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new gl;var r=new Set;i.set(e,r)}else void 0===(r=i.get(e))&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=kc.bind(null,t,e,n),e.then(t,t))}function _l(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function xl(t,e,n,i,r){return 1&t.mode?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Ws(-1,1)).tag=2,Gs(n,e,1))),n.lanes|=1),t)}var bl=St.ReactCurrentOwner,wl=!1;function Sl(t,e,n,i){e.child=null===t?Cs(e,null,n,i):Es(e,t.child,n,i)}function El(t,e,n,i,r){n=n.render;var o=e.ref;return Fs(e,r),i=_a(t,e,n,i,o,r),n=xa(),null===t||wl?(ls&&n&&rs(e),e.flags|=1,Sl(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Vl(t,e,r))}function Cl(t,e,n,i,r){if(null===t){var o=n.type;return"function"!=typeof o||Lc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=jc(n.type,null,i,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Ml(t,e,o,i,r))}if(o=t.child,!(t.lanes&r)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:hr)(s,i)&&t.ref===e.ref)return Vl(t,e,r)}return e.flags|=1,(t=Ac(o,i)).ref=e.ref,t.return=e,e.child=t}function Ml(t,e,n,i,r){if(null!==t){var o=t.memoizedProps;if(hr(o,i)&&t.ref===e.ref){if(wl=!1,e.pendingProps=i=o,!(t.lanes&r))return e.lanes=t.lanes,Vl(t,e,r);131072&t.flags&&(wl=!0)}}return Pl(t,e,n,i,r)}function kl(t,e,n){var i=e.pendingProps,r=i.children,o=null!==t?t.memoizedState:null;if("hidden"===i.mode)if(1&e.mode){if(!(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ro(Au,Lu),Lu|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==o?o.baseLanes:n,Ro(Au,Lu),Lu|=i}else e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ro(Au,Lu),Lu|=n;else null!==o?(i=o.baseLanes|n,e.memoizedState=null):i=n,Ro(Au,Lu),Lu|=i;return Sl(t,e,r,n),e.child}function Tl(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pl(t,e,n,i,r){var o=jo(n)?Lo:Oo.current;return o=Ao(e,o),Fs(e,r),n=_a(t,e,n,i,o,r),i=xa(),null===t||wl?(ls&&i&&rs(e),e.flags|=1,Sl(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Vl(t,e,r))}function Rl(t,e,n,i,r){if(jo(n)){var o=!0;$o(e)}else o=!1;if(Fs(e,r),null===e.stateNode)Hl(t,e),ul(e,n,i),hl(e,n,i,r),i=!0;else if(null===t){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;u="object"==typeof u&&null!==u?Ls(u):Ao(e,u=jo(n)?Lo:Oo.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==i||l!==u)&&cl(e,s,i,u),zs=!1;var d=e.memoizedState;s.state=d,Vs(e,i,s,r),l=e.memoizedState,a!==i||d!==l||Fo.current||zs?("function"==typeof c&&(sl(e,n,c,i),l=e.memoizedState),(a=zs||ll(e,n,a,i,d,l,u))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(e.flags|=4194308)):("function"==typeof s.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),s.props=i,s.state=l,s.context=u,i=a):("function"==typeof s.componentDidMount&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,Bs(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ol(e.type,a),s.props=u,h=e.pendingProps,d=s.context,l="object"==typeof(l=n.contextType)&&null!==l?Ls(l):Ao(e,l=jo(n)?Lo:Oo.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==h||d!==l)&&cl(e,s,i,l),zs=!1,d=e.memoizedState,s.state=d,Vs(e,i,s,r);var p=e.memoizedState;a!==h||d!==p||Fo.current||zs?("function"==typeof f&&(sl(e,n,f,i),p=e.memoizedState),(u=zs||ll(e,n,u,i,d,p,l)||!1)?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(i,p,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,p,l)),"function"==typeof s.componentDidUpdate&&(e.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),s.props=i,s.state=p,s.context=l,i=u):("function"!=typeof s.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return Il(t,e,n,i,o,r)}function Il(t,e,n,i,r,o){Tl(t,e);var s=!!(128&e.flags);if(!i&&!s)return r&&Bo(e,n,!1),Vl(t,e,o);i=e.stateNode,bl.current=e;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return e.flags|=1,null!==t&&s?(e.child=Es(e,t.child,null,o),e.child=Es(e,null,a,o)):Sl(t,e,a,o),e.memoizedState=i.state,r&&Bo(e,n,!0),e.child}function Ol(t){var e=t.stateNode;e.pendingContext?Do(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Do(0,e.context,!1),Qs(t,e.containerInfo)}function Fl(t,e,n,i,r){return ys(),vs(r),e.flags|=256,Sl(t,e,n,i),e.child}var Ll,Al,jl,Nl={dehydrated:null,treeContext:null,retryLane:0};function Dl(t){return{baseLanes:t,cachePool:null,transitions:null}}function zl(t,e,n){var i,r=e.pendingProps,o=ia.current,s=!1,a=!!(128&e.flags);if((i=a)||(i=(null===t||null!==t.memoizedState)&&!!(2&o)),i?(s=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(o|=1),Ro(ia,1&o),null===t)return fs(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(1&e.mode?"$!"===t.data?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},1&r||null===s?s=Dc(a,r,0,null):(s.childLanes=0,s.pendingProps=a),t=Nc(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Dl(n),e.memoizedState=Nl,t):$l(e,a));if(null!==(o=t.memoizedState)&&null!==(i=o.dehydrated))return function(t,e,n,i,r,o,s){if(n)return 256&e.flags?(e.flags&=-257,Bl(t,e,s,i=fl(Error(lt(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=Dc({mode:"visible",children:i.children},r,0,null),(o=Nc(o,r,s,null)).flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,1&e.mode&&Es(e,t.child,null,s),e.child.memoizedState=Dl(s),e.memoizedState=Nl,o);if(!(1&e.mode))return Bl(t,e,s,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var a=i.dgst;return i=a,Bl(t,e,s,i=fl(o=Error(lt(419)),i,void 0))}if(a=!!(s&t.childLanes),wl||a){if(null!==(i=Iu)){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=r&(i.suspendedLanes|s)?0:r)&&r!==o.retryLane&&(o.retryLane=r,Ds(t,r),rc(i,t,r,-1))}return yc(),Bl(t,e,s,i=fl(Error(lt(421))))}return"$?"===r.data?(e.flags|=128,e.child=t.child,e=Pc.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,as=fo(r.nextSibling),ss=e,ls=!0,us=null,null!==t&&(Yo[Jo++]=ts,Yo[Jo++]=es,Yo[Jo++]=Qo,ts=t.id,es=t.overflow,Qo=e),(e=$l(e,i.children)).flags|=4096,e)}(t,e,a,r,i,o,n);if(s){s=r.fallback,a=e.mode,i=(o=t.child).sibling;var l={mode:"hidden",children:r.children};return 1&a||e.child===o?(r=Ac(o,l)).subtreeFlags=14680064&o.subtreeFlags:((r=e.child).childLanes=0,r.pendingProps=l,e.deletions=null),null!==i?s=Ac(i,s):(s=Nc(s,a,n,null)).flags|=2,s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=null===(a=t.child.memoizedState)?Dl(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=Nl,r}return t=(s=t.child).sibling,r=Ac(s,{mode:"visible",children:r.children}),!(1&e.mode)&&(r.lanes=n),r.return=e,r.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $l(t,e){return(e=Dc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Bl(t,e,n,i){return null!==i&&vs(i),Es(e,t.child,null,n),(t=$l(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Wl(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),Os(t.return,e,n)}function Gl(t,e,n,i,r){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function Ul(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(Sl(t,e,i.children,n),2&(i=ia.current))i=1&i|2,e.flags|=128;else{if(null!==t&&128&t.flags)t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Wl(t,n,e);else if(19===t.tag)Wl(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Ro(ia,i),1&e.mode)switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===ra(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Gl(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===ra(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Gl(e,!0,n,null,o);break;case"together":Gl(e,!1,null,null,void 0);break;default:e.memoizedState=null}else e.memoizedState=null;return e.child}function Hl(t,e){!(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vl(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Du|=e.lanes,!(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(lt(153));if(null!==e.child){for(n=Ac(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Ac(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function ql(t,e){if(!ls)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Xl(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Kl(t,e,n){var i=e.pendingProps;switch(os(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xl(e),null;case 1:case 17:return jo(e.type)&&No(),Xl(e),null;case 3:return i=e.stateNode,ta(),Po(Fo),Po(Oo),sa(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||(gs(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&!(256&e.flags)||(e.flags|=1024,null!==us&&(lc(us),us=null))),Xl(e),null;case 5:na(e);var r=Js(Ys.current);if(n=e.type,null!==t&&null!=e.stateNode)Al(t,e,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(null===e.stateNode)throw Error(lt(166));return Xl(e),null}if(t=Js(Ks.current),gs(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[mo]=e,i[yo]=o,t=!!(1&e.mode),n){case"dialog":Wr("cancel",i),Wr("close",i);break;case"iframe":case"object":case"embed":Wr("load",i);break;case"video":case"audio":for(r=0;r<Dr.length;r++)Wr(Dr[r],i);break;case"source":Wr("error",i);break;case"img":case"image":case"link":Wr("error",i),Wr("load",i);break;case"details":Wr("toggle",i);break;case"input":Qt(i,o),Wr("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Wr("invalid",i);break;case"textarea":ae(i,o),Wr("invalid",i)}for(var s in be(n,o),r=null,o)if(o.hasOwnProperty(s)){var a=o[s];"children"===s?"string"==typeof a?i.textContent!==a&&(!0!==o.suppressHydrationWarning&&eo(i.textContent,a,t),r=["children",a]):"number"==typeof a&&i.textContent!==""+a&&(!0!==o.suppressHydrationWarning&&eo(i.textContent,a,t),r=["children",""+a]):ct.hasOwnProperty(s)&&null!=a&&"onScroll"===s&&Wr("scroll",i)}switch(n){case"input":Kt(i),ne(i,o,!0);break;case"textarea":Kt(i),ue(i);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(i.onclick=no)}i=r,e.updateQueue=i,null!==i&&(e.flags|=4)}else{s=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=ce(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=s.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof i.is?t=s.createElement(n,{is:i.is}):(t=s.createElement(n),"select"===n&&(s=t,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):t=s.createElementNS(t,n),t[mo]=e,t[yo]=i,Ll(t,e),e.stateNode=t;t:{switch(s=we(n,i),n){case"dialog":Wr("cancel",t),Wr("close",t),r=i;break;case"iframe":case"object":case"embed":Wr("load",t),r=i;break;case"video":case"audio":for(r=0;r<Dr.length;r++)Wr(Dr[r],t);r=i;break;case"source":Wr("error",t),r=i;break;case"img":case"image":case"link":Wr("error",t),Wr("load",t),r=i;break;case"details":Wr("toggle",t),r=i;break;case"input":Qt(t,i),r=Jt(t,i),Wr("invalid",t);break;case"option":default:r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=$t({},i,{value:void 0}),Wr("invalid",t);break;case"textarea":ae(t,i),r=se(t,i),Wr("invalid",t)}for(o in be(n,r),a=r)if(a.hasOwnProperty(o)){var l=a[o];"style"===o?_e(t,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&pe(t,l):"children"===o?"string"==typeof l?("textarea"!==n||""!==l)&&ge(t,l):"number"==typeof l&&ge(t,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(ct.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Wr("scroll",t):null!=l&&wt(t,o,l,s))}switch(n){case"input":Kt(t),ne(t,i,!1);break;case"textarea":Kt(t),ue(t);break;case"option":null!=i.value&&t.setAttribute("value",""+qt(i.value));break;case"select":t.multiple=!!i.multiple,null!=(o=i.value)?oe(t,!!i.multiple,o,!1):null!=i.defaultValue&&oe(t,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof r.onClick&&(t.onclick=no)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Xl(e),null;case 6:if(t&&null!=e.stateNode)jl(0,e,t.memoizedProps,i);else{if("string"!=typeof i&&null===e.stateNode)throw Error(lt(166));if(n=Js(Ys.current),Js(Ks.current),gs(e)){if(i=e.stateNode,n=e.memoizedProps,i[mo]=e,(o=i.nodeValue!==n)&&null!==(t=ss))switch(t.tag){case 3:eo(i.nodeValue,n,!!(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&eo(i.nodeValue,n,!!(1&t.mode))}o&&(e.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[mo]=e,e.stateNode=i}return Xl(e),null;case 13:if(Po(ia),i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(ls&&null!==as&&1&e.mode&&!(128&e.flags))ms(),ys(),e.flags|=98560,o=!1;else if(o=gs(e),null!==i&&null!==i.dehydrated){if(null===t){if(!o)throw Error(lt(318));if(!(o=null!==(o=e.memoizedState)?o.dehydrated:null))throw Error(lt(317));o[mo]=e}else ys(),!(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Xl(e),o=!1}else null!==us&&(lc(us),us=null),o=!0;if(!o)return 65536&e.flags?e:null}return 128&e.flags?(e.lanes=n,e):((i=null!==i)!=(null!==t&&null!==t.memoizedState)&&i&&(e.child.flags|=8192,1&e.mode&&(null===t||1&ia.current?0===ju&&(ju=3):yc())),null!==e.updateQueue&&(e.flags|=4),Xl(e),null);case 4:return ta(),null===t&&Hr(e.stateNode.containerInfo),Xl(e),null;case 10:return Is(e.type._context),Xl(e),null;case 19:if(Po(ia),null===(o=e.memoizedState))return Xl(e),null;if(i=!!(128&e.flags),null===(s=o.rendering))if(i)ql(o,!1);else{if(0!==ju||null!==t&&128&t.flags)for(t=e.child;null!==t;){if(null!==(s=ra(t))){for(e.flags|=128,ql(o,!1),null!==(i=s.updateQueue)&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;null!==n;)t=i,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ro(ia,1&ia.current|2),e.child}t=t.sibling}null!==o.tail&&tn()>Uu&&(e.flags|=128,i=!0,ql(o,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=ra(s))){if(e.flags|=128,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),ql(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ls)return Xl(e),null}else 2*tn()-o.renderingStartTime>Uu&&1073741824!==n&&(e.flags|=128,i=!0,ql(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(null!==(n=o.last)?n.sibling=s:e.child=s,o.last=s)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,n=ia.current,Ro(ia,i?1&n|2:1&n),e):(Xl(e),null);case 22:case 23:return fc(),i=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==i&&(e.flags|=8192),i&&1&e.mode?!!(1073741824&Lu)&&(Xl(e),6&e.subtreeFlags&&(e.flags|=8192)):Xl(e),null;case 24:case 25:return null}throw Error(lt(156,e.tag))}function Zl(t,e){switch(os(e),e.tag){case 1:return jo(e.type)&&No(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return ta(),Po(Fo),Po(Oo),sa(),65536&(t=e.flags)&&!(128&t)?(e.flags=-65537&t|128,e):null;case 5:return na(e),null;case 13:if(Po(ia),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(lt(340));ys()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Po(ia),null;case 4:return ta(),null;case 10:return Is(e.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ll=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Al=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Js(Ks.current);var o,s=null;switch(n){case"input":r=Jt(t,r),i=Jt(t,i),s=[];break;case"select":r=$t({},r,{value:void 0}),i=$t({},i,{value:void 0}),s=[];break;case"textarea":r=se(t,r),i=se(t,i),s=[];break;default:"function"!=typeof r.onClick&&"function"==typeof i.onClick&&(t.onclick=no)}for(u in be(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(ct.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(null!=l||null!=a))if("style"===u)if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,a=a?a.__html:void 0,null!=l&&a!==l&&(s=s||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(ct.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Wr("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}},jl=function(t,e,n,i){n!==i&&(e.flags|=4)};var Yl=!1,Jl=!1,Ql="function"==typeof WeakSet?WeakSet:Set,tu=null;function eu(t,e){var n=t.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(i){Mc(t,e,i)}else n.current=null}function nu(t,e,n){try{n()}catch(i){Mc(t,e,i)}}var iu=!1;function ru(t,e,n){var i=e.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,void 0!==o&&nu(e,n,o)}r=r.next}while(r!==i)}}function ou(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function su(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"==typeof e?e(t):e.current=t}}function au(t){var e=t.alternate;null!==e&&(t.alternate=null,au(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(e=t.stateNode)&&(delete e[mo],delete e[yo],delete e[_o],delete e[xo],delete e[bo]),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lu(t){return 5===t.tag||3===t.tag||4===t.tag}function uu(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||lu(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function cu(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!=(n=n._reactRootContainer)||null!==e.onclick||(e.onclick=no));else if(4!==i&&null!==(t=t.child))for(cu(t,e,n),t=t.sibling;null!==t;)cu(t,e,n),t=t.sibling}function hu(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(hu(t,e,n),t=t.sibling;null!==t;)hu(t,e,n),t=t.sibling}var du=null,fu=!1;function pu(t,e,n){for(n=n.child;null!==n;)gu(t,e,n),n=n.sibling}function gu(t,e,n){if(un&&"function"==typeof un.onCommitFiberUnmount)try{un.onCommitFiberUnmount(ln,n)}catch(a){}switch(n.tag){case 5:Jl||eu(n,e);case 6:var i=du,r=fu;du=null,pu(t,e,n),fu=r,null!==(du=i)&&(fu?(t=du,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):du.removeChild(n.stateNode));break;case 18:null!==du&&(fu?(t=du,n=n.stateNode,8===t.nodeType?ho(t.parentNode,n):1===t.nodeType&&ho(t,n),Vn(t)):ho(du,n.stateNode));break;case 4:i=du,r=fu,du=n.stateNode.containerInfo,fu=!0,pu(t,e,n),du=i,fu=r;break;case 0:case 11:case 14:case 15:if(!Jl&&null!==(i=n.updateQueue)&&null!==(i=i.lastEffect)){r=i=i.next;do{var o=r,s=o.destroy;o=o.tag,void 0!==s&&(2&o||4&o)&&nu(n,e,s),r=r.next}while(r!==i)}pu(t,e,n);break;case 1:if(!Jl&&(eu(n,e),"function"==typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Mc(n,e,a)}pu(t,e,n);break;case 21:pu(t,e,n);break;case 22:1&n.mode?(Jl=(i=Jl)||null!==n.memoizedState,pu(t,e,n),Jl=i):pu(t,e,n);break;default:pu(t,e,n)}}function mu(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Ql),e.forEach((function(e){var i=Rc.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}}function yu(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,s=e,a=s;t:for(;null!==a;){switch(a.tag){case 5:du=a.stateNode,fu=!1;break t;case 3:case 4:du=a.stateNode.containerInfo,fu=!0;break t}a=a.return}if(null===du)throw Error(lt(160));gu(o,s,r),du=null,fu=!1;var l=r.alternate;null!==l&&(l.return=null),r.return=null}catch(u){Mc(r,e,u)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)vu(e,t),e=e.sibling}function vu(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yu(e,t),_u(t),4&i){try{ru(3,t,t.return),ou(3,t)}catch(g){Mc(t,t.return,g)}try{ru(5,t,t.return)}catch(g){Mc(t,t.return,g)}}break;case 1:yu(e,t),_u(t),512&i&&null!==n&&eu(n,n.return);break;case 5:if(yu(e,t),_u(t),512&i&&null!==n&&eu(n,n.return),32&t.flags){var r=t.stateNode;try{ge(r,"")}catch(g){Mc(t,t.return,g)}}if(4&i&&null!=(r=t.stateNode)){var o=t.memoizedProps,s=null!==n?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,null!==l)try{"input"===a&&"radio"===o.type&&null!=o.name&&te(r,o),we(a,s);var u=we(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];"style"===c?_e(r,h):"dangerouslySetInnerHTML"===c?pe(r,h):"children"===c?ge(r,h):wt(r,c,h,u)}switch(a){case"input":ee(r,o);break;case"textarea":le(r,o);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?oe(r,!!o.multiple,f,!1):d!==!!o.multiple&&(null!=o.defaultValue?oe(r,!!o.multiple,o.defaultValue,!0):oe(r,!!o.multiple,o.multiple?[]:"",!1))}r[yo]=o}catch(g){Mc(t,t.return,g)}}break;case 6:if(yu(e,t),_u(t),4&i){if(null===t.stateNode)throw Error(lt(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(g){Mc(t,t.return,g)}}break;case 3:if(yu(e,t),_u(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Vn(e.containerInfo)}catch(g){Mc(t,t.return,g)}break;case 4:default:yu(e,t),_u(t);break;case 13:yu(e,t),_u(t),8192&(r=t.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(Gu=tn())),4&i&&mu(t);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&t.mode?(Jl=(u=Jl)||c,yu(e,t),Jl=u):yu(e,t),_u(t),8192&i){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!c&&1&t.mode)for(tu=t,c=t.child;null!==c;){for(h=tu=c;null!==tu;){switch(f=(d=tu).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var p=d.stateNode;if("function"==typeof p.componentWillUnmount){i=d,n=d.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){Mc(i,n,g)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){Su(h);continue}}null!==f?(f.return=d,tu=f):Su(h)}c=c.sibling}t:for(c=null,h=t;;){if(5===h.tag){if(null===c){c=h;try{r=h.stateNode,u?"function"==typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(a=h.stateNode,s=null!=(l=h.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,a.style.display=ve("display",s))}catch(g){Mc(t,t.return,g)}}}else if(6===h.tag){if(null===c)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Mc(t,t.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===t)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===t)break t;for(;null===h.sibling;){if(null===h.return||h.return===t)break t;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yu(e,t),_u(t),4&i&&mu(t);case 21:}}function _u(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(lu(n)){var i=n;break t}n=n.return}throw Error(lt(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(ge(r,""),i.flags&=-33),hu(t,uu(t),r);break;case 3:case 4:var o=i.stateNode.containerInfo;cu(t,uu(t),o);break;default:throw Error(lt(161))}}catch(s){Mc(t,t.return,s)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function xu(t,e,n){tu=t,bu(t)}function bu(t,e,n){for(var i=!!(1&t.mode);null!==tu;){var r=tu,o=r.child;if(22===r.tag&&i){var s=null!==r.memoizedState||Yl;if(!s){var a=r.alternate,l=null!==a&&null!==a.memoizedState||Jl;a=Yl;var u=Jl;if(Yl=s,(Jl=l)&&!u)for(tu=r;null!==tu;)l=(s=tu).child,22===s.tag&&null!==s.memoizedState?Eu(r):null!==l?(l.return=s,tu=l):Eu(r);for(;null!==o;)tu=o,bu(o),o=o.sibling;tu=r,Yl=a,Jl=u}wu(t)}else 8772&r.subtreeFlags&&null!==o?(o.return=r,tu=o):wu(t)}}function wu(t){for(;null!==tu;){var e=tu;if(8772&e.flags){var n=e.alternate;try{if(8772&e.flags)switch(e.tag){case 0:case 11:case 15:Jl||ou(5,e);break;case 1:var i=e.stateNode;if(4&e.flags&&!Jl)if(null===n)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:ol(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;null!==o&&qs(e,o,i);break;case 3:var s=e.updateQueue;if(null!==s){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}qs(e,s,n)}break;case 5:var a=e.stateNode;if(null===n&&4&e.flags){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var h=c.dehydrated;null!==h&&Vn(h)}}}break;default:throw Error(lt(163))}Jl||512&e.flags&&su(e)}catch(d){Mc(e,e.return,d)}}if(e===t){tu=null;break}if(null!==(n=e.sibling)){n.return=e.return,tu=n;break}tu=e.return}}function Su(t){for(;null!==tu;){var e=tu;if(e===t){tu=null;break}var n=e.sibling;if(null!==n){n.return=e.return,tu=n;break}tu=e.return}}function Eu(t){for(;null!==tu;){var e=tu;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ou(4,e)}catch(l){Mc(e,n,l)}break;case 1:var i=e.stateNode;if("function"==typeof i.componentDidMount){var r=e.return;try{i.componentDidMount()}catch(l){Mc(e,r,l)}}var o=e.return;try{su(e)}catch(l){Mc(e,o,l)}break;case 5:var s=e.return;try{su(e)}catch(l){Mc(e,s,l)}}}catch(l){Mc(e,e.return,l)}if(e===t){tu=null;break}var a=e.sibling;if(null!==a){a.return=e.return,tu=a;break}tu=e.return}}var Cu,Mu=Math.ceil,ku=St.ReactCurrentDispatcher,Tu=St.ReactCurrentOwner,Pu=St.ReactCurrentBatchConfig,Ru=0,Iu=null,Ou=null,Fu=0,Lu=0,Au=To(0),ju=0,Nu=null,Du=0,zu=0,$u=0,Bu=null,Wu=null,Gu=0,Uu=1/0,Hu=null,Vu=!1,qu=null,Xu=null,Ku=!1,Zu=null,Yu=0,Ju=0,Qu=null,tc=-1,ec=0;function nc(){return 6&Ru?tn():-1!==tc?tc:tc=tn()}function ic(t){return 1&t.mode?2&Ru&&0!==Fu?Fu&-Fu:null!==_s.transition?(0===ec&&(ec=_n()),ec):0!==(t=Sn)?t:t=void 0===(t=window.event)?16:ti(t.type):1}function rc(t,e,n,i){if(50<Ju)throw Ju=0,Qu=null,Error(lt(185));bn(t,n,i),2&Ru&&t===Iu||(t===Iu&&(!(2&Ru)&&(zu|=n),4===ju&&uc(t,Fu)),oc(t,i),1===n&&0===Ru&&!(1&e.mode)&&(Uu=tn()+500,Go&&Vo()))}function oc(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-cn(o),a=1<<s,l=r[s];-1===l?a&n&&!(a&i)||(r[s]=yn(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}(t,e);var i=mn(t,t===Iu?Fu:0);if(0===i)null!==n&&Ye(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(null!=n&&Ye(n),1===e)0===t.tag?function(t){Go=!0,Ho(t)}(cc.bind(null,t)):Ho(cc.bind(null,t)),uo((function(){!(6&Ru)&&Vo()})),n=null;else{switch(En(i)){case 1:n=nn;break;case 4:n=rn;break;case 16:default:n=on;break;case 536870912:n=an}n=Ic(n,sc.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sc(t,e){if(tc=-1,ec=0,6&Ru)throw Error(lt(327));var n=t.callbackNode;if(Ec()&&t.callbackNode!==n)return null;var i=mn(t,t===Iu?Fu:0);if(0===i)return null;if(30&i||i&t.expiredLanes||e)e=vc(t,i);else{e=i;var r=Ru;Ru|=2;var o=mc();for(Iu===t&&Fu===e||(Hu=null,Uu=tn()+500,pc(t,e));;)try{xc();break}catch(a){gc(t,a)}Rs(),ku.current=o,Ru=r,null!==Ou?e=0:(Iu=null,Fu=0,e=ju)}if(0!==e){if(2===e&&0!==(r=vn(t))&&(i=r,e=ac(t,r)),1===e)throw n=Nu,pc(t,0),uc(t,i),oc(t,tn()),n;if(6===e)uc(t,i);else{if(r=t.current.alternate,!(30&i||function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!cr(o(),r))return!1}catch(s){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(r)||(e=vc(t,i),2===e&&(o=vn(t),0!==o&&(i=o,e=ac(t,o))),1!==e)))throw n=Nu,pc(t,0),uc(t,i),oc(t,tn()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(lt(345));case 2:case 5:Sc(t,Wu,Hu);break;case 3:if(uc(t,i),(130023424&i)===i&&10<(e=Gu+500-tn())){if(0!==mn(t,0))break;if(((r=t.suspendedLanes)&i)!==i){nc(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=so(Sc.bind(null,t,Wu,Hu),e);break}Sc(t,Wu,Hu);break;case 4:if(uc(t,i),(4194240&i)===i)break;for(e=t.eventTimes,r=-1;0<i;){var s=31-cn(i);o=1<<s,(s=e[s])>r&&(r=s),i&=~o}if(i=r,10<(i=(120>(i=tn()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Mu(i/1960))-i)){t.timeoutHandle=so(Sc.bind(null,t,Wu,Hu),i);break}Sc(t,Wu,Hu);break;default:throw Error(lt(329))}}}return oc(t,tn()),t.callbackNode===n?sc.bind(null,t):null}function ac(t,e){var n=Bu;return t.current.memoizedState.isDehydrated&&(pc(t,e).flags|=256),2!==(t=vc(t,e))&&(e=Wu,Wu=n,null!==e&&lc(e)),t}function lc(t){null===Wu?Wu=t:Wu.push.apply(Wu,t)}function uc(t,e){for(e&=~$u,e&=~zu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-cn(e),i=1<<n;t[n]=-1,e&=~i}}function cc(t){if(6&Ru)throw Error(lt(327));Ec();var e=mn(t,0);if(!(1&e))return oc(t,tn()),null;var n=vc(t,e);if(0!==t.tag&&2===n){var i=vn(t);0!==i&&(e=i,n=ac(t,i))}if(1===n)throw n=Nu,pc(t,0),uc(t,e),oc(t,tn()),n;if(6===n)throw Error(lt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Sc(t,Wu,Hu),oc(t,tn()),null}function hc(t,e){var n=Ru;Ru|=1;try{return t(e)}finally{0===(Ru=n)&&(Uu=tn()+500,Go&&Vo())}}function dc(t){null!==Zu&&0===Zu.tag&&!(6&Ru)&&Ec();var e=Ru;Ru|=1;var n=Pu.transition,i=Sn;try{if(Pu.transition=null,Sn=1,t)return t()}finally{Sn=i,Pu.transition=n,!(6&(Ru=e))&&Vo()}}function fc(){Lu=Au.current,Po(Au)}function pc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ao(n)),null!==Ou)for(n=Ou.return;null!==n;){var i=n;switch(os(i),i.tag){case 1:null!=(i=i.type.childContextTypes)&&No();break;case 3:ta(),Po(Fo),Po(Oo),sa();break;case 5:na(i);break;case 4:ta();break;case 13:case 19:Po(ia);break;case 10:Is(i.type._context);break;case 22:case 23:fc()}n=n.return}if(Iu=t,Ou=t=Ac(t.current,null),Fu=Lu=e,ju=0,Nu=null,$u=zu=Du=0,Wu=Bu=null,null!==As){for(e=0;e<As.length;e++)if(null!==(i=(n=As[e]).interleaved)){n.interleaved=null;var r=i.next,o=n.pending;if(null!==o){var s=o.next;o.next=r,i.next=s}n.pending=i}As=null}return t}function gc(t,e){for(;;){var n=Ou;try{if(Rs(),aa.current=el,fa){for(var i=ca.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}fa=!1}if(ua=0,da=ha=ca=null,pa=!1,ga=0,Tu.current=null,null===n||null===n.return){ju=1,Nu=e,Ou=null;break}t:{var o=t,s=n.return,a=n,l=e;if(e=Fu,a.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,c=a,h=c.tag;if(!(1&c.mode||0!==h&&11!==h&&15!==h)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=_l(s);if(null!==f){f.flags&=-257,xl(f,s,a,0,e),1&f.mode&&vl(o,u,e),l=u;var p=(e=f).updateQueue;if(null===p){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break t}if(!(1&e)){vl(o,u,e),yc();break t}l=Error(lt(426))}else if(ls&&1&a.mode){var m=_l(s);if(null!==m){!(65536&m.flags)&&(m.flags|=256),xl(m,s,a,0,e),vs(dl(l,a));break t}}o=l=dl(l,a),4!==ju&&(ju=2),null===Bu?Bu=[o]:Bu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e,Hs(o,ml(0,l,e));break t;case 1:a=l;var y=o.type,v=o.stateNode;if(!(128&o.flags||"function"!=typeof y.getDerivedStateFromError&&(null===v||"function"!=typeof v.componentDidCatch||null!==Xu&&Xu.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e,Hs(o,yl(o,a,e));break t}}o=o.return}while(null!==o)}wc(n)}catch(_){e=_,Ou===n&&null!==n&&(Ou=n=n.return);continue}break}}function mc(){var t=ku.current;return ku.current=el,null===t?el:t}function yc(){0!==ju&&3!==ju&&2!==ju||(ju=4),null===Iu||!(268435455&Du)&&!(268435455&zu)||uc(Iu,Fu)}function vc(t,e){var n=Ru;Ru|=2;var i=mc();for(Iu===t&&Fu===e||(Hu=null,pc(t,e));;)try{_c();break}catch(r){gc(t,r)}if(Rs(),Ru=n,ku.current=i,null!==Ou)throw Error(lt(261));return Iu=null,Fu=0,ju}function _c(){for(;null!==Ou;)bc(Ou)}function xc(){for(;null!==Ou&&!Je();)bc(Ou)}function bc(t){var e=Cu(t.alternate,t,Lu);t.memoizedProps=t.pendingProps,null===e?wc(t):Ou=e,Tu.current=null}function wc(t){var e=t;do{var n=e.alternate;if(t=e.return,32768&e.flags){if(null!==(n=Zl(n,e)))return n.flags&=32767,void(Ou=n);if(null===t)return ju=6,void(Ou=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}else if(null!==(n=Kl(n,e,Lu)))return void(Ou=n);if(null!==(e=e.sibling))return void(Ou=e);Ou=e=t}while(null!==e);0===ju&&(ju=5)}function Sc(t,e,n){var i=Sn,r=Pu.transition;try{Pu.transition=null,Sn=1,function(t,e,n,i){do{Ec()}while(null!==Zu);if(6&Ru)throw Error(lt(327));n=t.finishedWork;var r=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(lt(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-cn(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}(t,o),t===Iu&&(Ou=Iu=null,Fu=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Ku||(Ku=!0,Ic(on,(function(){return Ec(),null}))),o=!!(15990&n.flags),15990&n.subtreeFlags||o){o=Pu.transition,Pu.transition=null;var s=Sn;Sn=1;var a=Ru;Ru|=4,Tu.current=null,function(t,e){if(io=Xn,mr(t=gr())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break t}var s=0,a=-1,l=-1,u=0,c=0,h=t,d=null;e:for(;;){for(var f;h!==n||0!==r&&3!==h.nodeType||(a=s+r),h!==o||0!==i&&3!==h.nodeType||(l=s+i),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)d=h,h=f;for(;;){if(h===t)break e;if(d===n&&++u===r&&(a=s),d===o&&++c===i&&(l=s),null!==(f=h.nextSibling))break;d=(h=d).parentNode}h=f}n=-1===a||-1===l?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ro={focusedElem:t,selectionRange:n},Xn=!1,tu=e;null!==tu;)if(t=(e=tu).child,1028&e.subtreeFlags&&null!==t)t.return=e,tu=t;else for(;null!==tu;){e=tu;try{var p=e.alternate;if(1024&e.flags)switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,m=p.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:ol(e.type,g),m);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(lt(163))}}catch(x){Mc(e,e.return,x)}if(null!==(t=e.sibling)){t.return=e.return,tu=t;break}tu=e.return}p=iu,iu=!1}(t,n),vu(n,t),yr(ro),Xn=!!io,ro=io=null,t.current=n,xu(n),Qe(),Ru=a,Sn=s,Pu.transition=o}else t.current=n;if(Ku&&(Ku=!1,Zu=t,Yu=r),0===(o=t.pendingLanes)&&(Xu=null),function(t){if(un&&"function"==typeof un.onCommitFiberRoot)try{un.onCommitFiberRoot(ln,t,void 0,!(128&~t.current.flags))}catch(e){}}(n.stateNode),oc(t,tn()),null!==e)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Vu)throw Vu=!1,t=qu,qu=null,t;!!(1&Yu)&&0!==t.tag&&Ec(),1&(o=t.pendingLanes)?t===Qu?Ju++:(Ju=0,Qu=t):Ju=0,Vo()}(t,e,n,i)}finally{Pu.transition=r,Sn=i}return null}function Ec(){if(null!==Zu){var t=En(Yu),e=Pu.transition,n=Sn;try{if(Pu.transition=null,Sn=16>t?16:t,null===Zu)var i=!1;else{if(t=Zu,Zu=null,Yu=0,6&Ru)throw Error(lt(331));var r=Ru;for(Ru|=4,tu=t.current;null!==tu;){var o=tu,s=o.child;if(16&tu.flags){var a=o.deletions;if(null!==a){for(var l=0;l<a.length;l++){var u=a[l];for(tu=u;null!==tu;){var c=tu;switch(c.tag){case 0:case 11:case 15:ru(8,c,o)}var h=c.child;if(null!==h)h.return=c,tu=h;else for(;null!==tu;){var d=(c=tu).sibling,f=c.return;if(au(c),c===u){tu=null;break}if(null!==d){d.return=f,tu=d;break}tu=f}}}var p=o.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}tu=o}}if(2064&o.subtreeFlags&&null!==s)s.return=o,tu=s;else t:for(;null!==tu;){if(2048&(o=tu).flags)switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,tu=y;break t}tu=o.return}}var v=t.current;for(tu=v;null!==tu;){var _=(s=tu).child;if(2064&s.subtreeFlags&&null!==_)_.return=s,tu=_;else t:for(s=v;null!==tu;){if(2048&(a=tu).flags)try{switch(a.tag){case 0:case 11:case 15:ou(9,a)}}catch(b){Mc(a,a.return,b)}if(a===s){tu=null;break t}var x=a.sibling;if(null!==x){x.return=a.return,tu=x;break t}tu=a.return}}if(Ru=r,Vo(),un&&"function"==typeof un.onPostCommitFiberRoot)try{un.onPostCommitFiberRoot(ln,t)}catch(b){}i=!0}return i}finally{Sn=n,Pu.transition=e}}return!1}function Cc(t,e,n){t=Gs(t,e=ml(0,e=dl(n,e),1),1),e=nc(),null!==t&&(bn(t,1,e),oc(t,e))}function Mc(t,e,n){if(3===t.tag)Cc(t,t,n);else for(;null!==e;){if(3===e.tag){Cc(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"==typeof e.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Xu||!Xu.has(i))){e=Gs(e,t=yl(e,t=dl(n,t),1),1),t=nc(),null!==e&&(bn(e,1,t),oc(e,t));break}}e=e.return}}function kc(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),e=nc(),t.pingedLanes|=t.suspendedLanes&n,Iu===t&&(Fu&n)===n&&(4===ju||3===ju&&(130023424&Fu)===Fu&&500>tn()-Gu?pc(t,0):$u|=n),oc(t,e)}function Tc(t,e){0===e&&(1&t.mode?(e=pn,!(130023424&(pn<<=1))&&(pn=4194304)):e=1);var n=nc();null!==(t=Ds(t,e))&&(bn(t,e,n),oc(t,n))}function Pc(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Tc(t,n)}function Rc(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(lt(314))}null!==i&&i.delete(e),Tc(t,n)}function Ic(t,e){return Ze(t,e)}function Oc(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fc(t,e,n,i){return new Oc(t,e,n,i)}function Lc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ac(t,e){var n=t.alternate;return null===n?((n=Fc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jc(t,e,n,i,r,o){var s=2;if(i=t,"function"==typeof t)Lc(t)&&(s=1);else if("string"==typeof t)s=5;else t:switch(t){case Mt:return Nc(n.children,r,o,e);case kt:s=8,r|=8;break;case Tt:return(t=Fc(12,n,e,2|r)).elementType=Tt,t.lanes=o,t;case Ot:return(t=Fc(13,n,e,r)).elementType=Ot,t.lanes=o,t;case Ft:return(t=Fc(19,n,e,r)).elementType=Ft,t.lanes=o,t;case jt:return Dc(n,r,o,e);default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case Pt:s=10;break t;case Rt:s=9;break t;case It:s=11;break t;case Lt:s=14;break t;case At:s=16,i=null;break t}throw Error(lt(130,null==t?t:typeof t,""))}return(e=Fc(s,n,e,r)).elementType=t,e.type=i,e.lanes=o,e}function Nc(t,e,n,i){return(t=Fc(7,t,i,e)).lanes=n,t}function Dc(t,e,n,i){return(t=Fc(22,t,i,e)).elementType=jt,t.lanes=n,t.stateNode={isHidden:!1},t}function zc(t,e,n){return(t=Fc(6,t,null,e)).lanes=n,t}function $c(t,e,n){return(e=Fc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bc(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xn(0),this.expirationTimes=xn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xn(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Wc(t,e,n,i,r,o,s,a,l){return t=new Bc(t,e,n,a,l),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Fc(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$s(o),t}function Gc(t){if(!t)return Io;t:{if(He(t=t._reactInternals)!==t||1!==t.tag)throw Error(lt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(jo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(lt(171))}if(1===t.tag){var n=t.type;if(jo(n))return zo(t,n,e)}return e}function Uc(t,e,n,i,r,o,s,a,l){return(t=Wc(n,i,!0,t,0,o,0,a,l)).context=Gc(null),n=t.current,(o=Ws(i=nc(),r=ic(n))).callback=null!=e?e:null,Gs(n,o,r),t.current.lanes=r,bn(t,r,i),oc(t,i),t}function Hc(t,e,n,i){var r=e.current,o=nc(),s=ic(r);return n=Gc(n),null===e.context?e.context=n:e.pendingContext=n,(e=Ws(o,s)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),null!==(t=Gs(r,e,s))&&(rc(t,r,s,o),Us(t,r,s)),s}function Vc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function qc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Xc(t,e){qc(t,e),(t=t.alternate)&&qc(t,e)}Cu=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Fo.current)wl=!0;else{if(!(t.lanes&n||128&e.flags))return wl=!1,function(t,e,n){switch(e.tag){case 3:Ol(e),ys();break;case 5:ea(e);break;case 1:jo(e.type)&&$o(e);break;case 4:Qs(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Ro(Ms,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=e.memoizedState))return null!==i.dehydrated?(Ro(ia,1&ia.current),e.flags|=128,null):n&e.child.childLanes?zl(t,e,n):(Ro(ia,1&ia.current),null!==(t=Vl(t,e,n))?t.sibling:null);Ro(ia,1&ia.current);break;case 19:if(i=!!(n&e.childLanes),128&t.flags){if(i)return Ul(t,e,n);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ro(ia,ia.current),i)break;return null;case 22:case 23:return e.lanes=0,kl(t,e,n)}return Vl(t,e,n)}(t,e,n);wl=!!(131072&t.flags)}else wl=!1,ls&&1048576&e.flags&&is(e,Zo,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Hl(t,e),t=e.pendingProps;var r=Ao(e,Oo.current);Fs(e,n),r=_a(null,e,i,t,r,n);var o=xa();return e.flags|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jo(i)?(o=!0,$o(e)):o=!1,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,$s(e),r.updater=al,e.stateNode=r,r._reactInternals=e,hl(e,i,t,n),e=Il(null,e,i,!0,o,n)):(e.tag=0,ls&&o&&rs(e),Sl(null,e,r,n),e=e.child),e;case 16:i=e.elementType;t:{switch(Hl(t,e),t=e.pendingProps,i=(r=i._init)(i._payload),e.type=i,r=e.tag=function(t){if("function"==typeof t)return Lc(t)?1:0;if(null!=t){if((t=t.$$typeof)===It)return 11;if(t===Lt)return 14}return 2}(i),t=ol(i,t),r){case 0:e=Pl(null,e,i,t,n);break t;case 1:e=Rl(null,e,i,t,n);break t;case 11:e=El(null,e,i,t,n);break t;case 14:e=Cl(null,e,i,ol(i.type,t),n);break t}throw Error(lt(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,Pl(t,e,i,r=e.elementType===i?r:ol(i,r),n);case 1:return i=e.type,r=e.pendingProps,Rl(t,e,i,r=e.elementType===i?r:ol(i,r),n);case 3:t:{if(Ol(e),null===t)throw Error(lt(387));i=e.pendingProps,r=(o=e.memoizedState).element,Bs(t,e),Vs(e,i,null,n);var s=e.memoizedState;if(i=s.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,256&e.flags){e=Fl(t,e,i,n,r=dl(Error(lt(423)),e));break t}if(i!==r){e=Fl(t,e,i,n,r=dl(Error(lt(424)),e));break t}for(as=fo(e.stateNode.containerInfo.firstChild),ss=e,ls=!0,us=null,n=Cs(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ys(),i===r){e=Vl(t,e,n);break t}Sl(t,e,i,n)}e=e.child}return e;case 5:return ea(e),null===t&&fs(e),i=e.type,r=e.pendingProps,o=null!==t?t.memoizedProps:null,s=r.children,oo(i,r)?s=null:null!==o&&oo(i,o)&&(e.flags|=32),Tl(t,e),Sl(t,e,s,n),e.child;case 6:return null===t&&fs(e),null;case 13:return zl(t,e,n);case 4:return Qs(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=Es(e,null,i,n):Sl(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,El(t,e,i,r=e.elementType===i?r:ol(i,r),n);case 7:return Sl(t,e,e.pendingProps,n),e.child;case 8:case 12:return Sl(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,s=r.value,Ro(Ms,i._currentValue),i._currentValue=s,null!==o)if(cr(o.value,s)){if(o.children===r.children&&!Fo.current){e=Vl(t,e,n);break t}}else for(null!==(o=e.child)&&(o.return=e);null!==o;){var a=o.dependencies;if(null!==a){s=o.child;for(var l=a.firstContext;null!==l;){if(l.context===i){if(1===o.tag){(l=Ws(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Os(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===e.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(lt(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),Os(s,n,e),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===e){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}Sl(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Fs(e,n),i=i(r=Ls(r)),e.flags|=1,Sl(t,e,i,n),e.child;case 14:return r=ol(i=e.type,e.pendingProps),Cl(t,e,i,r=ol(i.type,r),n);case 15:return Ml(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ol(i,r),Hl(t,e),e.tag=1,jo(i)?(t=!0,$o(e)):t=!1,Fs(e,n),ul(e,i,r),hl(e,i,r,n),Il(null,e,i,!0,t,n);case 19:return Ul(t,e,n);case 22:return kl(t,e,n)}throw Error(lt(156,e.tag))};var Kc="function"==typeof reportError?reportError:function(t){console.error(t)};function Zc(t){this._internalRoot=t}function Yc(t){this._internalRoot=t}function Jc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Qc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function th(){}function eh(t,e,n,i,r){var o=n._reactRootContainer;if(o){var s=o;if("function"==typeof r){var a=r;r=function(){var t=Vc(s);a.call(t)}}Hc(e,s,t,r)}else s=function(t,e,n,i,r){if(r){if("function"==typeof i){var o=i;i=function(){var t=Vc(s);o.call(t)}}var s=Uc(e,i,t,0,null,!1,0,"",th);return t._reactRootContainer=s,t[vo]=s.current,Hr(8===t.nodeType?t.parentNode:t),dc(),s}for(;r=t.lastChild;)t.removeChild(r);if("function"==typeof i){var a=i;i=function(){var t=Vc(l);a.call(t)}}var l=Wc(t,0,!1,null,0,!1,0,"",th);return t._reactRootContainer=l,t[vo]=l.current,Hr(8===t.nodeType?t.parentNode:t),dc((function(){Hc(e,l,n,i)})),l}(n,e,t,r,i);return Vc(s)}Yc.prototype.render=Zc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(lt(409));Hc(t,e,null,null)},Yc.prototype.unmount=Zc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;dc((function(){Hc(null,t,null,null)})),e[vo]=null}},Yc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Tn();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Nn.length&&0!==e&&e<Nn[n].priority;n++);Nn.splice(n,0,t),0===n&&Bn(t)}},Cn=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gn(e.pendingLanes);0!==n&&(wn(e,1|n),oc(e,tn()),!(6&Ru)&&(Uu=tn()+500,Vo()))}break;case 13:dc((function(){var e=Ds(t,1);if(null!==e){var n=nc();rc(e,t,1,n)}})),Xc(t,1)}},Mn=function(t){if(13===t.tag){var e=Ds(t,134217728);null!==e&&rc(e,t,134217728,nc()),Xc(t,134217728)}},kn=function(t){if(13===t.tag){var e=ic(t),n=Ds(t,e);null!==n&&rc(n,t,e,nc()),Xc(t,e)}},Tn=function(){return Sn},Pn=function(t,e){var n=Sn;try{return Sn=t,e()}finally{Sn=n}},Ce=function(t,e,n){switch(e){case"input":if(ee(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Co(i);if(!r)throw Error(lt(90));Zt(i),ee(i,r)}}}break;case"textarea":le(t,n);break;case"select":null!=(e=n.value)&&oe(t,!!n.multiple,e,!1)}},Ie=hc,Oe=dc;var nh={usingClientEntryPoint:!1,Events:[So,Eo,Co,Pe,Re,hc]},ih={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rh={bundleType:ih.bundleType,version:ih.version,rendererPackageName:ih.rendererPackageName,rendererConfig:ih.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:St.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Xe(t))?null:t.stateNode},findFiberByHostInstance:ih.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{ln=oh.inject(rh),un=oh}catch(fe){}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nh,nt.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(e))throw Error(lt(200));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ct,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},nt.createRoot=function(t,e){if(!Jc(t))throw Error(lt(299));var n=!1,i="",r=Kc;return null!=e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onRecoverableError&&(r=e.onRecoverableError)),e=Wc(t,1,!1,null,0,n,0,i,r),t[vo]=e.current,Hr(8===t.nodeType?t.parentNode:t),new Zc(e)},nt.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"==typeof t.render)throw Error(lt(188));throw t=Object.keys(t).join(","),Error(lt(268,t))}return t=null===(t=Xe(e))?null:t.stateNode},nt.flushSync=function(t){return dc(t)},nt.hydrate=function(t,e,n){if(!Qc(e))throw Error(lt(200));return eh(null,t,e,!0,n)},nt.hydrateRoot=function(t,e,n){if(!Jc(t))throw Error(lt(405));var i=null!=n&&n.hydratedSources||null,r=!1,o="",s=Kc;if(null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),e=Uc(e,null,t,1,null!=n?n:null,r,0,o,s),t[vo]=e.current,Hr(t),i)for(t=0;t<i.length;t++)r=(r=(n=i[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Yc(e)},nt.render=function(t,e,n){if(!Qc(e))throw Error(lt(200));return eh(null,t,e,!1,n)},nt.unmountComponentAtNode=function(t){if(!Qc(t))throw Error(lt(40));return!!t._reactRootContainer&&(dc((function(){eh(null,null,t,!1,(function(){t._reactRootContainer=null,t[vo]=null}))})),!0)},nt.unstable_batchedUpdates=hc,nt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Qc(n))throw Error(lt(200));if(null==t||void 0===t._reactInternals)throw Error(lt(38));return eh(t,e,n,!1,i)},nt.version="18.3.1-next-f1338f8080-20240426",function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),et.exports=nt;var sh=et.exports;const ah=n(sh);var lh=sh;function uh(t,e){if(null==t)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ch.apply(null,arguments)}function hh(t){var e,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=hh(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function dh(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=hh(t))&&(i&&(i+=" "),i+=e);return i}function fh(t,e,n=void 0){const i={};return Object.keys(t).forEach((r=>{i[r]=t[r].reduce(((t,i)=>{if(i){const r=e(i);""!==r&&t.push(r),n&&n[i]&&t.push(n[i])}return t}),[]).join(" ")})),i}function ph(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}tt.createRoot=lh.createRoot,tt.hydrateRoot=lh.hydrateRoot;const gh=Object.freeze(Object.defineProperty({__proto__:null,default:ph},Symbol.toStringTag,{value:"Module"}));function mh(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}var yh=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,vh=mh((function(t){return yh.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91})),_h=function(){function t(t){var e=this;this._insertTag=function(t){var n;n=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,n),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{n.insertRule(t,n.cssRules.length)}catch(i){}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}(),xh="-ms-",bh="-moz-",wh="-webkit-",Sh="comm",Eh="rule",Ch="decl",Mh="@keyframes",kh=Math.abs,Th=String.fromCharCode,Ph=Object.assign;function Rh(t){return t.trim()}function Ih(t,e,n){return t.replace(e,n)}function Oh(t,e){return t.indexOf(e)}function Fh(t,e){return 0|t.charCodeAt(e)}function Lh(t,e,n){return t.slice(e,n)}function Ah(t){return t.length}function jh(t){return t.length}function Nh(t,e){return e.push(t),t}var Dh=1,zh=1,$h=0,Bh=0,Wh=0,Gh="";function Uh(t,e,n,i,r,o,s){return{value:t,root:e,parent:n,type:i,props:r,children:o,line:Dh,column:zh,length:s,return:""}}function Hh(t,e){return Ph(Uh("",null,null,"",null,null,0),t,{length:-t.length},e)}function Vh(){return Wh=Bh<$h?Fh(Gh,Bh++):0,zh++,10===Wh&&(zh=1,Dh++),Wh}function qh(){return Fh(Gh,Bh)}function Xh(){return Bh}function Kh(t,e){return Lh(Gh,t,e)}function Zh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Yh(t){return Dh=zh=1,$h=Ah(Gh=t),Bh=0,[]}function Jh(t){return Gh="",t}function Qh(t){return Rh(Kh(Bh-1,nd(91===t?t+2:40===t?t+1:t)))}function td(t){for(;(Wh=qh())&&Wh<33;)Vh();return Zh(t)>2||Zh(Wh)>3?"":" "}function ed(t,e){for(;--e&&Vh()&&!(Wh<48||Wh>102||Wh>57&&Wh<65||Wh>70&&Wh<97););return Kh(t,Xh()+(e<6&&32==qh()&&32==Vh()))}function nd(t){for(;Vh();)switch(Wh){case t:return Bh;case 34:case 39:34!==t&&39!==t&&nd(Wh);break;case 40:41===t&&nd(t);break;case 92:Vh()}return Bh}function id(t,e){for(;Vh()&&t+Wh!==57&&(t+Wh!==84||47!==qh()););return"/*"+Kh(e,Bh-1)+"*"+Th(47===t?t:Vh())}function rd(t){for(;!Zh(qh());)Vh();return Kh(t,Bh)}function od(t){return Jh(sd("",null,null,null,[""],t=Yh(t),0,[0],t))}function sd(t,e,n,i,r,o,s,a,l){for(var u=0,c=0,h=s,d=0,f=0,p=0,g=1,m=1,y=1,v=0,_="",x=r,b=o,w=i,S=_;m;)switch(p=v,v=Vh()){case 40:if(108!=p&&58==Fh(S,h-1)){-1!=Oh(S+=Ih(Qh(v),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:S+=Qh(v);break;case 9:case 10:case 13:case 32:S+=td(p);break;case 92:S+=ed(Xh()-1,7);continue;case 47:switch(qh()){case 42:case 47:Nh(ld(id(Vh(),Xh()),e,n),l);break;default:S+="/"}break;case 123*g:a[u++]=Ah(S)*y;case 125*g:case 59:case 0:switch(v){case 0:case 125:m=0;case 59+c:-1==y&&(S=Ih(S,/\f/g,"")),f>0&&Ah(S)-h&&Nh(f>32?ud(S+";",i,n,h-1):ud(Ih(S," ","")+";",i,n,h-2),l);break;case 59:S+=";";default:if(Nh(w=ad(S,e,n,u,c,r,a,_,x=[],b=[],h),o),123===v)if(0===c)sd(S,e,w,w,x,o,h,a,b);else switch(99===d&&110===Fh(S,3)?100:d){case 100:case 108:case 109:case 115:sd(t,w,w,i&&Nh(ad(t,w,w,0,0,r,a,_,r,x=[],h),b),r,b,h,a,i?x:b);break;default:sd(S,w,w,w,[""],b,0,a,b)}}u=c=f=0,g=y=1,_=S="",h=s;break;case 58:h=1+Ah(S),f=p;default:if(g<1)if(123==v)--g;else if(125==v&&0==g++&&125==(Wh=Bh>0?Fh(Gh,--Bh):0,zh--,10===Wh&&(zh=1,Dh--),Wh))continue;switch(S+=Th(v),v*g){case 38:y=c>0?1:(S+="\f",-1);break;case 44:a[u++]=(Ah(S)-1)*y,y=1;break;case 64:45===qh()&&(S+=Qh(Vh())),d=qh(),c=h=Ah(_=S+=rd(Xh())),v++;break;case 45:45===p&&2==Ah(S)&&(g=0)}}return o}function ad(t,e,n,i,r,o,s,a,l,u,c){for(var h=r-1,d=0===r?o:[""],f=jh(d),p=0,g=0,m=0;p<i;++p)for(var y=0,v=Lh(t,h+1,h=kh(g=s[p])),_=t;y<f;++y)(_=Rh(g>0?d[y]+" "+v:Ih(v,/&\f/g,d[y])))&&(l[m++]=_);return Uh(t,e,n,0===r?Eh:a,l,u,c)}function ld(t,e,n){return Uh(t,e,n,Sh,Th(Wh),Lh(t,2,-2),0)}function ud(t,e,n,i){return Uh(t,e,n,Ch,Lh(t,0,i),Lh(t,i+1,-1),i)}function cd(t,e){for(var n="",i=jh(t),r=0;r<i;r++)n+=e(t[r],r,t,e)||"";return n}function hd(t,e,n,i){switch(t.type){case"@layer":if(t.children.length)break;case"@import":case Ch:return t.return=t.return||t.value;case Sh:return"";case Mh:return t.return=t.value+"{"+cd(t.children,i)+"}";case Eh:t.value=t.props.join(",")}return Ah(n=cd(t.children,i))?t.return=t.value+"{"+n+"}":""}var dd=function(t,e,n){for(var i=0,r=0;i=r,r=qh(),38===i&&12===r&&(e[n]=1),!Zh(r);)Vh();return Kh(t,Bh)},fd=function(t,e){return Jh(function(t,e){var n=-1,i=44;do{switch(Zh(i)){case 0:38===i&&12===qh()&&(e[n]=1),t[n]+=dd(Bh-1,e,n);break;case 2:t[n]+=Qh(i);break;case 4:if(44===i){t[++n]=58===qh()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=Th(i)}}while(i=Vh());return t}(Yh(t),e))},pd=new WeakMap,gd=function(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var e=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||pd.get(n))&&!i){pd.set(t,!0);for(var r=[],o=fd(e,r),s=n.props,a=0,l=0;a<o.length;a++)for(var u=0;u<s.length;u++,l++)t.props[l]=r[a]?o[a].replace(/&\f/g,s[u]):s[u]+" "+o[a]}}},md=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}};function yd(t,e){switch(function(t,e){return 45^Fh(t,0)?(((e<<2^Fh(t,0))<<2^Fh(t,1))<<2^Fh(t,2))<<2^Fh(t,3):0}(t,e)){case 5103:return wh+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return wh+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return wh+t+bh+t+xh+t+t;case 6828:case 4268:return wh+t+xh+t+t;case 6165:return wh+t+xh+"flex-"+t+t;case 5187:return wh+t+Ih(t,/(\w+).+(:[^]+)/,wh+"box-$1$2"+xh+"flex-$1$2")+t;case 5443:return wh+t+xh+"flex-item-"+Ih(t,/flex-|-self/,"")+t;case 4675:return wh+t+xh+"flex-line-pack"+Ih(t,/align-content|flex-|-self/,"")+t;case 5548:return wh+t+xh+Ih(t,"shrink","negative")+t;case 5292:return wh+t+xh+Ih(t,"basis","preferred-size")+t;case 6060:return wh+"box-"+Ih(t,"-grow","")+wh+t+xh+Ih(t,"grow","positive")+t;case 4554:return wh+Ih(t,/([^-])(transform)/g,"$1"+wh+"$2")+t;case 6187:return Ih(Ih(Ih(t,/(zoom-|grab)/,wh+"$1"),/(image-set)/,wh+"$1"),t,"")+t;case 5495:case 3959:return Ih(t,/(image-set\([^]*)/,wh+"$1$`$1");case 4968:return Ih(Ih(t,/(.+:)(flex-)?(.*)/,wh+"box-pack:$3"+xh+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+wh+t+t;case 4095:case 3583:case 4068:case 2532:return Ih(t,/(.+)-inline(.+)/,wh+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ah(t)-1-e>6)switch(Fh(t,e+1)){case 109:if(45!==Fh(t,e+4))break;case 102:return Ih(t,/(.+:)(.+)-([^]+)/,"$1"+wh+"$2-$3$1"+bh+(108==Fh(t,e+3)?"$3":"$2-$3"))+t;case 115:return~Oh(t,"stretch")?yd(Ih(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==Fh(t,e+1))break;case 6444:switch(Fh(t,Ah(t)-3-(~Oh(t,"!important")&&10))){case 107:return Ih(t,":",":"+wh)+t;case 101:return Ih(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+wh+(45===Fh(t,14)?"inline-":"")+"box$3$1"+wh+"$2$3$1"+xh+"$2box$3")+t}break;case 5936:switch(Fh(t,e+11)){case 114:return wh+t+xh+Ih(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return wh+t+xh+Ih(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return wh+t+xh+Ih(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return wh+t+xh+t+t}return t}var vd=[function(t,e,n,i){if(t.length>-1&&!t.return)switch(t.type){case Ch:t.return=yd(t.value,t.length);break;case Mh:return cd([Hh(t,{value:Ih(t.value,"@","@"+wh)})],i);case Eh:if(t.length)return function(t,e){return t.map(e).join("")}(t.props,(function(e){switch(function(t,e){return(t=e.exec(t))?t[0]:t}(e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return cd([Hh(t,{props:[Ih(e,/:(read-\w+)/,":-moz-$1")]})],i);case"::placeholder":return cd([Hh(t,{props:[Ih(e,/:(plac\w+)/,":"+wh+"input-$1")]}),Hh(t,{props:[Ih(e,/:(plac\w+)/,":-moz-$1")]}),Hh(t,{props:[Ih(e,/:(plac\w+)/,xh+"input-$1")]})],i)}return""}))}}],_d=function(t){var e=t.key;if("css"===e){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var i,r,o=t.stylisPlugins||vd,s={},a=[];i=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),n=1;n<e.length;n++)s[e[n]]=!0;a.push(t)}));var l,u,c,h,d=[hd,(h=function(t){l.insert(t)},function(t){t.root||(t=t.return)&&h(t)})],f=(u=[gd,md].concat(o,d),c=jh(u),function(t,e,n,i){for(var r="",o=0;o<c;o++)r+=u[o](t,e,n,i)||"";return r});r=function(t,e,n,i){l=n,cd(od(t?t+"{"+e.styles+"}":e.styles),f),i&&(p.inserted[e.name]=!0)};var p={key:e,sheet:new _h({key:e,container:i,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:r};return p.sheet.hydrate(a),p},xd={exports:{}},bd={},wd="function"==typeof Symbol&&Symbol.for,Sd=wd?Symbol.for("react.element"):60103,Ed=wd?Symbol.for("react.portal"):60106,Cd=wd?Symbol.for("react.fragment"):60107,Md=wd?Symbol.for("react.strict_mode"):60108,kd=wd?Symbol.for("react.profiler"):60114,Td=wd?Symbol.for("react.provider"):60109,Pd=wd?Symbol.for("react.context"):60110,Rd=wd?Symbol.for("react.async_mode"):60111,Id=wd?Symbol.for("react.concurrent_mode"):60111,Od=wd?Symbol.for("react.forward_ref"):60112,Fd=wd?Symbol.for("react.suspense"):60113,Ld=wd?Symbol.for("react.suspense_list"):60120,Ad=wd?Symbol.for("react.memo"):60115,jd=wd?Symbol.for("react.lazy"):60116,Nd=wd?Symbol.for("react.block"):60121,Dd=wd?Symbol.for("react.fundamental"):60117,zd=wd?Symbol.for("react.responder"):60118,$d=wd?Symbol.for("react.scope"):60119;function Bd(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case Sd:switch(t=t.type){case Rd:case Id:case Cd:case kd:case Md:case Fd:return t;default:switch(t=t&&t.$$typeof){case Pd:case Od:case jd:case Ad:case Td:return t;default:return e}}case Ed:return e}}}function Wd(t){return Bd(t)===Id}bd.AsyncMode=Rd,bd.ConcurrentMode=Id,bd.ContextConsumer=Pd,bd.ContextProvider=Td,bd.Element=Sd,bd.ForwardRef=Od,bd.Fragment=Cd,bd.Lazy=jd,bd.Memo=Ad,bd.Portal=Ed,bd.Profiler=kd,bd.StrictMode=Md,bd.Suspense=Fd,bd.isAsyncMode=function(t){return Wd(t)||Bd(t)===Rd},bd.isConcurrentMode=Wd,bd.isContextConsumer=function(t){return Bd(t)===Pd},bd.isContextProvider=function(t){return Bd(t)===Td},bd.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===Sd},bd.isForwardRef=function(t){return Bd(t)===Od},bd.isFragment=function(t){return Bd(t)===Cd},bd.isLazy=function(t){return Bd(t)===jd},bd.isMemo=function(t){return Bd(t)===Ad},bd.isPortal=function(t){return Bd(t)===Ed},bd.isProfiler=function(t){return Bd(t)===kd},bd.isStrictMode=function(t){return Bd(t)===Md},bd.isSuspense=function(t){return Bd(t)===Fd},bd.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===Cd||t===Id||t===kd||t===Md||t===Fd||t===Ld||"object"==typeof t&&null!==t&&(t.$$typeof===jd||t.$$typeof===Ad||t.$$typeof===Td||t.$$typeof===Pd||t.$$typeof===Od||t.$$typeof===Dd||t.$$typeof===zd||t.$$typeof===$d||t.$$typeof===Nd)},bd.typeOf=Bd,xd.exports=bd;var Gd=xd.exports,Ud={};Ud[Gd.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ud[Gd.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var Hd=function(t,e,n){var i=t.key+"-"+e.name;!1===n&&void 0===t.registered[i]&&(t.registered[i]=e.styles)},Vd=function(t,e,n){Hd(t,e,n);var i=t.key+"-"+e.name;if(void 0===t.inserted[e.name]){var r=e;do{t.insert(e===r?"."+i:"",r,t.sheet,!0),r=r.next}while(void 0!==r)}},qd={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Xd=/[A-Z]|^ms/g,Kd=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Zd=function(t){return 45===t.charCodeAt(1)},Yd=function(t){return null!=t&&"boolean"!=typeof t},Jd=mh((function(t){return Zd(t)?t:t.replace(Xd,"-$&").toLowerCase()})),Qd=function(t,e){switch(t){case"animation":case"animationName":if("string"==typeof e)return e.replace(Kd,(function(t,e,n){return ef={name:e,styles:n,next:ef},e}))}return 1===qd[t]||Zd(t)||"number"!=typeof e||0===e?e:e+"px"};function tf(t,e,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return ef={name:n.name,styles:n.styles,next:ef},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)ef={name:i.name,styles:i.styles,next:ef},i=i.next;return n.styles+";"}return function(t,e,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=tf(t,e,n[r])+";";else for(var o in n){var s=n[o];if("object"!=typeof s)null!=e&&void 0!==e[s]?i+=o+"{"+e[s]+"}":Yd(s)&&(i+=Jd(o)+":"+Qd(o,s)+";");else if(!Array.isArray(s)||"string"!=typeof s[0]||null!=e&&void 0!==e[s[0]]){var a=tf(t,e,s);switch(o){case"animation":case"animationName":i+=Jd(o)+":"+a+";";break;default:i+=o+"{"+a+"}"}}else for(var l=0;l<s.length;l++)Yd(s[l])&&(i+=Jd(o)+":"+Qd(o,s[l])+";")}return i}(t,e,n);case"function":if(void 0!==t){var r=ef,o=n(t);return ef=r,tf(t,e,o)}}if(null==e)return n;var s=e[n];return void 0!==s?s:n}var ef,nf,rf=/label:\s*([^\s;\n{]+)\s*(;|$)/g,of=function(t,e,n){if(1===t.length&&"object"==typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var i=!0,r="";ef=void 0;var o=t[0];null==o||void 0===o.raw?(i=!1,r+=tf(n,e,o)):r+=o[0];for(var s=1;s<t.length;s++)r+=tf(n,e,t[s]),i&&(r+=o[s]);rf.lastIndex=0;for(var a,l="";null!==(a=rf.exec(r));)l+="-"+a[1];var u=function(t){for(var e,n=0,i=0,r=t.length;r>=4;++i,r-=4)e=1540483477*(65535&(e=255&t.charCodeAt(i)|(255&t.charCodeAt(++i))<<8|(255&t.charCodeAt(++i))<<16|(255&t.charCodeAt(++i))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&t.charCodeAt(i+2))<<16;case 2:n^=(255&t.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(r)+l;return{name:u,styles:r,next:ef}},sf=!!H.useInsertionEffect&&H.useInsertionEffect,af=sf||function(t){return t()},lf=sf||G.useLayoutEffect,uf=G.createContext("undefined"!=typeof HTMLElement?_d({key:"css"}):null),cf=uf.Provider,hf=function(t){return G.forwardRef((function(e,n){var i=G.useContext(uf);return t(e,i,n)}))},df=G.createContext({}),ff={exports:{}};function pf(){return nf||(nf=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(ff)),ff.exports}pf();var gf=hf((function(t,e){var n=t.styles,i=of([n],void 0,G.useContext(df)),r=G.useRef();return lf((function(){var t=e.key+"-global",n=new e.sheet.constructor({key:t,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),o=!1,s=document.querySelector('style[data-emotion="'+t+" "+i.name+'"]');return e.sheet.tags.length&&(n.before=e.sheet.tags[0]),null!==s&&(o=!0,s.setAttribute("data-emotion",t),n.hydrate([s])),r.current=[n,o],function(){n.flush()}}),[e]),lf((function(){var t=r.current,n=t[0];if(t[1])t[1]=!1;else{if(void 0!==i.next&&Vd(e,i.next,!0),n.tags.length){var o=n.tags[n.tags.length-1].nextElementSibling;n.before=o,n.flush()}e.insert("",i,n,!1)}}),[e,i.name]),null}));function mf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return of(e)}var yf=function(){var t=mf.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},vf=vh,_f=function(t){return"theme"!==t},xf=function(t){return"string"==typeof t&&t.charCodeAt(0)>96?vf:_f},bf=function(t,e,n){var i;if(e){var r=e.shouldForwardProp;i=t.__emotion_forwardProp&&r?function(e){return t.__emotion_forwardProp(e)&&r(e)}:r}return"function"!=typeof i&&n&&(i=t.__emotion_forwardProp),i},wf=function(t){var e=t.cache,n=t.serialized,i=t.isStringTag;return Hd(e,n,i),af((function(){return Vd(e,n,i)})),null},Sf=function t(e,n){var i,r,o=e.__emotion_real===e,s=o&&e.__emotion_base||e;void 0!==n&&(i=n.label,r=n.target);var a=bf(e,n,o),l=a||xf(s),u=!l("as");return function(){var c=arguments,h=o&&void 0!==e.__emotion_styles?e.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==c[0]||void 0===c[0].raw)h.push.apply(h,c);else{h.push(c[0][0]);for(var d=c.length,f=1;f<d;f++)h.push(c[f],c[0][f])}var p=hf((function(t,e,n){var i,o,c,d,f=u&&t.as||s,p="",g=[],m=t;if(null==t.theme){for(var y in m={},t)m[y]=t[y];m.theme=G.useContext(df)}"string"==typeof t.className?(i=e.registered,o=g,c=t.className,d="",c.split(" ").forEach((function(t){void 0!==i[t]?o.push(i[t]+";"):d+=t+" "})),p=d):null!=t.className&&(p=t.className+" ");var v=of(h.concat(g),e.registered,m);p+=e.key+"-"+v.name,void 0!==r&&(p+=" "+r);var _=u&&void 0===a?xf(f):l,x={};for(var b in t)u&&"as"===b||_(b)&&(x[b]=t[b]);return x.className=p,x.ref=n,G.createElement(G.Fragment,null,G.createElement(wf,{cache:e,serialized:v,isStringTag:"string"==typeof f}),G.createElement(f,x))}));return p.displayName=void 0!==i?i:"Styled("+("string"==typeof s?s:s.displayName||s.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=s,p.__emotion_styles=h,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+r}}),p.withComponent=function(e,i){return t(e,ch({},n,i,{shouldForwardProp:bf(p,i,!0)})).apply(void 0,h)},p}}.bind();let Ef;function Cf(t){const{styles:e,defaultTheme:n={}}=t,i="function"==typeof e?t=>{return e(null==(i=t)||0===Object.keys(i).length?n:t);var i}:e;return Q.jsx(gf,{styles:i})}function Mf(t,e){return Sf(t,e)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){Sf[t]=Sf(t)})),"object"==typeof document&&(Ef=_d({key:"css",prepend:!0}));const kf=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},Tf=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Cf,StyledEngineProvider:function(t){const{injectFirst:e,children:n}=t;return e&&Ef?Q.jsx(cf,{value:Ef,children:n}):n},ThemeContext:df,css:mf,default:Mf,internal_processStyles:kf,keyframes:yf},Symbol.toStringTag,{value:"Module"}));function Pf(t){if("object"!=typeof t||null===t)return!1;const e=Object.getPrototypeOf(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)}function Rf(t){if(!Pf(t))return t;const e={};return Object.keys(t).forEach((n=>{e[n]=Rf(t[n])})),e}function If(t,e,n={clone:!0}){const i=n.clone?ch({},t):t;return Pf(t)&&Pf(e)&&Object.keys(e).forEach((r=>{Pf(e[r])&&Object.prototype.hasOwnProperty.call(t,r)&&Pf(t[r])?i[r]=If(t[r],e[r],n):n.clone?i[r]=Pf(e[r])?Rf(e[r]):e[r]:i[r]=e[r]})),i}const Of=Object.freeze(Object.defineProperty({__proto__:null,default:If,isPlainObject:Pf},Symbol.toStringTag,{value:"Module"})),Ff=["values","unit","step"];function Lf(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:i=5}=t,r=uh(t,Ff),o=(t=>{const e=Object.keys(t).map((e=>({key:e,val:t[e]})))||[];return e.sort(((t,e)=>t.val-e.val)),e.reduce(((t,e)=>ch({},t,{[e.key]:e.val})),{})})(e),s=Object.keys(o);function a(t){return`@media (min-width:${"number"==typeof e[t]?e[t]:t}${n})`}function l(t){return`@media (max-width:${("number"==typeof e[t]?e[t]:t)-i/100}${n})`}function u(t,r){const o=s.indexOf(r);return`@media (min-width:${"number"==typeof e[t]?e[t]:t}${n}) and (max-width:${(-1!==o&&"number"==typeof e[s[o]]?e[s[o]]:r)-i/100}${n})`}return ch({keys:s,values:o,up:a,down:l,between:u,only:function(t){return s.indexOf(t)+1<s.length?u(t,s[s.indexOf(t)+1]):a(t)},not:function(t){const e=s.indexOf(t);return 0===e?a(s[1]):e===s.length-1?l(s[e]):u(t,s[s.indexOf(t)+1]).replace("@media","@media not all and")},unit:n},r)}const Af={borderRadius:4};function jf(t,e){return e?If(t,e,{clone:!1}):t}const Nf={xs:0,sm:600,md:900,lg:1200,xl:1536},Df={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Nf[t]}px)`};function zf(t,e,n){const i=t.theme||{};if(Array.isArray(e)){const t=i.breakpoints||Df;return e.reduce(((i,r,o)=>(i[t.up(t.keys[o])]=n(e[o]),i)),{})}if("object"==typeof e){const t=i.breakpoints||Df;return Object.keys(e).reduce(((i,r)=>{if(-1!==Object.keys(t.values||Nf).indexOf(r))i[t.up(r)]=n(e[r],r);else{const t=r;i[t]=e[t]}return i}),{})}return n(e)}function $f(t={}){var e;return(null==(e=t.keys)?void 0:e.reduce(((e,n)=>(e[t.up(n)]={},e)),{}))||{}}function Bf(t,e){return t.reduce(((t,e)=>{const n=t[e];return(!n||0===Object.keys(n).length)&&delete t[e],t}),e)}function Wf({values:t,breakpoints:e,base:n}){const i=n||function(t,e){if("object"!=typeof t)return{};const n={},i=Object.keys(e);return Array.isArray(t)?i.forEach(((e,i)=>{i<t.length&&(n[e]=!0)})):i.forEach((e=>{null!=t[e]&&(n[e]=!0)})),n}(t,e),r=Object.keys(i);if(0===r.length)return t;let o;return r.reduce(((e,n,i)=>(Array.isArray(t)?(e[n]=null!=t[i]?t[i]:t[o],o=i):"object"==typeof t?(e[n]=null!=t[n]?t[n]:t[o],o=n):e[n]=t,e)),{})}function Gf(t){if("string"!=typeof t)throw new Error(ph(7));return t.charAt(0).toUpperCase()+t.slice(1)}const Uf=Object.freeze(Object.defineProperty({__proto__:null,default:Gf},Symbol.toStringTag,{value:"Module"}));function Hf(t,e,n=!0){if(!e||"string"!=typeof e)return null;if(t&&t.vars&&n){const n=`vars.${e}`.split(".").reduce(((t,e)=>t&&t[e]?t[e]:null),t);if(null!=n)return n}return e.split(".").reduce(((t,e)=>t&&null!=t[e]?t[e]:null),t)}function Vf(t,e,n,i=n){let r;return r="function"==typeof t?t(n):Array.isArray(t)?t[n]||i:Hf(t,n)||i,e&&(r=e(r,i,t)),r}function qf(t){const{prop:e,cssProperty:n=t.prop,themeKey:i,transform:r}=t,o=t=>{if(null==t[e])return null;const o=t[e],s=Hf(t.theme,i)||{};return zf(t,o,(t=>{let i=Vf(s,r,t);return t===i&&"string"==typeof t&&(i=Vf(s,r,`${e}${"default"===t?"":Gf(t)}`,t)),!1===n?i:{[n]:i}}))};return o.propTypes={},o.filterProps=[e],o}const Xf={m:"margin",p:"padding"},Kf={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Zf={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Yf=function(t){const e={};return n=>(void 0===e[n]&&(e[n]=t(n)),e[n])}((t=>{if(t.length>2){if(!Zf[t])return[t];t=Zf[t]}const[e,n]=t.split(""),i=Xf[e],r=Kf[n]||"";return Array.isArray(r)?r.map((t=>i+t)):[i+r]})),Jf=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Qf=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];function tp(t,e,n,i){var r;const o=null!=(r=Hf(t,e,!1))?r:n;return"number"==typeof o?t=>"string"==typeof t?t:o*t:Array.isArray(o)?t=>"string"==typeof t?t:o[t]:"function"==typeof o?o:()=>{}}function ep(t){return tp(t,"spacing",8)}function np(t,e){if("string"==typeof e||null==e)return e;const n=t(Math.abs(e));return e>=0?n:"number"==typeof n?-n:`-${n}`}function ip(t,e,n,i){if(-1===e.indexOf(n))return null;const r=function(t,e){return n=>t.reduce(((t,i)=>(t[i]=np(e,n),t)),{})}(Yf(n),i);return zf(t,t[n],r)}function rp(t,e){const n=ep(t.theme);return Object.keys(t).map((i=>ip(t,e,i,n))).reduce(jf,{})}function op(t){return rp(t,Jf)}function sp(t){return rp(t,Qf)}function ap(...t){const e=t.reduce(((t,e)=>(e.filterProps.forEach((n=>{t[n]=e})),t)),{}),n=t=>Object.keys(t).reduce(((n,i)=>e[i]?jf(n,e[i](t)):n),{});return n.propTypes={},n.filterProps=t.reduce(((t,e)=>t.concat(e.filterProps)),[]),n}function lp(t){return"number"!=typeof t?t:`${t}px solid`}function up(t,e){return qf({prop:t,themeKey:"borders",transform:e})}op.propTypes={},op.filterProps=Jf,sp.propTypes={},sp.filterProps=Qf;const cp=up("border",lp),hp=up("borderTop",lp),dp=up("borderRight",lp),fp=up("borderBottom",lp),pp=up("borderLeft",lp),gp=up("borderColor"),mp=up("borderTopColor"),yp=up("borderRightColor"),vp=up("borderBottomColor"),_p=up("borderLeftColor"),xp=up("outline",lp),bp=up("outlineColor"),wp=t=>{if(void 0!==t.borderRadius&&null!==t.borderRadius){const e=tp(t.theme,"shape.borderRadius",4),n=t=>({borderRadius:np(e,t)});return zf(t,t.borderRadius,n)}return null};wp.propTypes={},wp.filterProps=["borderRadius"],ap(cp,hp,dp,fp,pp,gp,mp,yp,vp,_p,wp,xp,bp);const Sp=t=>{if(void 0!==t.gap&&null!==t.gap){const e=tp(t.theme,"spacing",8),n=t=>({gap:np(e,t)});return zf(t,t.gap,n)}return null};Sp.propTypes={},Sp.filterProps=["gap"];const Ep=t=>{if(void 0!==t.columnGap&&null!==t.columnGap){const e=tp(t.theme,"spacing",8),n=t=>({columnGap:np(e,t)});return zf(t,t.columnGap,n)}return null};Ep.propTypes={},Ep.filterProps=["columnGap"];const Cp=t=>{if(void 0!==t.rowGap&&null!==t.rowGap){const e=tp(t.theme,"spacing",8),n=t=>({rowGap:np(e,t)});return zf(t,t.rowGap,n)}return null};function Mp(t,e){return"grey"===e?e:t}function kp(t){return t<=1&&0!==t?100*t+"%":t}Cp.propTypes={},Cp.filterProps=["rowGap"],ap(Sp,Ep,Cp,qf({prop:"gridColumn"}),qf({prop:"gridRow"}),qf({prop:"gridAutoFlow"}),qf({prop:"gridAutoColumns"}),qf({prop:"gridAutoRows"}),qf({prop:"gridTemplateColumns"}),qf({prop:"gridTemplateRows"}),qf({prop:"gridTemplateAreas"}),qf({prop:"gridArea"})),ap(qf({prop:"color",themeKey:"palette",transform:Mp}),qf({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Mp}),qf({prop:"backgroundColor",themeKey:"palette",transform:Mp}));const Tp=qf({prop:"width",transform:kp}),Pp=t=>{if(void 0!==t.maxWidth&&null!==t.maxWidth){const e=e=>{var n,i;const r=(null==(n=t.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[e])||Nf[e];return r?"px"!==(null==(i=t.theme)||null==(i=i.breakpoints)?void 0:i.unit)?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:kp(e)}};return zf(t,t.maxWidth,e)}return null};Pp.filterProps=["maxWidth"];const Rp=qf({prop:"minWidth",transform:kp}),Ip=qf({prop:"height",transform:kp}),Op=qf({prop:"maxHeight",transform:kp}),Fp=qf({prop:"minHeight",transform:kp});qf({prop:"size",cssProperty:"width",transform:kp}),qf({prop:"size",cssProperty:"height",transform:kp}),ap(Tp,Pp,Rp,Ip,Op,Fp,qf({prop:"boxSizing"}));const Lp={border:{themeKey:"borders",transform:lp},borderTop:{themeKey:"borders",transform:lp},borderRight:{themeKey:"borders",transform:lp},borderBottom:{themeKey:"borders",transform:lp},borderLeft:{themeKey:"borders",transform:lp},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:lp},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:wp},color:{themeKey:"palette",transform:Mp},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Mp},backgroundColor:{themeKey:"palette",transform:Mp},p:{style:sp},pt:{style:sp},pr:{style:sp},pb:{style:sp},pl:{style:sp},px:{style:sp},py:{style:sp},padding:{style:sp},paddingTop:{style:sp},paddingRight:{style:sp},paddingBottom:{style:sp},paddingLeft:{style:sp},paddingX:{style:sp},paddingY:{style:sp},paddingInline:{style:sp},paddingInlineStart:{style:sp},paddingInlineEnd:{style:sp},paddingBlock:{style:sp},paddingBlockStart:{style:sp},paddingBlockEnd:{style:sp},m:{style:op},mt:{style:op},mr:{style:op},mb:{style:op},ml:{style:op},mx:{style:op},my:{style:op},margin:{style:op},marginTop:{style:op},marginRight:{style:op},marginBottom:{style:op},marginLeft:{style:op},marginX:{style:op},marginY:{style:op},marginInline:{style:op},marginInlineStart:{style:op},marginInlineEnd:{style:op},marginBlock:{style:op},marginBlockStart:{style:op},marginBlockEnd:{style:op},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Sp},rowGap:{style:Cp},columnGap:{style:Ep},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:kp},maxWidth:{style:Pp},minWidth:{transform:kp},height:{transform:kp},maxHeight:{transform:kp},minHeight:{transform:kp},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Ap(){function t(t,e,n,i){const r={[t]:e,theme:n},o=i[t];if(!o)return{[t]:e};const{cssProperty:s=t,themeKey:a,transform:l,style:u}=o;if(null==e)return null;if("typography"===a&&"inherit"===e)return{[t]:e};const c=Hf(n,a)||{};return u?u(r):zf(r,e,(e=>{let n=Vf(c,l,e);return e===n&&"string"==typeof e&&(n=Vf(c,l,`${t}${"default"===e?"":Gf(e)}`,e)),!1===s?n:{[s]:n}}))}return function e(n){var i;const{sx:r,theme:o={}}=n||{};if(!r)return null;const s=null!=(i=o.unstable_sxConfig)?i:Lp;function a(n){let i=n;if("function"==typeof n)i=n(o);else if("object"!=typeof n)return n;if(!i)return null;const r=$f(o.breakpoints),a=Object.keys(r);let l=r;return Object.keys(i).forEach((n=>{const r=(a=i[n],u=o,"function"==typeof a?a(u):a);var a,u;if(null!=r)if("object"==typeof r)if(s[n])l=jf(l,t(n,r,o,s));else{const t=zf({theme:o},r,(t=>({[n]:t})));!function(...t){const e=t.reduce(((t,e)=>t.concat(Object.keys(e))),[]),n=new Set(e);return t.every((t=>n.size===Object.keys(t).length))}(t,r)?l=jf(l,t):l[n]=e({sx:r,theme:o})}else l=jf(l,t(n,r,o,s))})),Bf(a,l)}return Array.isArray(r)?r.map(a):a(r)}}const jp=Ap();function Np(t,e){const n=this;if(n.vars&&"function"==typeof n.getColorSchemeSelector){const i=n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)");return{[i]:e}}return n.palette.mode===t?e:{}}jp.filterProps=["sx"];const Dp=["breakpoints","palette","spacing","shape"];function zp(t={},...e){const{breakpoints:n={},palette:i={},spacing:r,shape:o={}}=t,s=uh(t,Dp),a=Lf(n),l=function(t=8){if(t.mui)return t;const e=ep({spacing:t}),n=(...t)=>(0===t.length?[1]:t).map((t=>{const n=e(t);return"number"==typeof n?`${n}px`:n})).join(" ");return n.mui=!0,n}(r);let u=If({breakpoints:a,direction:"ltr",components:{},palette:ch({mode:"light"},i),spacing:l,shape:ch({},Af,o)},s);return u.applyStyles=Np,u=e.reduce(((t,e)=>If(t,e)),u),u.unstable_sxConfig=ch({},Lp,null==s?void 0:s.unstable_sxConfig),u.unstable_sx=function(t){return jp({sx:t,theme:this})},u}const $p=Object.freeze(Object.defineProperty({__proto__:null,default:zp,private_createBreakpoints:Lf,unstable_applyStyles:Np},Symbol.toStringTag,{value:"Module"}));function Bp(t=null){const e=G.useContext(df);return e&&(n=e,0!==Object.keys(n).length)?e:t;var n}const Wp=zp();function Gp(t=Wp){return Bp(t)}function Up({styles:t,themeId:e,defaultTheme:n={}}){const i=Gp(n),r="function"==typeof t?t(e&&i[e]||i):t;return Q.jsx(Cf,{styles:r})}const Hp=["sx"];function Vp(t){const{sx:e}=t,n=uh(t,Hp),{systemProps:i,otherProps:r}=(t=>{var e,n;const i={systemProps:{},otherProps:{}},r=null!=(e=null==t||null==(n=t.theme)?void 0:n.unstable_sxConfig)?e:Lp;return Object.keys(t).forEach((e=>{r[e]?i.systemProps[e]=t[e]:i.otherProps[e]=t[e]})),i})(n);let o;return o=Array.isArray(e)?[i,...e]:"function"==typeof e?(...t)=>{const n=e(...t);return Pf(n)?ch({},i,n):i}:ch({},i,e),ch({},r,{sx:o})}const qp=Object.freeze(Object.defineProperty({__proto__:null,default:jp,extendSxProp:Vp,unstable_createStyleFunctionSx:Ap,unstable_defaultSxConfig:Lp},Symbol.toStringTag,{value:"Module"})),Xp=t=>t,Kp=(()=>{let t=Xp;return{configure(e){t=e},generate:e=>t(e),reset(){t=Xp}}})(),Zp=["className","component"],Yp={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Jp(t,e,n="Mui"){const i=Yp[e];return i?`${n}-${i}`:`${Kp.generate(t)}-${e}`}function Qp(t,e,n="Mui"){const i={};return e.forEach((e=>{i[e]=Jp(t,e,n)})),i}var tg,eg={exports:{}},ng={},ig=Symbol.for("react.element"),rg=Symbol.for("react.portal"),og=Symbol.for("react.fragment"),sg=Symbol.for("react.strict_mode"),ag=Symbol.for("react.profiler"),lg=Symbol.for("react.provider"),ug=Symbol.for("react.context"),cg=Symbol.for("react.server_context"),hg=Symbol.for("react.forward_ref"),dg=Symbol.for("react.suspense"),fg=Symbol.for("react.suspense_list"),pg=Symbol.for("react.memo"),gg=Symbol.for("react.lazy"),mg=Symbol.for("react.offscreen");function yg(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case ig:switch(t=t.type){case og:case ag:case sg:case dg:case fg:return t;default:switch(t=t&&t.$$typeof){case cg:case ug:case hg:case gg:case pg:case lg:return t;default:return e}}case rg:return e}}}tg=Symbol.for("react.module.reference"),ng.ContextConsumer=ug,ng.ContextProvider=lg,ng.Element=ig,ng.ForwardRef=hg,ng.Fragment=og,ng.Lazy=gg,ng.Memo=pg,ng.Portal=rg,ng.Profiler=ag,ng.StrictMode=sg,ng.Suspense=dg,ng.SuspenseList=fg,ng.isAsyncMode=function(){return!1},ng.isConcurrentMode=function(){return!1},ng.isContextConsumer=function(t){return yg(t)===ug},ng.isContextProvider=function(t){return yg(t)===lg},ng.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===ig},ng.isForwardRef=function(t){return yg(t)===hg},ng.isFragment=function(t){return yg(t)===og},ng.isLazy=function(t){return yg(t)===gg},ng.isMemo=function(t){return yg(t)===pg},ng.isPortal=function(t){return yg(t)===rg},ng.isProfiler=function(t){return yg(t)===ag},ng.isStrictMode=function(t){return yg(t)===sg},ng.isSuspense=function(t){return yg(t)===dg},ng.isSuspenseList=function(t){return yg(t)===fg},ng.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===og||t===ag||t===sg||t===dg||t===fg||t===mg||"object"==typeof t&&null!==t&&(t.$$typeof===gg||t.$$typeof===pg||t.$$typeof===lg||t.$$typeof===ug||t.$$typeof===hg||t.$$typeof===tg||void 0!==t.getModuleId)},ng.typeOf=yg,eg.exports=ng;var vg=eg.exports;const _g=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function xg(t){const e=`${t}`.match(_g);return e&&e[1]||""}function bg(t,e=""){return t.displayName||t.name||xg(t)||e}function wg(t,e,n){const i=bg(e);return t.displayName||(""!==i?`${n}(${i})`:n)}const Sg=Object.freeze(Object.defineProperty({__proto__:null,default:function(t){if(null!=t){if("string"==typeof t)return t;if("function"==typeof t)return bg(t,"Component");if("object"==typeof t)switch(t.$$typeof){case vg.ForwardRef:return wg(t,t.render,"ForwardRef");case vg.Memo:return wg(t,t.type,"memo");default:return}}},getFunctionName:xg},Symbol.toStringTag,{value:"Module"})),Eg=["ownerState"],Cg=["variants"],Mg=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function kg(t){return"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t}const Tg=zp(),Pg=t=>t?t.charAt(0).toLowerCase()+t.slice(1):t;function Rg({defaultTheme:t,theme:e,themeId:n}){return i=e,0===Object.keys(i).length?t:e[n]||e;var i}function Ig(t){return t?(e,n)=>n[t]:null}function Og(t,e){let{ownerState:n}=e,i=uh(e,Eg);const r="function"==typeof t?t(ch({ownerState:n},i)):t;if(Array.isArray(r))return r.flatMap((t=>Og(t,ch({ownerState:n},i))));if(r&&"object"==typeof r&&Array.isArray(r.variants)){const{variants:t=[]}=r;let e=uh(r,Cg);return t.forEach((t=>{let r=!0;"function"==typeof t.props?r=t.props(ch({ownerState:n},i,n)):Object.keys(t.props).forEach((e=>{(null==n?void 0:n[e])!==t.props[e]&&i[e]!==t.props[e]&&(r=!1)})),r&&(Array.isArray(e)||(e=[e]),e.push("function"==typeof t.style?t.style(ch({ownerState:n},i,n)):t.style))})),e}return r}const Fg=function(t={}){const{themeId:e,defaultTheme:n=Tg,rootShouldForwardProp:i=kg,slotShouldForwardProp:r=kg}=t,o=t=>jp(ch({},t,{theme:Rg(ch({},t,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(t,s={})=>{kf(t,(t=>t.filter((t=>!(null!=t&&t.__mui_systemSx)))));const{name:a,slot:l,skipVariantsResolver:u,skipSx:c,overridesResolver:h=Ig(Pg(l))}=s,d=uh(s,Mg),f=void 0!==u?u:l&&"Root"!==l&&"root"!==l||!1,p=c||!1;let g=kg;"Root"===l||"root"===l?g=i:l?g=r:function(t){return"string"==typeof t&&t.charCodeAt(0)>96}(t)&&(g=void 0);const m=Mf(t,ch({shouldForwardProp:g,label:void 0},d)),y=t=>"function"==typeof t&&t.__emotion_real!==t||Pf(t)?i=>Og(t,ch({},i,{theme:Rg({theme:i.theme,defaultTheme:n,themeId:e})})):t,v=(i,...r)=>{let s=y(i);const l=r?r.map(y):[];a&&h&&l.push((t=>{const i=Rg(ch({},t,{defaultTheme:n,themeId:e}));if(!i.components||!i.components[a]||!i.components[a].styleOverrides)return null;const r=i.components[a].styleOverrides,o={};return Object.entries(r).forEach((([e,n])=>{o[e]=Og(n,ch({},t,{theme:i}))})),h(t,o)})),a&&!f&&l.push((t=>{var i;const r=Rg(ch({},t,{defaultTheme:n,themeId:e}));return Og({variants:null==r||null==(i=r.components)||null==(i=i[a])?void 0:i.variants},ch({},t,{theme:r}))})),p||l.push(o);const u=l.length-r.length;if(Array.isArray(i)&&u>0){const t=new Array(u).fill("");s=[...i,...t],s.raw=[...i.raw,...t]}const c=m(s,...l);return t.muiName&&(c.muiName=t.muiName),c};return m.withConfig&&(v.withConfig=m.withConfig),v}}();function Lg(t,e){const n=ch({},e);return Object.keys(t).forEach((i=>{if(i.toString().match(/^(components|slots)$/))n[i]=ch({},t[i],n[i]);else if(i.toString().match(/^(componentsProps|slotProps)$/)){const r=t[i]||{},o=e[i];n[i]={},o&&Object.keys(o)?r&&Object.keys(r)?(n[i]=ch({},o),Object.keys(r).forEach((t=>{n[i][t]=Lg(r[t],o[t])}))):n[i]=o:n[i]=r}else void 0===n[i]&&(n[i]=t[i])})),n}function Ag(t){const{theme:e,name:n,props:i}=t;return e&&e.components&&e.components[n]&&e.components[n].defaultProps?Lg(e.components[n].defaultProps,i):i}function jg({props:t,name:e,defaultTheme:n,themeId:i}){let r=Gp(n);return i&&(r=r[i]||r),Ag({theme:r,name:e,props:t})}const Ng="undefined"!=typeof window?G.useLayoutEffect:G.useEffect;function Dg(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const zg=Object.freeze(Object.defineProperty({__proto__:null,default:Dg},Symbol.toStringTag,{value:"Module"}));function $g(...t){return t.reduce(((t,e)=>null==e?t:function(...n){t.apply(this,n),e.apply(this,n)}),(()=>{}))}function Bg(t,e){var n,i;return G.isValidElement(t)&&-1!==e.indexOf(null!=(n=t.type.muiName)?n:null==(i=t.type)||null==(i=i._payload)||null==(i=i.value)?void 0:i.muiName)}function Wg(t){return t&&t.ownerDocument||document}function Gg(t){return Wg(t).defaultView||window}function Ug(t,e){"function"==typeof t?t(e):t&&(t.current=e)}let Hg=0;const Vg=H["useId".toString()];function qg(t){if(void 0!==Vg){const e=Vg();return null!=t?t:e}return function(t){const[e,n]=G.useState(t),i=t||e;return G.useEffect((()=>{null==e&&(Hg+=1,n(`mui-${Hg}`))}),[e]),i}(t)}function Xg({controlled:t,default:e,name:n,state:i="value"}){const{current:r}=G.useRef(void 0!==t),[o,s]=G.useState(e);return[r?t:o,G.useCallback((t=>{r||s(t)}),[])]}function Kg(t){const e=G.useRef(t);return Ng((()=>{e.current=t})),G.useRef(((...t)=>(0,e.current)(...t))).current}function Zg(...t){return G.useMemo((()=>t.every((t=>null==t))?null:e=>{t.forEach((t=>{Ug(t,e)}))}),t)}const Yg={},Jg=[];class Qg{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Qg}start(t,e){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,e()}),t)}}function tm(){const t=function(t,e){const n=G.useRef(Yg);return n.current===Yg&&(n.current=t(e)),n}(Qg.create).current;var e;return e=t.disposeEffect,G.useEffect(e,Jg),t}let em=!0,nm=!1;const im=new Qg,rm={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function om(t){t.metaKey||t.altKey||t.ctrlKey||(em=!0)}function sm(){em=!1}function am(){"hidden"===this.visibilityState&&nm&&(em=!0)}function lm(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch(n){}return em||function(t){const{type:e,tagName:n}=t;return!("INPUT"!==n||!rm[e]||t.readOnly)||"TEXTAREA"===n&&!t.readOnly||!!t.isContentEditable}(e)}function um(){const t=G.useCallback((t=>{var e;null!=t&&((e=t.ownerDocument).addEventListener("keydown",om,!0),e.addEventListener("mousedown",sm,!0),e.addEventListener("pointerdown",sm,!0),e.addEventListener("touchstart",sm,!0),e.addEventListener("visibilitychange",am,!0))}),[]),e=G.useRef(!1);return{isFocusVisibleRef:e,onFocus:function(t){return!!lm(t)&&(e.current=!0,!0)},onBlur:function(){return!!e.current&&(nm=!0,im.start(100,(()=>{nm=!1})),e.current=!1,!0)},ref:t}}const cm=G.createContext(null);function hm(){return G.useContext(cm)}const dm="function"==typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";function fm(t){const{children:e,theme:n}=t,i=hm(),r=G.useMemo((()=>{const t=null===i?n:function(t,e){return"function"==typeof e?e(t):ch({},t,e)}(i,n);return null!=t&&(t[dm]=null!==i),t}),[n,i]);return Q.jsx(cm.Provider,{value:r,children:e})}const pm=["value"],gm=G.createContext();function mm(t){let{value:e}=t,n=uh(t,pm);return Q.jsx(gm.Provider,ch({value:null==e||e},n))}const ym=()=>{const t=G.useContext(gm);return null!=t&&t},vm={};function _m(t,e,n,i=!1){return G.useMemo((()=>{const r=t&&e[t]||e;if("function"==typeof n){const o=n(r),s=t?ch({},e,{[t]:o}):o;return i?()=>s:s}return ch({},e,t?{[t]:n}:n)}),[t,e,n,i])}function xm(t){const{children:e,theme:n,themeId:i}=t,r=Bp(vm),o=hm()||vm,s=_m(i,r,n),a=_m(i,o,n,!0),l="rtl"===s.direction;return Q.jsx(fm,{theme:a,children:Q.jsx(df.Provider,{value:s,children:Q.jsx(mm,{value:l,children:e})})})}const bm=["component","direction","spacing","divider","children","className","useFlexGap"],wm=zp(),Sm=Fg("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function Em(t){return jg({props:t,name:"MuiStack",defaultTheme:wm})}function Cm(t,e){const n=G.Children.toArray(t).filter(Boolean);return n.reduce(((t,i,r)=>(t.push(i),r<n.length-1&&t.push(G.cloneElement(e,{key:`separator-${r}`})),t)),[])}const Mm=({ownerState:t,theme:e})=>{let n=ch({display:"flex",flexDirection:"column"},zf({theme:e},Wf({values:t.direction,breakpoints:e.breakpoints.values}),(t=>({flexDirection:t}))));if(t.spacing){const i=ep(e),r=Object.keys(e.breakpoints.values).reduce(((e,n)=>(("object"==typeof t.spacing&&null!=t.spacing[n]||"object"==typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e)),{}),o=Wf({values:t.direction,base:r}),s=Wf({values:t.spacing,base:r});"object"==typeof o&&Object.keys(o).forEach(((t,e,n)=>{if(!o[t]){const i=e>0?o[n[e-1]]:"column";o[t]=i}})),n=If(n,zf({theme:e},s,((e,n)=>{return t.useFlexGap?{gap:np(i,e)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${r=n?o[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r]}`]:np(i,e)}};var r})))}return n=function(t,...e){const n=$f(t),i=[n,...e].reduce(((t,e)=>If(t,e)),{});return Bf(Object.keys(n),i)}(e.breakpoints,n),n};var km,Tm={},Pm={exports:{}};(km=Pm).exports=function(t){return t&&t.__esModule?t:{default:t}},km.exports.__esModule=!0,km.exports.default=km.exports;var Rm=Pm.exports;const Im=i(gh),Om=i(zg);var Fm=Rm;Object.defineProperty(Tm,"__esModule",{value:!0});var Lm=Tm.alpha=Xm;Tm.blend=function(t,e,n,i=1){const r=(t,e)=>Math.round((t**(1/i)*(1-n)+e**(1/i)*n)**i),o=Gm(t),s=Gm(e);return Hm({type:"rgb",values:[r(o.values[0],s.values[0]),r(o.values[1],s.values[1]),r(o.values[2],s.values[2])]})},Tm.colorChannel=void 0;var Am=Tm.darken=Km;Tm.decomposeColor=Gm;var jm=Tm.emphasize=Ym,Nm=Tm.getContrastRatio=function(t,e){const n=qm(t),i=qm(e);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)};Tm.getLuminance=qm,Tm.hexToRgb=Wm,Tm.hslToRgb=Vm;var Dm=Tm.lighten=Zm;Tm.private_safeAlpha=function(t,e,n){try{return Xm(t,e)}catch(i){return t}},Tm.private_safeColorChannel=void 0,Tm.private_safeDarken=function(t,e,n){try{return Km(t,e)}catch(i){return t}},Tm.private_safeEmphasize=function(t,e,n){try{return Ym(t,e)}catch(i){return t}},Tm.private_safeLighten=function(t,e,n){try{return Zm(t,e)}catch(i){return t}},Tm.recomposeColor=Hm,Tm.rgbToHex=function(t){if(0===t.indexOf("#"))return t;const{values:e}=Gm(t);return`#${e.map(((t,e)=>function(t){const e=t.toString(16);return 1===e.length?`0${e}`:e}(3===e?Math.round(255*t):t))).join("")}`};var zm=Fm(Im),$m=Fm(Om);function Bm(t,e=0,n=1){return(0,$m.default)(t,e,n)}function Wm(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&1===n[0].length&&(n=n.map((t=>t+t))),n?`rgb${4===n.length?"a":""}(${n.map(((t,e)=>e<3?parseInt(t,16):Math.round(parseInt(t,16)/255*1e3)/1e3)).join(", ")})`:""}function Gm(t){if(t.type)return t;if("#"===t.charAt(0))return Gm(Wm(t));const e=t.indexOf("("),n=t.substring(0,e);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,zm.default)(9,t));let i,r=t.substring(e+1,t.length-1);if("color"===n){if(r=r.split(" "),i=r.shift(),4===r.length&&"/"===r[3].charAt(0)&&(r[3]=r[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,zm.default)(10,i))}else r=r.split(",");return r=r.map((t=>parseFloat(t))),{type:n,values:r,colorSpace:i}}const Um=t=>{const e=Gm(t);return e.values.slice(0,3).map(((t,n)=>-1!==e.type.indexOf("hsl")&&0!==n?`${t}%`:t)).join(" ")};function Hm(t){const{type:e,colorSpace:n}=t;let{values:i}=t;return-1!==e.indexOf("rgb")?i=i.map(((t,e)=>e<3?parseInt(t,10):t)):-1!==e.indexOf("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),i=-1!==e.indexOf("color")?`${n} ${i.join(" ")}`:`${i.join(", ")}`,`${e}(${i})`}function Vm(t){t=Gm(t);const{values:e}=t,n=e[0],i=e[1]/100,r=e[2]/100,o=i*Math.min(r,1-r),s=(t,e=(t+n/30)%12)=>r-o*Math.max(Math.min(e-3,9-e,1),-1);let a="rgb";const l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===t.type&&(a+="a",l.push(e[3])),Hm({type:a,values:l})}function qm(t){let e="hsl"===(t=Gm(t)).type||"hsla"===t.type?Gm(Vm(t)).values:t.values;return e=e.map((e=>("color"!==t.type&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4))),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Xm(t,e){return t=Gm(t),e=Bm(e),"rgb"!==t.type&&"hsl"!==t.type||(t.type+="a"),"color"===t.type?t.values[3]=`/${e}`:t.values[3]=e,Hm(t)}function Km(t,e){if(t=Gm(t),e=Bm(e),-1!==t.type.indexOf("hsl"))t.values[2]*=1-e;else if(-1!==t.type.indexOf("rgb")||-1!==t.type.indexOf("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Hm(t)}function Zm(t,e){if(t=Gm(t),e=Bm(e),-1!==t.type.indexOf("hsl"))t.values[2]+=(100-t.values[2])*e;else if(-1!==t.type.indexOf("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(-1!==t.type.indexOf("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Hm(t)}function Ym(t,e=.15){return qm(t)>.5?Km(t,e):Zm(t,e)}Tm.colorChannel=Um,Tm.private_safeColorChannel=(t,e)=>{try{return Um(t)}catch(n){return t}};var Jm,Qm={},ty={exports:{}};const ey=i(Tf),ny=i(Of),iy=i(Uf),ry=i(Sg),oy=i($p),sy=i(qp);var ay=Rm;Object.defineProperty(Qm,"__esModule",{value:!0});var ly=Qm.default=function(t={}){const{themeId:e,defaultTheme:n=xy,rootShouldForwardProp:i=_y,slotShouldForwardProp:r=_y}=t,o=t=>(0,py.default)((0,uy.default)({},t,{theme:wy((0,uy.default)({},t,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(t,s={})=>{(0,hy.internal_processStyles)(t,(t=>t.filter((t=>!(null!=t&&t.__mui_systemSx)))));const{name:a,slot:l,skipVariantsResolver:u,skipSx:c,overridesResolver:h=Sy(by(l))}=s,d=(0,cy.default)(s,yy),f=void 0!==u?u:l&&"Root"!==l&&"root"!==l||!1,p=c||!1;let g=_y;"Root"===l||"root"===l?g=i:l?g=r:function(t){return"string"==typeof t&&t.charCodeAt(0)>96}(t)&&(g=void 0);const m=(0,hy.default)(t,(0,uy.default)({shouldForwardProp:g,label:void 0},d)),y=t=>"function"==typeof t&&t.__emotion_real!==t||(0,dy.isPlainObject)(t)?i=>Ey(t,(0,uy.default)({},i,{theme:wy({theme:i.theme,defaultTheme:n,themeId:e})})):t,v=(i,...r)=>{let s=y(i);const l=r?r.map(y):[];a&&h&&l.push((t=>{const i=wy((0,uy.default)({},t,{defaultTheme:n,themeId:e}));if(!i.components||!i.components[a]||!i.components[a].styleOverrides)return null;const r=i.components[a].styleOverrides,o={};return Object.entries(r).forEach((([e,n])=>{o[e]=Ey(n,(0,uy.default)({},t,{theme:i}))})),h(t,o)})),a&&!f&&l.push((t=>{var i;const r=wy((0,uy.default)({},t,{defaultTheme:n,themeId:e}));return Ey({variants:null==r||null==(i=r.components)||null==(i=i[a])?void 0:i.variants},(0,uy.default)({},t,{theme:r}))})),p||l.push(o);const u=l.length-r.length;if(Array.isArray(i)&&u>0){const t=new Array(u).fill("");s=[...i,...t],s.raw=[...i.raw,...t]}const c=m(s,...l);return t.muiName&&(c.muiName=t.muiName),c};return m.withConfig&&(v.withConfig=m.withConfig),v}};Qm.shouldForwardProp=_y,Qm.systemDefaultTheme=void 0;var uy=ay(pf()),cy=ay((Jm||(Jm=1,function(t){t.exports=function(t,e){if(null==t)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n},t.exports.__esModule=!0,t.exports.default=t.exports}(ty)),ty.exports)),hy=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=vy(e);if(n&&n.has(t))return n.get(t);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=r?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=t[o]}return i.default=t,n&&n.set(t,i),i}(ey),dy=ny;ay(iy),ay(ry);var fy=ay(oy),py=ay(sy);const gy=["ownerState"],my=["variants"],yy=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function vy(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(vy=function(t){return t?n:e})(t)}function _y(t){return"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t}const xy=Qm.systemDefaultTheme=(0,fy.default)(),by=t=>t?t.charAt(0).toLowerCase()+t.slice(1):t;function wy({defaultTheme:t,theme:e,themeId:n}){return i=e,0===Object.keys(i).length?t:e[n]||e;var i}function Sy(t){return t?(e,n)=>n[t]:null}function Ey(t,e){let{ownerState:n}=e,i=(0,cy.default)(e,gy);const r="function"==typeof t?t((0,uy.default)({ownerState:n},i)):t;if(Array.isArray(r))return r.flatMap((t=>Ey(t,(0,uy.default)({ownerState:n},i))));if(r&&"object"==typeof r&&Array.isArray(r.variants)){const{variants:t=[]}=r;let e=(0,cy.default)(r,my);return t.forEach((t=>{let r=!0;"function"==typeof t.props?r=t.props((0,uy.default)({ownerState:n},i,n)):Object.keys(t.props).forEach((e=>{(null==n?void 0:n[e])!==t.props[e]&&i[e]!==t.props[e]&&(r=!1)})),r&&(Array.isArray(e)||(e=[e]),e.push("function"==typeof t.style?t.style((0,uy.default)({ownerState:n},i,n)):t.style))})),e}return r}const Cy={black:"#000",white:"#fff"},My={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},ky="#f3e5f5",Ty="#ce93d8",Py="#ba68c8",Ry="#ab47bc",Iy="#9c27b0",Oy="#7b1fa2",Fy="#e57373",Ly="#ef5350",Ay="#f44336",jy="#d32f2f",Ny="#c62828",Dy="#ffb74d",zy="#ffa726",$y="#ff9800",By="#f57c00",Wy="#e65100",Gy="#e3f2fd",Uy="#90caf9",Hy="#42a5f5",Vy="#1976d2",qy="#1565c0",Xy="#4fc3f7",Ky="#29b6f6",Zy="#03a9f4",Yy="#0288d1",Jy="#01579b",Qy="#81c784",tv="#66bb6a",ev="#4caf50",nv="#388e3c",iv="#2e7d32",rv="#1b5e20",ov=["mode","contrastThreshold","tonalOffset"],sv={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Cy.white,default:Cy.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},av={text:{primary:Cy.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Cy.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function lv(t,e,n,i){const r=i.light||i,o=i.dark||1.5*i;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:"light"===e?t.light=Dm(t.main,r):"dark"===e&&(t.dark=Am(t.main,o)))}function uv(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:i=.2}=t,r=uh(t,ov),o=t.primary||function(t="light"){return"dark"===t?{main:Uy,light:Gy,dark:Hy}:{main:Vy,light:Hy,dark:qy}}(e),s=t.secondary||function(t="light"){return"dark"===t?{main:Ty,light:ky,dark:Ry}:{main:Iy,light:Py,dark:Oy}}(e),a=t.error||function(t="light"){return"dark"===t?{main:Ay,light:Fy,dark:jy}:{main:jy,light:Ly,dark:Ny}}(e),l=t.info||function(t="light"){return"dark"===t?{main:Ky,light:Xy,dark:Yy}:{main:Yy,light:Zy,dark:Jy}}(e),u=t.success||function(t="light"){return"dark"===t?{main:tv,light:Qy,dark:nv}:{main:iv,light:ev,dark:rv}}(e),c=t.warning||function(t="light"){return"dark"===t?{main:zy,light:Dy,dark:By}:{main:"#ed6c02",light:$y,dark:Wy}}(e);function h(t){return Nm(t,av.text.primary)>=n?av.text.primary:sv.text.primary}const d=({color:t,name:e,mainShade:n=500,lightShade:r=300,darkShade:o=700})=>{if(!(t=ch({},t)).main&&t[n]&&(t.main=t[n]),!t.hasOwnProperty("main"))throw new Error(ph(11,e?` (${e})`:"",n));if("string"!=typeof t.main)throw new Error(ph(12,e?` (${e})`:"",JSON.stringify(t.main)));return lv(t,"light",r,i),lv(t,"dark",o,i),t.contrastText||(t.contrastText=h(t.main)),t},f={dark:av,light:sv};return If(ch({common:ch({},Cy),mode:e,primary:d({color:o,name:"primary"}),secondary:d({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:a,name:"error"}),warning:d({color:c,name:"warning"}),info:d({color:l,name:"info"}),success:d({color:u,name:"success"}),grey:My,contrastThreshold:n,getContrastText:h,augmentColor:d,tonalOffset:i},f[e]),r)}const cv=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"],hv={textTransform:"uppercase"},dv='"Roboto", "Helvetica", "Arial", sans-serif';function fv(t,e){const n="function"==typeof e?e(t):e,{fontFamily:i=dv,fontSize:r=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:h}=n,d=uh(n,cv),f=r/14,p=h||(t=>t/u*f+"rem"),g=(t,e,n,r,o)=>{return ch({fontFamily:i,fontWeight:t,fontSize:p(e),lineHeight:n},i===dv?{letterSpacing:(s=r/e,Math.round(1e5*s)/1e5+"em")}:{},o,c);var s},m={h1:g(o,96,1.167,-1.5),h2:g(o,60,1.2,-.5),h3:g(s,48,1.167,0),h4:g(s,34,1.235,.25),h5:g(s,24,1.334,0),h6:g(a,20,1.6,.15),subtitle1:g(s,16,1.75,.15),subtitle2:g(a,14,1.57,.1),body1:g(s,16,1.5,.15),body2:g(s,14,1.43,.15),button:g(a,14,1.75,.4,hv),caption:g(s,12,1.66,.4),overline:g(s,12,2.66,1,hv),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return If(ch({htmlFontSize:u,pxToRem:p,fontFamily:i,fontSize:r,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},m),d,{clone:!1})}function pv(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,0.2)`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,0.14)`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,0.12)`].join(",")}const gv=["none",pv(0,2,1,-1,0,1,1,0,0,1,3,0),pv(0,3,1,-2,0,2,2,0,0,1,5,0),pv(0,3,3,-2,0,3,4,0,0,1,8,0),pv(0,2,4,-1,0,4,5,0,0,1,10,0),pv(0,3,5,-1,0,5,8,0,0,1,14,0),pv(0,3,5,-1,0,6,10,0,0,1,18,0),pv(0,4,5,-2,0,7,10,1,0,2,16,1),pv(0,5,5,-3,0,8,10,1,0,3,14,2),pv(0,5,6,-3,0,9,12,1,0,3,16,2),pv(0,6,6,-3,0,10,14,1,0,4,18,3),pv(0,6,7,-4,0,11,15,1,0,4,20,3),pv(0,7,8,-4,0,12,17,2,0,5,22,4),pv(0,7,8,-4,0,13,19,2,0,5,24,4),pv(0,7,9,-4,0,14,21,2,0,5,26,4),pv(0,8,9,-5,0,15,22,2,0,6,28,5),pv(0,8,10,-5,0,16,24,2,0,6,30,5),pv(0,8,11,-5,0,17,26,2,0,6,32,5),pv(0,9,11,-5,0,18,28,2,0,7,34,6),pv(0,9,12,-6,0,19,29,2,0,7,36,6),pv(0,10,13,-6,0,20,31,3,0,8,38,7),pv(0,10,13,-6,0,21,33,3,0,8,40,7),pv(0,10,14,-6,0,22,35,3,0,8,42,7),pv(0,11,14,-7,0,23,36,3,0,9,44,8),pv(0,11,15,-7,0,24,38,3,0,9,46,8)],mv=["duration","easing","delay"],yv={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},vv={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function _v(t){return`${Math.round(t)}ms`}function xv(t){if(!t)return 0;const e=t/36;return Math.round(10*(4+15*e**.25+e/5))}function bv(t){const e=ch({},yv,t.easing),n=ch({},vv,t.duration);return ch({getAutoHeightDuration:xv,create:(t=["all"],i={})=>{const{duration:r=n.standard,easing:o=e.easeInOut,delay:s=0}=i;return uh(i,mv),(Array.isArray(t)?t:[t]).map((t=>`${t} ${"string"==typeof r?r:_v(r)} ${o} ${"string"==typeof s?s:_v(s)}`)).join(",")}},t,{easing:e,duration:n})}const wv={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Sv=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Ev(t={},...e){const{mixins:n={},palette:i={},transitions:r={},typography:o={}}=t,s=uh(t,Sv);if(t.vars)throw new Error(ph(18));const a=uv(i),l=zp(t);let u=If(l,{mixins:(c=l.breakpoints,h=n,ch({toolbar:{minHeight:56,[c.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[c.up("sm")]:{minHeight:64}}},h)),palette:a,shadows:gv.slice(),typography:fv(a,o),transitions:bv(r),zIndex:ch({},wv)});var c,h;return u=If(u,s),u=e.reduce(((t,e)=>If(t,e)),u),u.unstable_sxConfig=ch({},Lp,null==s?void 0:s.unstable_sxConfig),u.unstable_sx=function(t){return jp({sx:t,theme:this})},u}const Cv=Ev(),Mv="$$material",kv=t=>function(t){return"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t}(t)&&"classes"!==t,Tv=ly({themeId:Mv,defaultTheme:Cv,rootShouldForwardProp:kv});function Pv({props:t,name:e}){return jg({props:t,name:e,defaultTheme:Cv,themeId:Mv})}function Rv(t){return Jp("MuiLinearProgress",t)}Qp("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const Iv=["className","color","value","valueBuffer","variant"];let Ov,Fv,Lv,Av,jv,Nv,Dv=t=>t;const zv=yf(Ov||(Ov=Dv`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),$v=yf(Fv||(Fv=Dv`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),Bv=yf(Lv||(Lv=Dv`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),Wv=(t,e)=>"inherit"===e?"currentColor":t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:"light"===t.palette.mode?Dm(t.palette[e].main,.62):Am(t.palette[e].main,.5),Gv=Tv("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${Gf(n.color)}`],e[n.variant]]}})((({ownerState:t,theme:e})=>ch({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:Wv(e,t.color)},"inherit"===t.color&&"buffer"!==t.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===t.variant&&{backgroundColor:"transparent"},"query"===t.variant&&{transform:"rotate(180deg)"}))),Uv=Tv("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${Gf(n.color)}`]]}})((({ownerState:t,theme:e})=>{const n=Wv(e,t.color);return ch({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===t.color&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),mf(Av||(Av=Dv`
    animation: ${0} 3s infinite linear;
  `),Bv)),Hv=Tv("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${Gf(n.color)}`],("indeterminate"===n.variant||"query"===n.variant)&&e.bar1Indeterminate,"determinate"===n.variant&&e.bar1Determinate,"buffer"===n.variant&&e.bar1Buffer]}})((({ownerState:t,theme:e})=>ch({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===t.color?"currentColor":(e.vars||e).palette[t.color].main},"determinate"===t.variant&&{transition:"transform .4s linear"},"buffer"===t.variant&&{zIndex:1,transition:"transform .4s linear"})),(({ownerState:t})=>("indeterminate"===t.variant||"query"===t.variant)&&mf(jv||(jv=Dv`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),zv))),Vv=Tv("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${Gf(n.color)}`],("indeterminate"===n.variant||"query"===n.variant)&&e.bar2Indeterminate,"buffer"===n.variant&&e.bar2Buffer]}})((({ownerState:t,theme:e})=>ch({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==t.variant&&{backgroundColor:"inherit"===t.color?"currentColor":(e.vars||e).palette[t.color].main},"inherit"===t.color&&{opacity:.3},"buffer"===t.variant&&{backgroundColor:Wv(e,t.color),transition:"transform .4s linear"})),(({ownerState:t})=>("indeterminate"===t.variant||"query"===t.variant)&&mf(Nv||(Nv=Dv`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),$v))),qv=G.forwardRef((function(t,e){const n=Pv({props:t,name:"MuiLinearProgress"}),{className:i,color:r="primary",value:o,valueBuffer:s,variant:a="indeterminate"}=n,l=uh(n,Iv),u=ch({},n,{color:r,variant:a}),c=(t=>{const{classes:e,variant:n,color:i}=t;return fh({root:["root",`color${Gf(i)}`,n],dashed:["dashed",`dashedColor${Gf(i)}`],bar1:["bar",`barColor${Gf(i)}`,("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&`barColor${Gf(i)}`,"buffer"===n&&`color${Gf(i)}`,("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]},Rv,e)})(u),h=ym(),d={},f={bar1:{},bar2:{}};if(("determinate"===a||"buffer"===a)&&void 0!==o){d["aria-valuenow"]=Math.round(o),d["aria-valuemin"]=0,d["aria-valuemax"]=100;let t=o-100;h&&(t=-t),f.bar1.transform=`translateX(${t}%)`}if("buffer"===a&&void 0!==s){let t=(s||0)-100;h&&(t=-t),f.bar2.transform=`translateX(${t}%)`}return Q.jsxs(Gv,ch({className:dh(c.root,i),ownerState:u,role:"progressbar"},d,{ref:e},l,{children:["buffer"===a?Q.jsx(Uv,{className:c.dashed,ownerState:u}):null,Q.jsx(Hv,{className:c.bar1,ownerState:u,style:f.bar1}),"determinate"===a?null:Q.jsx(Vv,{className:c.bar2,ownerState:u,style:f.bar2})]}))})),Xv=()=>Q.jsx("div",{children:Q.jsx(qv,{color:"secondary"})});var Kv={exports:{}},Zv={},Yv=G,Jv="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},Qv=Yv.useSyncExternalStore,t_=Yv.useRef,e_=Yv.useEffect,n_=Yv.useMemo,i_=Yv.useDebugValue;Zv.useSyncExternalStoreWithSelector=function(t,e,n,i,r){var o=t_(null);if(null===o.current){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=n_((function(){function t(t){if(!l){if(l=!0,o=t,t=i(t),void 0!==r&&s.hasValue){var e=s.value;if(r(e,t))return a=e}return a=t}if(e=a,Jv(o,t))return e;var n=i(t);return void 0!==r&&r(e,n)?e:(o=t,a=n)}var o,a,l=!1,u=void 0===n?null:n;return[function(){return t(e())},null===u?void 0:function(){return t(u())}]}),[e,n,i,r]);var a=Qv(t,o[0],o[1]);return e_((function(){s.hasValue=!0,s.value=a}),[a]),i_(a),a},Kv.exports=Zv;var r_=Kv.exports,o_="default"in H?U:H,s_=Symbol.for("react-redux-context"),a_="undefined"!=typeof globalThis?globalThis:{};function l_(){if(!o_.createContext)return{};const t=a_[s_]??(a_[s_]=new Map);let e=t.get(o_.createContext);return e||(e=o_.createContext(null),t.set(o_.createContext,e)),e}var u_=l_();function c_(t=u_){return function(){return o_.useContext(t)}}var h_=c_(),d_=()=>{throw new Error("uSES not initialized!")},f_=(t,e)=>t===e;function p_(t=u_){const e=t===u_?h_:c_(t),n=(t,n={})=>{const{equalityFn:i=f_,devModeChecks:r={}}="function"==typeof n?{equalityFn:n}:n,{store:o,subscription:s,getServerState:a,stabilityCheck:l,identityFunctionCheck:u}=e();o_.useRef(!0);const c=o_.useCallback({[t.name]:e=>t(e)}[t.name],[t,l,r.stabilityCheck]),h=d_(s.addNestedSub,o.getState,a||o.getState,c,i);return o_.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var g_=p_(),m_={notify(){},get:()=>[]},y_=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),v_="undefined"!=typeof navigator&&"ReactNative"===navigator.product,__=y_||v_?o_.useLayoutEffect:o_.useEffect,x_=function({store:t,context:e,children:n,serverState:i,stabilityCheck:r="once",identityFunctionCheck:o="once"}){const s=o_.useMemo((()=>{const e=function(t){let e,n=m_,i=0,r=!1;function o(){l.onStateChange&&l.onStateChange()}function s(){i++,e||(e=t.subscribe(o),n=function(){let t=null,e=null;return{clear(){t=null,e=null},notify(){(()=>{let e=t;for(;e;)e.callback(),e=e.next})()},get(){const e=[];let n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(n){let i=!0;const r=e={callback:n,next:null,prev:e};return r.prev?r.prev.next=r:t=r,function(){i&&null!==t&&(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}())}function a(){i--,e&&0===i&&(e(),e=void 0,n.clear(),n=m_)}const l={addNestedSub:function(t){s();const e=n.subscribe(t);let i=!1;return()=>{i||(i=!0,e(),a())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:o,isSubscribed:function(){return r},trySubscribe:function(){r||(r=!0,s())},tryUnsubscribe:function(){r&&(r=!1,a())},getListeners:()=>n};return l}(t);return{store:t,subscription:e,getServerState:i?()=>i:void 0,stabilityCheck:r,identityFunctionCheck:o}}),[t,i,r,o]),a=o_.useMemo((()=>t.getState()),[t]);__((()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[s,a]);const l=e||u_;return o_.createElement(l.Provider,{value:s},n)};function b_(t=u_){const e=t===u_?h_:c_(t),n=()=>{const{store:t}=e();return t};return Object.assign(n,{withTypes:()=>n}),n}var w_=b_();function S_(t=u_){const e=t===u_?w_:b_(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var E_,C_=S_();function M_(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}E_=r_.useSyncExternalStoreWithSelector,d_=E_;var k_=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),T_=()=>Math.random().toString(36).substring(7).split("").join("."),P_={INIT:`@@redux/INIT${T_()}`,REPLACE:`@@redux/REPLACE${T_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${T_()}`};function R_(t){if("object"!=typeof t||null===t)return!1;let e=t;for(;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||null===Object.getPrototypeOf(t)}function I_(t,e,n){if("function"!=typeof t)throw new Error(M_(2));if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(M_(0));if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error(M_(1));return n(I_)(t,e)}let i=t,r=e,o=new Map,s=o,a=0,l=!1;function u(){s===o&&(s=new Map,o.forEach(((t,e)=>{s.set(e,t)})))}function c(){if(l)throw new Error(M_(3));return r}function h(t){if("function"!=typeof t)throw new Error(M_(4));if(l)throw new Error(M_(5));let e=!0;u();const n=a++;return s.set(n,t),function(){if(e){if(l)throw new Error(M_(6));e=!1,u(),s.delete(n),o=null}}}function d(t){if(!R_(t))throw new Error(M_(7));if(void 0===t.type)throw new Error(M_(8));if("string"!=typeof t.type)throw new Error(M_(17));if(l)throw new Error(M_(9));try{l=!0,r=i(r,t)}finally{l=!1}return(o=s).forEach((t=>{t()})),t}return d({type:P_.INIT}),{dispatch:d,subscribe:h,getState:c,replaceReducer:function(t){if("function"!=typeof t)throw new Error(M_(10));i=t,d({type:P_.REPLACE})},[k_]:function(){const t=h;return{subscribe(e){if("object"!=typeof e||null===e)throw new Error(M_(11));function n(){const t=e;t.next&&t.next(c())}return n(),{unsubscribe:t(n)}},[k_](){return this}}}}}function O_(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const i=e[s];"function"==typeof t[i]&&(n[i]=t[i])}const i=Object.keys(n);let r;try{!function(t){Object.keys(t).forEach((e=>{const n=t[e];if(void 0===n(void 0,{type:P_.INIT}))throw new Error(M_(12));if(void 0===n(void 0,{type:P_.PROBE_UNKNOWN_ACTION()}))throw new Error(M_(13))}))}(n)}catch(o){r=o}return function(t={},e){if(r)throw r;let o=!1;const s={};for(let r=0;r<i.length;r++){const a=i[r],l=n[a],u=t[a],c=l(u,e);if(void 0===c)throw e&&e.type,new Error(M_(14));s[a]=c,o=o||c!==u}return o=o||i.length!==Object.keys(t).length,o?s:t}}function F_(...t){return 0===t.length?t=>t:1===t.length?t[0]:t.reduce(((t,e)=>(...n)=>t(e(...n))))}var L_=Symbol.for("immer-nothing"),A_=Symbol.for("immer-draftable"),j_=Symbol.for("immer-state");function N_(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var D_=Object.getPrototypeOf;function z_(t){return!!t&&!!t[j_]}function $_(t){var e;return!!t&&(W_(t)||Array.isArray(t)||!!t[A_]||!!(null==(e=t.constructor)?void 0:e[A_])||q_(t)||X_(t))}var B_=Object.prototype.constructor.toString();function W_(t){if(!t||"object"!=typeof t)return!1;const e=D_(t);if(null===e)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===B_}function G_(t,e){0===U_(t)?Reflect.ownKeys(t).forEach((n=>{e(n,t[n],t)})):t.forEach(((n,i)=>e(i,n,t)))}function U_(t){const e=t[j_];return e?e.type_:Array.isArray(t)?1:q_(t)?2:X_(t)?3:0}function H_(t,e){return 2===U_(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function V_(t,e,n){const i=U_(t);2===i?t.set(e,n):3===i?t.add(n):t[e]=n}function q_(t){return t instanceof Map}function X_(t){return t instanceof Set}function K_(t){return t.copy_||t.base_}function Z_(t,e){if(q_(t))return new Map(t);if(X_(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=W_(t);if(!0===e||"class_only"===e&&!n){const e=Object.getOwnPropertyDescriptors(t);delete e[j_];let n=Reflect.ownKeys(e);for(let i=0;i<n.length;i++){const r=n[i],o=e[r];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[r]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[r]})}return Object.create(D_(t),e)}{const e=D_(t);if(null!==e&&n)return{...t};const i=Object.create(e);return Object.assign(i,t)}}function Y_(t,e=!1){return Q_(t)||z_(t)||!$_(t)||(U_(t)>1&&(t.set=t.add=t.clear=t.delete=J_),Object.freeze(t),e&&Object.entries(t).forEach((([t,e])=>Y_(e,!0)))),t}function J_(){N_(2)}function Q_(t){return Object.isFrozen(t)}var tx,ex={};function nx(t){const e=ex[t];return e||N_(0),e}function ix(){return tx}function rx(t,e){e&&(nx("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function ox(t){sx(t),t.drafts_.forEach(lx),t.drafts_=null}function sx(t){t===tx&&(tx=t.parent_)}function ax(t){return tx={drafts_:[],parent_:tx,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function lx(t){const e=t[j_];0===e.type_||1===e.type_?e.revoke_():e.revoked_=!0}function ux(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return void 0!==t&&t!==n?(n[j_].modified_&&(ox(e),N_(4)),$_(t)&&(t=cx(e,t),e.parent_||dx(e,t)),e.patches_&&nx("Patches").generateReplacementPatches_(n[j_].base_,t,e.patches_,e.inversePatches_)):t=cx(e,n,[]),ox(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==L_?t:void 0}function cx(t,e,n){if(Q_(e))return e;const i=e[j_];if(!i)return G_(e,((r,o)=>hx(t,i,e,r,o,n))),e;if(i.scope_!==t)return e;if(!i.modified_)return dx(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const e=i.copy_;let r=e,o=!1;3===i.type_&&(r=new Set(e),e.clear(),o=!0),G_(r,((r,s)=>hx(t,i,e,r,s,n,o))),dx(t,e,!1),n&&t.patches_&&nx("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function hx(t,e,n,i,r,o,s){if(z_(r)){const s=cx(t,r,o&&e&&3!==e.type_&&!H_(e.assigned_,i)?o.concat(i):void 0);if(V_(n,i,s),!z_(s))return;t.canAutoFreeze_=!1}else s&&n.add(r);if($_(r)&&!Q_(r)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;cx(t,r),e&&e.scope_.parent_||"symbol"==typeof i||!Object.prototype.propertyIsEnumerable.call(n,i)||dx(t,r)}}function dx(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Y_(e,n)}var fx={get(t,e){if(e===j_)return t;const n=K_(t);if(!H_(n,e))return function(t,e,n){var i;const r=mx(e,n);return r?"value"in r?r.value:null==(i=r.get)?void 0:i.call(t.draft_):void 0}(t,n,e);const i=n[e];return t.finalized_||!$_(i)?i:i===gx(t.base_,e)?(vx(t),t.copy_[e]=_x(i,t)):i},has:(t,e)=>e in K_(t),ownKeys:t=>Reflect.ownKeys(K_(t)),set(t,e,n){const i=mx(K_(t),e);if(null==i?void 0:i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const i=gx(K_(t),e),s=null==i?void 0:i[j_];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(((r=n)===(o=i)?0!==r||1/r==1/o:r!=r&&o!=o)&&(void 0!==n||H_(t.base_,e)))return!0;vx(t),yx(t)}var r,o;return t.copy_[e]===n&&(void 0!==n||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty:(t,e)=>(void 0!==gx(t.base_,e)||e in t.base_?(t.assigned_[e]=!1,vx(t),yx(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0),getOwnPropertyDescriptor(t,e){const n=K_(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i?{writable:!0,configurable:1!==t.type_||"length"!==e,enumerable:i.enumerable,value:n[e]}:i},defineProperty(){N_(11)},getPrototypeOf:t=>D_(t.base_),setPrototypeOf(){N_(12)}},px={};function gx(t,e){const n=t[j_];return(n?K_(n):t)[e]}function mx(t,e){if(!(e in t))return;let n=D_(t);for(;n;){const t=Object.getOwnPropertyDescriptor(n,e);if(t)return t;n=D_(n)}}function yx(t){t.modified_||(t.modified_=!0,t.parent_&&yx(t.parent_))}function vx(t){t.copy_||(t.copy_=Z_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}function _x(t,e){const n=q_(t)?nx("MapSet").proxyMap_(t,e):X_(t)?nx("MapSet").proxySet_(t,e):function(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:ix(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,o=fx;n&&(r=[i],o=px);const{revoke:s,proxy:a}=Proxy.revocable(r,o);return i.draft_=a,i.revoke_=s,a}(t,e);return(e?e.scope_:ix()).drafts_.push(n),n}function xx(t){return z_(t)||N_(10),bx(t)}function bx(t){if(!$_(t)||Q_(t))return t;const e=t[j_];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Z_(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Z_(t,!0);return G_(n,((t,e)=>{V_(n,t,bx(e))})),e&&(e.finalized_=!1),n}G_(fx,((t,e)=>{px[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),px.deleteProperty=function(t,e){return px.set.call(this,t,e,void 0)},px.set=function(t,e,n){return fx.set.call(this,t[0],e,n,t[0])};var wx=new class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,e,n)=>{if("function"==typeof t&&"function"!=typeof e){const n=e;e=t;const i=this;return function(t=n,...r){return i.produce(t,(t=>e.call(this,t,...r)))}}let i;if("function"!=typeof e&&N_(6),void 0!==n&&"function"!=typeof n&&N_(7),$_(t)){const r=ax(this),o=_x(t,void 0);let s=!0;try{i=e(o),s=!1}finally{s?ox(r):sx(r)}return rx(r,n),ux(i,r)}if(!t||"object"!=typeof t){if(i=e(t),void 0===i&&(i=t),i===L_&&(i=void 0),this.autoFreeze_&&Y_(i,!0),n){const e=[],r=[];nx("Patches").generateReplacementPatches_(t,i,e,r),n(e,r)}return i}N_(1)},this.produceWithPatches=(t,e)=>{if("function"==typeof t)return(e,...n)=>this.produceWithPatches(e,(e=>t(e,...n)));let n,i;return[this.produce(t,e,((t,e)=>{n=t,i=e})),n,i]},"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),"boolean"==typeof(null==t?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){$_(t)||N_(8),z_(t)&&(t=xx(t));const e=ax(this),n=_x(t,void 0);return n[j_].isManual_=!0,sx(e),n}finishDraft(t,e){const n=t&&t[j_];n&&n.isManual_||N_(9);const{scope_:i}=n;return rx(i,e),ux(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(0===i.path.length&&"replace"===i.op){t=i.value;break}}n>-1&&(e=e.slice(n+1));const i=nx("Patches").applyPatches_;return z_(t)?i(t,e):this.produce(t,(t=>i(t,e)))}},Sx=wx.produce;wx.produceWithPatches.bind(wx),wx.setAutoFreeze.bind(wx),wx.setUseStrictShallowCopy.bind(wx),wx.applyPatches.bind(wx),wx.createDraft.bind(wx),wx.finishDraft.bind(wx);var Ex=t=>Array.isArray(t)?t:[t];function Cx(t){const e=Array.isArray(t[0])?t[0]:t;return function(t,e="expected all items to be functions, instead received the following types: "){if(!t.every((t=>"function"==typeof t))){const n=t.map((t=>"function"==typeof t?`function ${t.name||"unnamed"}()`:typeof t)).join(", ");throw new TypeError(`${e}[${n}]`)}}(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}var Mx="undefined"!=typeof WeakRef?WeakRef:class{constructor(t){this.value=t}deref(){return this.value}};function kx(t,e={}){let n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:i}=e;let r,o=0;function s(){var e;let s=n;const{length:a}=arguments;for(let t=0,n=a;t<n;t++){const e=arguments[t];if("function"==typeof e||"object"==typeof e&&null!==e){let t=s.o;null===t&&(s.o=t=new WeakMap);const n=t.get(e);void 0===n?(s={s:0,v:void 0,o:null,p:null},t.set(e,s)):s=n}else{let t=s.p;null===t&&(s.p=t=new Map);const n=t.get(e);void 0===n?(s={s:0,v:void 0,o:null,p:null},t.set(e,s)):s=n}}const l=s;let u;if(1===s.s)u=s.v;else if(u=t.apply(null,arguments),o++,i){const t=(null==(e=null==r?void 0:r.deref)?void 0:e.call(r))??r;null!=t&&i(t,u)&&(u=t,0!==o&&o--),r="object"==typeof u&&null!==u||"function"==typeof u?new Mx(u):u}return l.s=1,l.v=u,u}return s.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function Tx(t,...e){const n="function"==typeof t?{memoize:t,memoizeOptions:e}:t,i=(...t)=>{let e,i=0,r=0,o={},s=t.pop();"object"==typeof s&&(o=s,s=t.pop()),function(t,e="expected a function, instead received "+typeof t){if("function"!=typeof t)throw new TypeError(e)}(s,`createSelector expects an output function after the inputs, but received: [${typeof s}]`);const a={...n,...o},{memoize:l,memoizeOptions:u=[],argsMemoize:c=kx,argsMemoizeOptions:h=[],devModeChecks:d={}}=a,f=Ex(u),p=Ex(h),g=Cx(t),m=l((function(){return i++,s.apply(null,arguments)}),...f),y=c((function(){r++;const t=function(t,e){const n=[],{length:i}=t;for(let r=0;r<i;r++)n.push(t[r].apply(null,e));return n}(g,arguments);return e=m.apply(null,t),e}),...p);return Object.assign(y,{resultFunc:s,memoizedResultFunc:m,dependencies:g,dependencyRecomputations:()=>r,resetDependencyRecomputations:()=>{r=0},lastResult:()=>e,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:l,argsMemoize:c})};return Object.assign(i,{withTypes:()=>i}),i}var Px=Tx(kx),Rx=Object.assign(((t,e=Px)=>{!function(t,e="expected an object, instead received "+typeof t){if("object"!=typeof t)throw new TypeError(e)}(t,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof t);const n=Object.keys(t);return e(n.map((e=>t[e])),((...t)=>t.reduce(((t,e,i)=>(t[n[i]]=e,t)),{})))}),{withTypes:()=>Rx});function Ix(t){return({dispatch:e,getState:n})=>i=>r=>"function"==typeof r?r(e,n,t):i(r)}var Ox=Ix(),Fx=Ix;((...t)=>{const e=Tx(...t),n=Object.assign(((...t)=>{const n=e(...t),i=(t,...e)=>n(z_(t)?xx(t):t,...e);return Object.assign(i,n),i}),{withTypes:()=>n})})(kx);var Lx="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?F_:F_.apply(null,arguments)};function Ax(t,e){function n(...n){if(e){let i=e(...n);if(!i)throw new Error(tb(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=e=>function(t){return R_(t)&&"type"in t&&"string"==typeof t.type}(e)&&e.type===t,n}var jx=class t extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,t.prototype)}static get[Symbol.species](){return t}concat(...t){return super.concat.apply(this,t)}prepend(...e){return 1===e.length&&Array.isArray(e[0])?new t(...e[0].concat(this)):new t(...e.concat(this))}};function Nx(t){return $_(t)?Sx(t,(()=>{})):t}function Dx(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(tb(10));const i=n.insert(e,t);return t.set(e,i),i}var zx=t=>e=>{setTimeout(e,t)},$x="undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:zx(10),Bx=t=>function(e){const{autoBatch:n=!0}=e??{};let i=new jx(t);return n&&i.push(((t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let r=!0,o=!1,s=!1;const a=new Set,l="tick"===t.type?queueMicrotask:"raf"===t.type?$x:"callback"===t.type?t.queueNotification:zx(t.timeout),u=()=>{s=!1,o&&(o=!1,a.forEach((t=>t())))};return Object.assign({},i,{subscribe(t){const e=i.subscribe((()=>r&&t()));return a.add(t),()=>{e(),a.delete(t)}},dispatch(t){var e;try{return r=!(null==(e=null==t?void 0:t.meta)?void 0:e.RTK_autoBatch),o=!r,o&&(s||(s=!0,l(u))),i.dispatch(t)}finally{r=!0}}})})("object"==typeof n?n:void 0)),i};function Wx(t){const e={},n=[];let i;const r={addCase(t,n){const i="string"==typeof t?t:t.type;if(!i)throw new Error(tb(28));if(i in e)throw new Error(tb(29));return e[i]=n,r},addMatcher:(t,e)=>(n.push({matcher:t,reducer:e}),r),addDefaultCase:t=>(i=t,r)};return t(r),[e,n,i]}var Gx=Symbol.for("rtk-slice-createasyncthunk");function Ux(t,e){return`${t}/${e}`}function Hx({creators:t}={}){var e;const n=null==(e=null==t?void 0:t.asyncThunk)?void 0:e[Gx];return function(t){const{name:e,reducerPath:i=e}=t;if(!e)throw new Error(tb(11));const r=("function"==typeof t.reducers?t.reducers(function(){function t(t,e){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...e}}return t.withTypes=()=>t,{reducer:t=>Object.assign({[t.name]:(...e)=>t(...e)}[t.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(t,e)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:e}),asyncThunk:t}}()):t.reducers)||{},o=Object.keys(r),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},a={addCase(t,e){const n="string"==typeof t?t:t.type;if(!n)throw new Error(tb(12));if(n in s.sliceCaseReducersByType)throw new Error(tb(13));return s.sliceCaseReducersByType[n]=e,a},addMatcher:(t,e)=>(s.sliceMatchers.push({matcher:t,reducer:e}),a),exposeAction:(t,e)=>(s.actionCreators[t]=e,a),exposeCaseReducer:(t,e)=>(s.sliceCaseReducersByName[t]=e,a)};function l(){const[e={},n=[],i]="function"==typeof t.extraReducers?Wx(t.extraReducers):[t.extraReducers],r={...e,...s.sliceCaseReducersByType};return function(t,e){let n,[i,r,o]=Wx(e);if("function"==typeof t)n=()=>Nx(t());else{const e=Nx(t);n=()=>e}function s(t=n(),e){let s=[i[e.type],...r.filter((({matcher:t})=>t(e))).map((({reducer:t})=>t))];return 0===s.filter((t=>!!t)).length&&(s=[o]),s.reduce(((t,n)=>{if(n){if(z_(t)){const i=n(t,e);return void 0===i?t:i}if($_(t))return Sx(t,(t=>n(t,e)));{const i=n(t,e);if(void 0===i){if(null===t)return t;throw new Error(tb(9))}return i}}return t}),t)}return s.getInitialState=n,s}(t.initialState,(t=>{for(let e in r)t.addCase(e,r[e]);for(let e of s.sliceMatchers)t.addMatcher(e.matcher,e.reducer);for(let e of n)t.addMatcher(e.matcher,e.reducer);i&&t.addDefaultCase(i)}))}o.forEach((i=>{const o=r[i],s={reducerName:i,type:Ux(e,i),createNotation:"function"==typeof t.reducers};!function(t){return"asyncThunk"===t._reducerDefinitionType}(o)?function({type:t,reducerName:e,createNotation:n},i,r){let o,s;if("reducer"in i){if(n&&!function(t){return"reducerWithPrepare"===t._reducerDefinitionType}(i))throw new Error(tb(17));o=i.reducer,s=i.prepare}else o=i;r.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,s?Ax(t,s):Ax(t))}(s,o,a):function({type:t,reducerName:e},n,i,r){if(!r)throw new Error(tb(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:l,settled:u,options:c}=n,h=r(t,o,c);i.exposeAction(e,h),s&&i.addCase(h.fulfilled,s),a&&i.addCase(h.pending,a),l&&i.addCase(h.rejected,l),u&&i.addMatcher(h.settled,u),i.exposeCaseReducer(e,{fulfilled:s||Xx,pending:a||Xx,rejected:l||Xx,settled:u||Xx})}(s,o,a,n)}));const u=t=>t,c=new Map;let h;function d(t,e){return h||(h=l()),h(t,e)}function f(){return h||(h=l()),h.getInitialState()}function p(e,n=!1){function i(t){let i=t[e];return void 0===i&&n&&(i=f()),i}function r(e=u){const i=Dx(c,n,{insert:()=>new WeakMap});return Dx(i,e,{insert:()=>{const i={};for(const[r,o]of Object.entries(t.selectors??{}))i[r]=Vx(o,e,f,n);return i}})}return{reducerPath:e,getSelectors:r,get selectors(){return r(i)},selectSlice:i}}const g={name:e,reducer:d,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:f,...p(i),injectInto(t,{reducerPath:e,...n}={}){const r=e??i;return t.inject({reducerPath:r,reducer:d},n),{...g,...p(r,!0)}}};return g}}function Vx(t,e,n,i){function r(r,...o){let s=e(r);return void 0===s&&i&&(s=n()),t(s,...o)}return r.unwrapped=t,r}var qx=Hx();function Xx(){}var Kx="listenerMiddleware",Zx=t=>{let{type:e,actionCreator:n,matcher:i,predicate:r,effect:o}=t;if(e)r=Ax(e).match;else if(n)e=n.type,r=n.match;else if(i)r=i;else if(!r)throw new Error(tb(21));return(t=>{if("function"!=typeof t)throw new Error(tb(32))})(o),{predicate:r,type:e,effect:o}},Yx=Object.assign((t=>{const{type:e,predicate:n,effect:i}=Zx(t);return{id:((t=21)=>{let e="",n=t;for(;n--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e})(),effect:i,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(tb(22))}}}),{withTypes:()=>Yx}),Jx=Object.assign(Ax(`${Kx}/add`),{withTypes:()=>Jx});Ax(`${Kx}/removeAll`);var Qx=Object.assign(Ax(`${Kx}/remove`),{withTypes:()=>Qx});function tb(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const eb={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class nb{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(t,e)}init(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||eb,this.options=e,this.debug=e.debug}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")}deprecate(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(t,e,n,i){return i&&!this.debug?null:("string"==typeof t[0]&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[e](t))}create(t){return new nb(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new nb(this.logger,t)}}var ib=new nb;class rb{constructor(){this.observers={}}on(t,e){return t.split(" ").forEach((t=>{this.observers[t]||(this.observers[t]=new Map);const n=this.observers[t].get(e)||0;this.observers[t].set(e,n+1)})),this}off(t,e){this.observers[t]&&(e?this.observers[t].delete(e):delete this.observers[t])}emit(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach((t=>{let[e,i]=t;for(let r=0;r<i;r++)e(...n)})),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach((e=>{let[i,r]=e;for(let o=0;o<r;o++)i.apply(i,[t,...n])}))}}function ob(){let t,e;const n=new Promise(((n,i)=>{t=n,e=i}));return n.resolve=t,n.reject=e,n}function sb(t){return null==t?"":""+t}const ab=/###/g;function lb(t,e,n){function i(t){return t&&t.indexOf("###")>-1?t.replace(ab,"."):t}function r(){return!t||"string"==typeof t}const o="string"!=typeof e?e:e.split(".");let s=0;for(;s<o.length-1;){if(r())return{};const e=i(o[s]);!t[e]&&n&&(t[e]=new n),t=Object.prototype.hasOwnProperty.call(t,e)?t[e]:{},++s}return r()?{}:{obj:t,k:i(o[s])}}function ub(t,e,n){const{obj:i,k:r}=lb(t,e,Object);if(void 0!==i||1===e.length)return void(i[r]=n);let o=e[e.length-1],s=e.slice(0,e.length-1),a=lb(t,s,Object);for(;void 0===a.obj&&s.length;)o=`${s[s.length-1]}.${o}`,s=s.slice(0,s.length-1),a=lb(t,s,Object),a&&a.obj&&void 0!==a.obj[`${a.k}.${o}`]&&(a.obj=void 0);a.obj[`${a.k}.${o}`]=n}function cb(t,e){const{obj:n,k:i}=lb(t,e);if(n)return n[i]}function hb(t,e,n){for(const i in e)"__proto__"!==i&&"constructor"!==i&&(i in t?"string"==typeof t[i]||t[i]instanceof String||"string"==typeof e[i]||e[i]instanceof String?n&&(t[i]=e[i]):hb(t[i],e[i],n):t[i]=e[i]);return t}function db(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var fb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function pb(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,(t=>fb[t])):t}const gb=[" ",",","?","!",";"],mb=new class{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const e=this.regExpMap.get(t);if(void 0!==e)return e;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}(20);function yb(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!t)return;if(t[e])return t[e];const i=e.split(n);let r=t;for(let o=0;o<i.length;){if(!r||"object"!=typeof r)return;let t,e="";for(let s=o;s<i.length;++s)if(s!==o&&(e+=n),e+=i[s],t=r[e],void 0!==t){if(["string","number","boolean"].indexOf(typeof t)>-1&&s<i.length-1)continue;o+=s-o+1;break}r=t}return r}function vb(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class _b extends rb{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=e,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}getResource(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,o=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;t.indexOf(".")>-1?s=t.split("."):(s=[t,e],n&&(Array.isArray(n)?s.push(...n):"string"==typeof n&&r?s.push(...n.split(r)):s.push(n)));const a=cb(this.data,s);return!a&&!e&&!n&&t.indexOf(".")>-1&&(t=s[0],e=s[1],n=s.slice(2).join(".")),a||!o||"string"!=typeof n?a:yb(this.data&&this.data[t]&&this.data[t][e],n,r)}addResource(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator;let s=[t,e];n&&(s=s.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(s=t.split("."),i=e,e=s[1]),this.addNamespaces(e),ub(this.data,s,i),r.silent||this.emit("added",t,e,n,i)}addResources(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const r in n)("string"==typeof n[r]||Array.isArray(n[r]))&&this.addResource(t,e,r,n[r],{silent:!0});i.silent||this.emit("added",t,e,n)}addResourceBundle(t,e,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},s=[t,e];t.indexOf(".")>-1&&(s=t.split("."),i=n,n=e,e=s[1]),this.addNamespaces(e);let a=cb(this.data,s)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?hb(a,n,r):a={...a,...n},ub(this.data,s,a),o.silent||this.emit("added",t,e,n)}removeResourceBundle(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}hasResourceBundle(t,e){return void 0!==this.getResource(t,e)}getResourceBundle(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(t,e)}:this.getResource(t,e)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const e=this.getDataByLanguage(t);return!!(e&&Object.keys(e)||[]).find((t=>e[t]&&Object.keys(e[t]).length>0))}toJSON(){return this.data}}var xb={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,i,r){return t.forEach((t=>{this.processors[t]&&(e=this.processors[t].process(e,n,i,r))})),e}};const bb={};class wb extends rb{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),function(t,e,n){t.forEach((t=>{e[t]&&(n[t]=e[t])}))}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=e,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=ib.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==t)return!1;const n=this.resolve(t,e);return n&&void 0!==n.res}extractFromKey(t,e){let n=void 0!==e.nsSeparator?e.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const i=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator;let r=e.ns||this.options.defaultNS||[];const o=n&&t.indexOf(n)>-1,s=!(this.options.userDefinedKeySeparator||e.keySeparator||this.options.userDefinedNsSeparator||e.nsSeparator||function(t,e,n){e=e||"",n=n||"";const i=gb.filter((t=>e.indexOf(t)<0&&n.indexOf(t)<0));if(0===i.length)return!0;const r=mb.getRegExp(`(${i.map((t=>"?"===t?"\\?":t)).join("|")})`);let o=!r.test(t);if(!o){const e=t.indexOf(n);e>0&&!r.test(t.substring(0,e))&&(o=!0)}return o}(t,n,i));if(o&&!s){const e=t.match(this.interpolator.nestingRegexp);if(e&&e.length>0)return{key:t,namespaces:r};const o=t.split(n);(n!==i||n===i&&this.options.ns.indexOf(o[0])>-1)&&(r=o.shift()),t=o.join(i)}return"string"==typeof r&&(r=[r]),{key:t,namespaces:r}}translate(t,e,n){if("object"!=typeof e&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof e&&(e={...e}),e||(e={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);const i=void 0!==e.returnDetails?e.returnDetails:this.options.returnDetails,r=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,{key:o,namespaces:s}=this.extractFromKey(t[t.length-1],e),a=s[s.length-1],l=e.lng||this.language,u=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(u){const t=e.nsSeparator||this.options.nsSeparator;return i?{res:`${a}${t}${o}`,usedKey:o,exactUsedKey:o,usedLng:l,usedNS:a,usedParams:this.getUsedParamsDetails(e)}:`${a}${t}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:l,usedNS:a,usedParams:this.getUsedParamsDetails(e)}:o}const c=this.resolve(t,e);let h=c&&c.res;const d=c&&c.usedKey||o,f=c&&c.exactUsedKey||o,p=Object.prototype.toString.apply(h),g=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject;if(m&&h&&"string"!=typeof h&&"boolean"!=typeof h&&"number"!=typeof h&&["[object Number]","[object Function]","[object RegExp]"].indexOf(p)<0&&("string"!=typeof g||!Array.isArray(h))){if(!e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const t=this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,h,{...e,ns:s}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(c.res=t,c.usedParams=this.getUsedParamsDetails(e),c):t}if(r){const t=Array.isArray(h),n=t?[]:{},i=t?f:d;for(const o in h)if(Object.prototype.hasOwnProperty.call(h,o)){const t=`${i}${r}${o}`;n[o]=this.translate(t,{...e,joinArrays:!1,ns:s}),n[o]===t&&(n[o]=h[o])}h=n}}else if(m&&"string"==typeof g&&Array.isArray(h))h=h.join(g),h&&(h=this.extendTranslation(h,t,e,n));else{let i=!1,s=!1;const u=void 0!==e.count&&"string"!=typeof e.count,d=wb.hasDefaultValue(e),f=u?this.pluralResolver.getSuffix(l,e.count,e):"",p=e.ordinal&&u?this.pluralResolver.getSuffix(l,e.count,{ordinal:!1}):"",g=u&&!e.ordinal&&0===e.count&&this.pluralResolver.shouldUseIntlApi(),m=g&&e[`defaultValue${this.options.pluralSeparator}zero`]||e[`defaultValue${f}`]||e[`defaultValue${p}`]||e.defaultValue;!this.isValidLookup(h)&&d&&(i=!0,h=m),this.isValidLookup(h)||(s=!0,h=o);const y=(e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&s?void 0:h,v=d&&m!==h&&this.options.updateMissing;if(s||i||v){if(this.logger.log(v?"updateKey":"missingKey",l,a,o,v?m:h),r){const t=this.resolve(o,{...e,keySeparator:!1});t&&t.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let t=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let e=0;e<n.length;e++)t.push(n[e]);else"all"===this.options.saveMissingTo?t=this.languageUtils.toResolveHierarchy(e.lng||this.language):t.push(e.lng||this.language);const i=(t,n,i)=>{const r=d&&i!==h?i:y;this.options.missingKeyHandler?this.options.missingKeyHandler(t,a,n,r,v,e):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(t,a,n,r,v,e),this.emit("missingKey",t,a,n,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&u?t.forEach((t=>{const n=this.pluralResolver.getSuffixes(t,e);g&&e[`defaultValue${this.options.pluralSeparator}zero`]&&n.indexOf(`${this.options.pluralSeparator}zero`)<0&&n.push(`${this.options.pluralSeparator}zero`),n.forEach((n=>{i([t],o+n,e[`defaultValue${n}`]||m)}))})):i(t,o,m))}h=this.extendTranslation(h,t,e,c,n),s&&h===o&&this.options.appendNamespaceToMissingKey&&(h=`${a}:${o}`),(s||i)&&this.options.parseMissingKeyHandler&&(h="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${a}:${o}`:o,i?h:void 0):this.options.parseMissingKeyHandler(h))}return i?(c.res=h,c.usedParams=this.getUsedParamsDetails(e),c):h}extendTranslation(t,e,n,i,r){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const s="string"==typeof t&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let a;if(s){const e=t.match(this.interpolator.nestingRegexp);a=e&&e.length}let l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),t=this.interpolator.interpolate(t,l,n.lng||this.language,n),s){const e=t.match(this.interpolator.nestingRegexp);a<(e&&e.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&i&&i.res&&(n.lng=i.usedLng),!1!==n.nest&&(t=this.interpolator.nest(t,(function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return r&&r[0]===i[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${i[0]} in key: ${e[0]}`),null):o.translate(...i,e)}),n)),n.interpolation&&this.interpolator.reset()}const s=n.postProcess||this.options.postProcess,a="string"==typeof s?[s]:s;return null!=t&&a&&a.length&&!1!==n.applyPostProcessor&&(t=xb.handle(a,t,e,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t){let e,n,i,r,o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t&&(t=[t]),t.forEach((t=>{if(this.isValidLookup(e))return;const a=this.extractFromKey(t,s),l=a.key;n=l;let u=a.namespaces;this.options.fallbackNS&&(u=u.concat(this.options.fallbackNS));const c=void 0!==s.count&&"string"!=typeof s.count,h=c&&!s.ordinal&&0===s.count&&this.pluralResolver.shouldUseIntlApi(),d=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,f=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);u.forEach((t=>{this.isValidLookup(e)||(o=t,!bb[`${f[0]}-${t}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(bb[`${f[0]}-${t}`]=!0,this.logger.warn(`key "${n}" for languages "${f.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach((n=>{if(this.isValidLookup(e))return;r=n;const o=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(o,l,n,t,s);else{let t;c&&(t=this.pluralResolver.getSuffix(n,s.count,s));const e=`${this.options.pluralSeparator}zero`,i=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(c&&(o.push(l+t),s.ordinal&&0===t.indexOf(i)&&o.push(l+t.replace(i,this.options.pluralSeparator)),h&&o.push(l+e)),d){const n=`${l}${this.options.contextSeparator}${s.context}`;o.push(n),c&&(o.push(n+t),s.ordinal&&0===t.indexOf(i)&&o.push(n+t.replace(i,this.options.pluralSeparator)),h&&o.push(n+e))}}let a;for(;a=o.pop();)this.isValidLookup(e)||(i=a,e=this.getResource(n,t,a,s))})))}))})),{res:e,usedKey:n,exactUsedKey:i,usedLng:r,usedNS:o}}isValidLookup(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}getResource(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,n,i):this.resourceStore.getResource(t,e,n,i)}getUsedParamsDetails(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&"string"!=typeof t.replace;let i=n?t.replace:t;if(n&&void 0!==t.count&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const t of e)delete i[t]}return i}static hasDefaultValue(t){const e="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e===n.substring(0,12)&&void 0!==t[n])return!0;return!1}}function Sb(t){return t.charAt(0).toUpperCase()+t.slice(1)}class Eb{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ib.create("languageUtils")}getScriptPartFromCode(t){if(!(t=vb(t))||t.indexOf("-")<0)return null;const e=t.split("-");return 2===e.length?null:(e.pop(),"x"===e[e.length-1].toLowerCase()?null:this.formatLanguageCode(e.join("-")))}getLanguagePartFromCode(t){if(!(t=vb(t))||t.indexOf("-")<0)return t;const e=t.split("-");return this.formatLanguageCode(e[0])}formatLanguageCode(t){if("string"==typeof t&&t.indexOf("-")>-1){const e=["hans","hant","latn","cyrl","cans","mong","arab"];let n=t.split("-");return this.options.lowerCaseLng?n=n.map((t=>t.toLowerCase())):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=Sb(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=Sb(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=Sb(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let e;return t.forEach((t=>{if(e)return;const n=this.formatLanguageCode(t);this.options.supportedLngs&&!this.isSupportedCode(n)||(e=n)})),!e&&this.options.supportedLngs&&t.forEach((t=>{if(e)return;const n=this.getLanguagePartFromCode(t);if(this.isSupportedCode(n))return e=n;e=this.options.supportedLngs.find((t=>t===n?t:t.indexOf("-")<0&&n.indexOf("-")<0?void 0:t.indexOf("-")>0&&n.indexOf("-")<0&&t.substring(0,t.indexOf("-"))===n||0===t.indexOf(n)&&n.length>1?t:void 0))})),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e}getFallbackCodes(t,e){if(!t)return[];if("function"==typeof t&&(t=t(e)),"string"==typeof t&&(t=[t]),Array.isArray(t))return t;if(!e)return t.default||[];let n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t[this.getLanguagePartFromCode(e)]),n||(n=t.default),n||[]}toResolveHierarchy(t,e){const n=this.getFallbackCodes(e||this.options.fallbackLng||[],t),i=[],r=t=>{t&&(this.isSupportedCode(t)?i.push(t):this.logger.warn(`rejecting language code not found in supportedLngs: ${t}`))};return"string"==typeof t&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(t))):"string"==typeof t&&r(this.formatLanguageCode(t)),n.forEach((t=>{i.indexOf(t)<0&&r(this.formatLanguageCode(t))})),i}}let Cb=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Mb={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0==t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0==t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1==t?0:2==t?1:(t<0||t>10)&&t%10==0?2:3)}};const kb=["v1","v2","v3"],Tb=["v4"],Pb={zero:0,one:1,two:2,few:3,many:4,other:5};class Rb{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=t,this.options=e,this.logger=ib.create("pluralResolver"),this.options.compatibilityJSON&&!Tb.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){const t={};return Cb.forEach((e=>{e.lngs.forEach((n=>{t[n]={numbers:e.nr,plurals:Mb[e.fc]}}))})),t}()}addRule(t,e){this.rules[t]=e}getRule(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(vb("dev"===t?"en":t),{type:e.ordinal?"ordinal":"cardinal"})}catch(n){return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(t,e);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(t,n).map((t=>`${e}${t}`))}getSuffixes(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(t,e);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort(((t,e)=>Pb[t]-Pb[e])).map((t=>`${this.options.prepend}${e.ordinal?`ordinal${this.options.prepend}`:""}${t}`)):n.numbers.map((n=>this.getSuffix(t,n,e))):[]}getSuffix(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.getRule(t,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(e)}`:this.getSuffixRetroCompatible(i,e):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,e){const n=t.noAbs?t.plurals(e):t.plurals(Math.abs(e));let i=t.numbers[n];this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]&&(2===i?i="plural":1===i&&(i=""));const r=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?`_plural_${i.toString()}`:r():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]?r():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!kb.includes(this.options.compatibilityJSON)}}function Ib(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=function(t,e,n){const i=cb(t,n);return void 0!==i?i:cb(e,n)}(t,e,n);return!o&&r&&"string"==typeof n&&(o=yb(t,n,i),void 0===o&&(o=yb(e,n,i))),o}class Ob{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=ib.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(t=>t),this.init(t)}init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:e,escapeValue:n,useRawValueToEscape:i,prefix:r,prefixEscaped:o,suffix:s,suffixEscaped:a,formatSeparator:l,unescapeSuffix:u,unescapePrefix:c,nestingPrefix:h,nestingPrefixEscaped:d,nestingSuffix:f,nestingSuffixEscaped:p,nestingOptionsSeparator:g,maxReplaces:m,alwaysFormat:y}=t.interpolation;this.escape=void 0!==e?e:pb,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==i&&i,this.prefix=r?db(r):o||"{{",this.suffix=s?db(s):a||"}}",this.formatSeparator=l||",",this.unescapePrefix=u?"":c||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=h?db(h):d||db("$t("),this.nestingSuffix=f?db(f):p||db(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=m||1e3,this.alwaysFormat=void 0!==y&&y,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(t,e)=>t&&t.source===e?(t.lastIndex=0,t):new RegExp(e,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,e,n,i){let r,o,s;const a=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(t){return t.replace(/\$/g,"$$$$")}const u=t=>{if(t.indexOf(this.formatSeparator)<0){const r=Ib(e,a,t,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(r,void 0,n,{...i,...e,interpolationkey:t}):r}const r=t.split(this.formatSeparator),o=r.shift().trim(),s=r.join(this.formatSeparator).trim();return this.format(Ib(e,a,o,this.options.keySeparator,this.options.ignoreJSONStructure),s,n,{...i,...e,interpolationkey:o})};this.resetRegExp();const c=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,h=i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:t=>l(t)},{regex:this.regexp,safeValue:t=>this.escapeValue?l(this.escape(t)):l(t)}].forEach((e=>{for(s=0;r=e.regex.exec(t);){const n=r[1].trim();if(o=u(n),void 0===o)if("function"==typeof c){const e=c(t,r,i);o="string"==typeof e?e:""}else if(i&&Object.prototype.hasOwnProperty.call(i,n))o="";else{if(h){o=r[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${t}`),o=""}else"string"==typeof o||this.useRawValueToEscape||(o=sb(o));const a=e.safeValue(o);if(t=t.replace(r[0],a),h?(e.regex.lastIndex+=o.length,e.regex.lastIndex-=r[0].length):e.regex.lastIndex=0,s++,s>=this.maxReplaces)break}})),t}nest(t,e){let n,i,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function s(t,e){const n=this.nestingOptionsSeparator;if(t.indexOf(n)<0)return t;const i=t.split(new RegExp(`${n}[ ]*{`));let o=`{${i[1]}`;t=i[0],o=this.interpolate(o,r);const s=o.match(/'/g),a=o.match(/"/g);(s&&s.length%2==0&&!a||a.length%2!=0)&&(o=o.replace(/'/g,'"'));try{r=JSON.parse(o),e&&(r={...e,...r})}catch(l){return this.logger.warn(`failed parsing options string in nesting for key ${t}`,l),`${t}${n}${o}`}return r.defaultValue&&r.defaultValue.indexOf(this.prefix)>-1&&delete r.defaultValue,t}for(;n=this.nestingRegexp.exec(t);){let a=[];r={...o},r=r.replace&&"string"!=typeof r.replace?r.replace:r,r.applyPostProcessor=!1,delete r.defaultValue;let l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const t=n[1].split(this.formatSeparator).map((t=>t.trim()));n[1]=t.shift(),a=t,l=!0}if(i=e(s.call(this,n[1].trim(),r),r),i&&n[0]===t&&"string"!=typeof i)return i;"string"!=typeof i&&(i=sb(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${t}`),i=""),l&&(i=a.reduce(((t,e)=>this.format(t,e,o.lng,{...o,interpolationkey:n[1].trim()})),i.trim())),t=t.replace(n[0],i),this.regexp.lastIndex=0}return t}}function Fb(t){const e={};return function(n,i,r){const o=i+JSON.stringify(r);let s=e[o];return s||(s=t(vb(i),r),e[o]=s),s(n)}}class Lb{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=ib.create("formatter"),this.options=t,this.formats={number:Fb(((t,e)=>{const n=new Intl.NumberFormat(t,{...e});return t=>n.format(t)})),currency:Fb(((t,e)=>{const n=new Intl.NumberFormat(t,{...e,style:"currency"});return t=>n.format(t)})),datetime:Fb(((t,e)=>{const n=new Intl.DateTimeFormat(t,{...e});return t=>n.format(t)})),relativetime:Fb(((t,e)=>{const n=new Intl.RelativeTimeFormat(t,{...e});return t=>n.format(t,e.range||"day")})),list:Fb(((t,e)=>{const n=new Intl.ListFormat(t,{...e});return t=>n.format(t)}))},this.init(t)}init(t){const e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||","}add(t,e){this.formats[t.toLowerCase().trim()]=e}addCached(t,e){this.formats[t.toLowerCase().trim()]=Fb(e)}format(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e.split(this.formatSeparator).reduce(((t,e)=>{const{formatName:r,formatOptions:o}=function(t){let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const i=t.split("(");e=i[0].toLowerCase().trim();const r=i[1].substring(0,i[1].length-1);"currency"===e&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):"relativetime"===e&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach((t=>{if(t){const[e,...i]=t.split(":"),r=i.join(":").trim().replace(/^'+|'+$/g,""),o=e.trim();n[o]||(n[o]=r),"false"===r&&(n[o]=!1),"true"===r&&(n[o]=!0),isNaN(r)||(n[o]=parseInt(r,10))}}))}return{formatName:e,formatOptions:n}}(e);if(this.formats[r]){let e=t;try{const s=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},a=s.locale||s.lng||i.locale||i.lng||n;e=this.formats[r](t,a,{...o,...i,...s})}catch(s){this.logger.warn(s)}return e}return this.logger.warn(`there was no format function for ${r}`),t}),t)}}class Ab extends rb{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=t,this.store=e,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=ib.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(t,e,n,i){const r={},o={},s={},a={};return t.forEach((t=>{let i=!0;e.forEach((e=>{const s=`${t}|${e}`;!n.reload&&this.store.hasResourceBundle(t,e)?this.state[s]=2:this.state[s]<0||(1===this.state[s]?void 0===o[s]&&(o[s]=!0):(this.state[s]=1,i=!1,void 0===o[s]&&(o[s]=!0),void 0===r[s]&&(r[s]=!0),void 0===a[e]&&(a[e]=!0)))})),i||(s[t]=!0)})),(Object.keys(r).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(r),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(a)}}loaded(t,e,n){const i=t.split("|"),r=i[0],o=i[1];e&&this.emit("failedLoading",r,o,e),n&&this.store.addResourceBundle(r,o,n,void 0,void 0,{skipCopy:!0}),this.state[t]=e?-1:2;const s={};this.queue.forEach((n=>{!function(t,e,n){const{obj:i,k:r}=lb(t,e,Object);i[r]=i[r]||[],i[r].push(n)}(n.loaded,[r],o),function(t,e){void 0!==t.pending[e]&&(delete t.pending[e],t.pendingCount--)}(n,t),e&&n.errors.push(e),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((t=>{s[t]||(s[t]={});const e=n.loaded[t];e.length&&e.forEach((e=>{void 0===s[t][e]&&(s[t][e]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((t=>!t.done))}read(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:t,ns:e,fcName:n,tried:i,wait:r,callback:o});this.readingCalls++;const s=(s,a)=>{if(this.readingCalls--,this.waitingReads.length>0){const t=this.waitingReads.shift();this.read(t.lng,t.ns,t.fcName,t.tried,t.wait,t.callback)}s&&a&&i<this.maxRetries?setTimeout((()=>{this.read.call(this,t,e,n,i+1,2*r,o)}),r):o(s,a)},a=this.backend[n].bind(this.backend);if(2!==a.length)return a(t,e,s);try{const n=a(t,e);n&&"function"==typeof n.then?n.then((t=>s(null,t))).catch(s):s(null,n)}catch(l){s(l)}}prepareLoading(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);const r=this.queueLoad(t,e,n,i);if(!r.toLoad.length)return r.pending.length||i(),null;r.toLoad.forEach((t=>{this.loadOne(t)}))}load(t,e,n){this.prepareLoading(t,e,{},n)}reload(t,e,n){this.prepareLoading(t,e,{reload:!0},n)}loadOne(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=t.split("|"),i=n[0],r=n[1];this.read(i,r,"read",void 0,void 0,((n,o)=>{n&&this.logger.warn(`${e}loading namespace ${r} for language ${i} failed`,n),!n&&o&&this.logger.log(`${e}loaded namespace ${r} for language ${i}`,o),this.loaded(t,n,o)}))}saveMissing(t,e,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e))this.logger.warn(`did not save key "${n}" as the namespace "${e}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){const l={...o,isUpdate:r},u=this.backend.create.bind(this.backend);if(u.length<6)try{let r;r=5===u.length?u(t,e,n,i,l):u(t,e,n,i),r&&"function"==typeof r.then?r.then((t=>s(null,t))).catch(s):s(null,r)}catch(a){s(a)}else u(t,e,n,i,s,l)}t&&t[0]&&this.store.addResource(t[0],e,n,i)}}}function jb(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){let e={};if("object"==typeof t[1]&&(e=t[1]),"string"==typeof t[1]&&(e.defaultValue=t[1]),"string"==typeof t[2]&&(e.tDescription=t[2]),"object"==typeof t[2]||"object"==typeof t[3]){const n=t[3]||t[2];Object.keys(n).forEach((t=>{e[t]=n[t]}))}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Nb(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function Db(){}class zb extends rb{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=Nb(t),this.services={},this.logger=ib,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach((t=>{"function"==typeof n[t]&&(n[t]=n[t].bind(n))})),e&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,e),this;setTimeout((()=>{this.init(t,e)}),0)}}init(){var t=this;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof e&&(n=e,e={}),!e.defaultNS&&!1!==e.defaultNS&&e.ns&&("string"==typeof e.ns?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const i=jb();function r(t){return t?"function"==typeof t?new t:t:null}if(this.options={...i,...this.options,...Nb(e)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator),!this.options.isClone){let e;this.modules.logger?ib.init(r(this.modules.logger),this.options):ib.init(null,this.options),this.modules.formatter?e=this.modules.formatter:"undefined"!=typeof Intl&&(e=Lb);const n=new Eb(this.options);this.store=new _b(this.options.resources,this.options);const o=this.services;o.logger=ib,o.resourceStore=this.store,o.languageUtils=n,o.pluralResolver=new Rb(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!e||this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format||(o.formatter=r(e),o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new Ob(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new Ab(r(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t.emit(e,...i)})),this.modules.languageDetector&&(o.languageDetector=r(this.modules.languageDetector),o.languageDetector.init&&o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=r(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new wb(this.services,this.options),this.translator.on("*",(function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t.emit(e,...i)})),this.modules.external.forEach((t=>{t.init&&t.init(this)}))}if(this.format=this.options.interpolation.format,n||(n=Db),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const t=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);t.length>0&&"dev"!==t[0]&&(this.options.lng=t[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((e=>{this[e]=function(){return t.store[e](...arguments)}})),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((e=>{this[e]=function(){return t.store[e](...arguments),t}}));const o=ob(),s=()=>{const t=(t,e)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(e),n(t,e)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return t(null,this.t.bind(this));this.changeLanguage(this.options.lng,t)};return this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),o}loadResources(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Db;const n="string"==typeof t?t:this.language;if("function"==typeof t&&(e=t),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return e();const t=[],i=e=>{e&&"cimode"!==e&&this.services.languageUtils.toResolveHierarchy(e).forEach((e=>{"cimode"!==e&&t.indexOf(e)<0&&t.push(e)}))};n?i(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((t=>i(t))),this.options.preload&&this.options.preload.forEach((t=>i(t))),this.services.backendConnector.load(t,this.options.ns,(t=>{t||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),e(t)}))}else e(null)}reloadResources(t,e,n){const i=ob();return t||(t=this.languages),e||(e=this.options.ns),n||(n=Db),this.services.backendConnector.reload(t,e,(t=>{i.resolve(),n(t)})),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&xb.addPostProcessor(t),"formatter"===t.type&&(this.modules.formatter=t),"3rdParty"===t.type&&this.modules.external.push(t),this}setResolvedLanguage(t){if(t&&this.languages&&!(["cimode","dev"].indexOf(t)>-1))for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(t,e){var n=this;this.isLanguageChangingTo=t;const i=ob();this.emit("languageChanging",t);const r=t=>{this.language=t,this.languages=this.services.languageUtils.toResolveHierarchy(t),this.resolvedLanguage=void 0,this.setResolvedLanguage(t)},o=(t,o)=>{o?(r(o),this.translator.changeLanguage(o),this.isLanguageChangingTo=void 0,this.emit("languageChanged",o),this.logger.log("languageChanged",o)):this.isLanguageChangingTo=void 0,i.resolve((function(){return n.t(...arguments)})),e&&e(t,(function(){return n.t(...arguments)}))},s=e=>{t||e||!this.services.languageDetector||(e=[]);const n="string"==typeof e?e:this.services.languageUtils.getBestMatchFromCodes(e);n&&(this.language||r(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,(t=>{o(t,n)}))};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(t):s(this.services.languageDetector.detect()),i}getFixedT(t,e,n){var i=this;const r=function(t,e){let o;if("object"!=typeof e){for(var s=arguments.length,a=new Array(s>2?s-2:0),l=2;l<s;l++)a[l-2]=arguments[l];o=i.options.overloadTranslationOptionHandler([t,e].concat(a))}else o={...e};o.lng=o.lng||r.lng,o.lngs=o.lngs||r.lngs,o.ns=o.ns||r.ns,o.keyPrefix=o.keyPrefix||n||r.keyPrefix;const u=i.options.keySeparator||".";let c;return c=o.keyPrefix&&Array.isArray(t)?t.map((t=>`${o.keyPrefix}${u}${t}`)):o.keyPrefix?`${o.keyPrefix}${u}${t}`:t,i.t(c,o)};return"string"==typeof t?r.lng=t:r.lngs=t,r.ns=e,r.keyPrefix=n,r}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=e.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const o=(t,e)=>{const n=this.services.backendConnector.state[`${t}|${e}`];return-1===n||2===n};if(e.precheck){const t=e.precheck(this,o);if(void 0!==t)return t}return!(!this.hasResourceBundle(n,t)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!o(n,t)||i&&!o(r,t)))}loadNamespaces(t,e){const n=ob();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach((t=>{this.options.ns.indexOf(t)<0&&this.options.ns.push(t)})),this.loadResources((t=>{n.resolve(),e&&e(t)})),n):(e&&e(),Promise.resolve())}loadLanguages(t,e){const n=ob();"string"==typeof t&&(t=[t]);const i=this.options.preload||[],r=t.filter((t=>i.indexOf(t)<0&&this.services.languageUtils.isSupportedCode(t)));return r.length?(this.options.preload=i.concat(r),this.loadResources((t=>{n.resolve(),e&&e(t)})),n):(e&&e(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const e=this.services&&this.services.languageUtils||new Eb(jb());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(e.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new zb(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Db;const n=t.forkResourceStore;n&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},r=new zb(i);return void 0===t.debug&&void 0===t.prefix||(r.logger=r.logger.clone(t)),["store","services","language"].forEach((t=>{r[t]=this[t]})),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},n&&(r.store=new _b(this.store.data,i),r.services.resourceStore=r.store),r.translator=new wb(r.services,i),r.translator.on("*",(function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];r.emit(t,...n)})),r.init(i,e),r.translator.options=i,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const $b=zb.createInstance();$b.createInstance=zb.createInstance,$b.createInstance,$b.dir,$b.init,$b.loadResources,$b.reloadResources,$b.use,$b.changeLanguage,$b.getFixedT,$b.t,$b.exists,$b.setDefaultNamespace,$b.hasLoadedNamespace,$b.loadNamespaces,$b.loadLanguages;const Bb=qx({name:"notification",initialState:{message:"",open:!1,showLoadingOveray:!1,type:"info"},reducers:{hidden:t=>{t.open=!1,t.message=""},visible:(t,e)=>{t.open=!0,t.type=e.payload.type,e.payload.message&&(t.message=$b.t(e.payload.message,e.payload.parameters)),e.payload.messages&&(t.message=e.payload.messages.map((t=>t instanceof Object&&t.message?$b.t(t.message,t.parameters):$b.t(t))).join("\n"))},loadingOverlaySuccess:(t,e)=>{t.showLoadingOveray!==e.payload&&(t.showLoadingOveray=e.payload)}}}),Wb=Bb.reducer,{hidden:Gb,visible:Ub,loadingOverlaySuccess:Hb}=Bb.actions,Vb={zoom:4,center:[574947,6502749],extent:[334947,6387874,814947,6617624],baseLayer:"hallkaart",layersLoaded:!1,activeControl:"",viewExtent:[334947,6387874,814947,6617624],isLoading:!1,error:!1,adata:null,bdata:null,cdata:null,ddata:null,edata:null,fdata:null,activeFeatures:[],scenario:"FTTH",researchInfo:!0},qb=t=>t.map(((t,e)=>{const{$:n,p:i}=t;return{type:"Feature",id:e,geometry:n,properties:i}})),Xb=qx({name:"map",initialState:Vb,reducers:{reset:()=>({...Vb}),startLoading:t=>{t.isLoading=!0},hasError:(t,e)=>{t.error=e.payload,t.isLoading=!1},baseLayerChanged:(t,e)=>{t.baseLayer=void 0!==e.payload?e.payload:Vb.baseLayer},activeControlChanged:(t,e)=>{void 0!==e.payload.active?t.activeControl=e.payload.active?e.payload.control:"":t.activeControl=t.activeControl===e.payload.control?"":e.payload.control},viewSet:(t,e)=>{e.payload.extent?t.extent=e.payload.extent:(t.center=e.payload.center,t.zoom=e.payload.zoom,t.extent=null)},viewSave:t=>{t.extent=t.viewExtent},viewExtentChanged:(t,e)=>{t.viewExtent=void 0!==e.payload?e.payload:[]},viewZoomChanged:(t,e)=>{t.zoom=void 0!==e.payload?e.payload:1},setScenario:(t,e)=>{t.scenario=e.payload},setAData:(t,e)=>{t.adata=e.payload},setBData:(t,e)=>{t.bdata=qb(e.payload)},setCData:(t,e)=>{t.cdata=qb(e.payload)},setDData:(t,e)=>{t.ddata=qb(e.payload)},setEData:(t,e)=>{t.edata=qb(e.payload)},setFData:(t,e)=>{t.fdata=qb(e.payload)},setActiveFeatures:(t,e)=>{t.activeFeatures=void 0!==e.payload?e.payload:[]},setResearchInfo:(t,e)=>{t.researchInfo=void 0!==e.payload?e.payload:!t.researchInfo}}}),Kb=Xb.reducer,{reset:Zb,activeControlChanged:Yb,viewSet:Jb,viewZoomChanged:Qb,setScenario:tw,viewExtentChanged:ew,viewSave:nw,baseLayerChanged:iw,setAData:rw,setBData:ow,setCData:sw,setDData:aw,setEData:lw,setFData:uw,setActiveFeatures:cw,setResearchInfo:hw}=Xb.actions,dw=t=>async e=>{e(hw(t))},fw=t=>async e=>{e(cw(t))},pw=function(t){const e=function(t){const{thunk:e=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:r=!0}=t??{};let o=new jx;return e&&("boolean"==typeof e?o.push(Ox):o.push(Fx(e.extraArgument))),o},{reducer:n,middleware:i,devTools:r=!0,preloadedState:o,enhancers:s}=t||{};let a,l;if("function"==typeof n)a=n;else{if(!R_(n))throw new Error(tb(1));a=O_(n)}l="function"==typeof i?i(e):e();let u=F_;r&&(u=Lx({trace:!1,..."object"==typeof r&&r}));const c=function(...t){return e=>(n,i)=>{const r=e(n,i);let o=()=>{throw new Error(M_(15))};const s={getState:r.getState,dispatch:(t,...e)=>o(t,...e)},a=t.map((t=>t(s)));return o=F_(...a)(r.dispatch),{...r,dispatch:o}}}(...l),h=Bx(c);return I_(a,o,u(..."function"==typeof s?s(h):h()))}({reducer:O_({notification:Wb,map:Kb}),devTools:!1,middleware:t=>t({serializableCheck:!1})});function gw(){const t=Gp(Cv);return t[Mv]||t}const mw=["theme"];function yw(t){let{theme:e}=t,n=uh(t,mw);const i=e[Mv];return Q.jsx(xm,ch({},n,{themeId:i?Mv:void 0,theme:i||e}))}const vw=t=>{let e;return e=t<1?5.11916*t**2:4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function _w(t){return Jp("MuiSvgIcon",t)}Qp("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const xw=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],bw=Tv("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,"inherit"!==n.color&&e[`color${Gf(n.color)}`],e[`fontSize${Gf(n.fontSize)}`]]}})((({theme:t,ownerState:e})=>{var n,i,r,o,s,a,l,u,c,h,d,f,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(n=t.transitions)||null==(i=n.create)?void 0:i.call(n,"fill",{duration:null==(r=t.transitions)||null==(r=r.duration)?void 0:r.shorter}),fontSize:{inherit:"inherit",small:(null==(o=t.typography)||null==(s=o.pxToRem)?void 0:s.call(o,20))||"1.25rem",medium:(null==(a=t.typography)||null==(l=a.pxToRem)?void 0:l.call(a,24))||"1.5rem",large:(null==(u=t.typography)||null==(c=u.pxToRem)?void 0:c.call(u,35))||"2.1875rem"}[e.fontSize],color:null!=(h=null==(d=(t.vars||t).palette)||null==(d=d[e.color])?void 0:d.main)?h:{action:null==(f=(t.vars||t).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(p=(t.vars||t).palette)||null==(p=p.action)?void 0:p.disabled,inherit:void 0}[e.color]}})),ww=G.forwardRef((function(t,e){const n=Pv({props:t,name:"MuiSvgIcon"}),{children:i,className:r,color:o="inherit",component:s="svg",fontSize:a="medium",htmlColor:l,inheritViewBox:u=!1,titleAccess:c,viewBox:h="0 0 24 24"}=n,d=uh(n,xw),f=G.isValidElement(i)&&"svg"===i.type,p=ch({},n,{color:o,component:s,fontSize:a,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:f}),g={};u||(g.viewBox=h);const m=(t=>{const{color:e,fontSize:n,classes:i}=t;return fh({root:["root","inherit"!==e&&`color${Gf(e)}`,`fontSize${Gf(n)}`]},_w,i)})(p);return Q.jsxs(bw,ch({as:s,className:dh(m.root,r),focusable:"false",color:l,"aria-hidden":!c||void 0,role:c?"img":void 0,ref:e},g,d,f&&i.props,{ownerState:p,children:[f?i.props.children:i,c?Q.jsx("title",{children:c}):null]}))}));function Sw(t,e){function n(n,i){return Q.jsx(ww,ch({"data-testid":`${e}Icon`,ref:i},n,{children:t}))}return n.muiName=ww.muiName,G.memo(G.forwardRef(n))}ww.muiName="SvgIcon";const Ew={configure:t=>{Kp.configure(t)}},Cw=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Gf,createChainedFunction:$g,createSvgIcon:Sw,debounce:function(t,e=166){let n;function i(...i){clearTimeout(n),n=setTimeout((()=>{t.apply(this,i)}),e)}return i.clear=()=>{clearTimeout(n)},i},deprecatedPropType:function(t,e){return()=>null},isMuiElement:Bg,ownerDocument:Wg,ownerWindow:Gg,requirePropFactory:function(t,e){return()=>null},setRef:Ug,unstable_ClassNameGenerator:Ew,unstable_useEnhancedEffect:Ng,unstable_useId:qg,unsupportedProp:function(t,e,n,i,r){return null},useControlled:Xg,useEventCallback:Kg,useForkRef:Zg,useIsFocusVisible:um},Symbol.toStringTag,{value:"Module"}));var Mw,kw={},Tw=Symbol.for("react.element"),Pw=Symbol.for("react.portal"),Rw=Symbol.for("react.fragment"),Iw=Symbol.for("react.strict_mode"),Ow=Symbol.for("react.profiler"),Fw=Symbol.for("react.provider"),Lw=Symbol.for("react.context"),Aw=Symbol.for("react.server_context"),jw=Symbol.for("react.forward_ref"),Nw=Symbol.for("react.suspense"),Dw=Symbol.for("react.suspense_list"),zw=Symbol.for("react.memo"),$w=Symbol.for("react.lazy"),Bw=Symbol.for("react.offscreen");function Ww(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case Tw:switch(t=t.type){case Rw:case Ow:case Iw:case Nw:case Dw:return t;default:switch(t=t&&t.$$typeof){case Aw:case Lw:case jw:case $w:case zw:case Fw:return t;default:return e}}case Pw:return e}}}function Gw(t,e){return(Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Uw(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Gw(t,e)}Mw=Symbol.for("react.module.reference"),kw.ContextConsumer=Lw,kw.ContextProvider=Fw,kw.Element=Tw,kw.ForwardRef=jw,kw.Fragment=Rw,kw.Lazy=$w,kw.Memo=zw,kw.Portal=Pw,kw.Profiler=Ow,kw.StrictMode=Iw,kw.Suspense=Nw,kw.SuspenseList=Dw,kw.isAsyncMode=function(){return!1},kw.isConcurrentMode=function(){return!1},kw.isContextConsumer=function(t){return Ww(t)===Lw},kw.isContextProvider=function(t){return Ww(t)===Fw},kw.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===Tw},kw.isForwardRef=function(t){return Ww(t)===jw},kw.isFragment=function(t){return Ww(t)===Rw},kw.isLazy=function(t){return Ww(t)===$w},kw.isMemo=function(t){return Ww(t)===zw},kw.isPortal=function(t){return Ww(t)===Pw},kw.isProfiler=function(t){return Ww(t)===Ow},kw.isStrictMode=function(t){return Ww(t)===Iw},kw.isSuspense=function(t){return Ww(t)===Nw},kw.isSuspenseList=function(t){return Ww(t)===Dw},kw.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===Rw||t===Ow||t===Iw||t===Nw||t===Dw||t===Bw||"object"==typeof t&&null!==t&&(t.$$typeof===$w||t.$$typeof===zw||t.$$typeof===Fw||t.$$typeof===Lw||t.$$typeof===jw||t.$$typeof===Mw||void 0!==t.getModuleId)},kw.typeOf=Ww;const Hw=!1,Vw=U.createContext(null);var qw="unmounted",Xw="exited",Kw="entering",Zw="entered",Yw="exiting",Jw=function(t){function e(e,n){var i;i=t.call(this,e,n)||this;var r,o=n&&!n.isMounting?e.enter:e.appear;return i.appearStatus=null,e.in?o?(r=Xw,i.appearStatus=Kw):r=Zw:r=e.unmountOnExit||e.mountOnEnter?qw:Xw,i.state={status:r},i.nextCallback=null,i}Uw(e,t),e.getDerivedStateFromProps=function(t,e){return t.in&&e.status===qw?{status:Xw}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==Kw&&n!==Zw&&(e=Kw):n!==Kw&&n!==Zw||(e=Yw)}this.updateStatus(!1,e)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var t,e,n,i=this.props.timeout;return t=e=n=i,null!=i&&"number"!=typeof i&&(t=i.exit,e=i.enter,n=void 0!==i.appear?i.appear:e),{exit:t,enter:e,appear:n}},n.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e)if(this.cancelNextCallback(),e===Kw){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:ah.findDOMNode(this);n&&function(t){t.scrollTop}(n)}this.performEnter(t)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Xw&&this.setState({status:qw})},n.performEnter=function(t){var e=this,n=this.props.enter,i=this.context?this.context.isMounting:t,r=this.props.nodeRef?[i]:[ah.findDOMNode(this),i],o=r[0],s=r[1],a=this.getTimeouts(),l=i?a.appear:a.enter;!t&&!n||Hw?this.safeSetState({status:Zw},(function(){e.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:Kw},(function(){e.props.onEntering(o,s),e.onTransitionEnd(l,(function(){e.safeSetState({status:Zw},(function(){e.props.onEntered(o,s)}))}))})))},n.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:ah.findDOMNode(this);e&&!Hw?(this.props.onExit(i),this.safeSetState({status:Yw},(function(){t.props.onExiting(i),t.onTransitionEnd(n.exit,(function(){t.safeSetState({status:Xw},(function(){t.props.onExited(i)}))}))}))):this.safeSetState({status:Xw},(function(){t.props.onExited(i)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},n.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,e.nextCallback=null,t(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:ah.findDOMNode(this),i=null==t&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=r[0],s=r[1];this.props.addEndListener(o,s)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},n.render=function(){var t=this.state.status;if(t===qw)return null;var e=this.props,n=e.children;e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef;var i=uh(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return U.createElement(Vw.Provider,{value:null},"function"==typeof n?n(t,i):U.cloneElement(U.Children.only(n),i))},e}(U.Component);function Qw(){}function tS(t,e){var n=Object.create(null);return t&&G.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function(t){return e&&G.isValidElement(t)?e(t):t}(t)})),n}function eS(t,e,n){return null!=n[e]?n[e]:t.props[e]}function nS(t,e,n){var i=tS(t.children),r=function(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var i,r=Object.create(null),o=[];for(var s in t)s in e?o.length&&(r[s]=o,o=[]):o.push(s);var a={};for(var l in e){if(r[l])for(i=0;i<r[l].length;i++){var u=r[l][i];a[r[l][i]]=n(u)}a[l]=n(l)}for(i=0;i<o.length;i++)a[o[i]]=n(o[i]);return a}(e,i);return Object.keys(r).forEach((function(o){var s=r[o];if(G.isValidElement(s)){var a=o in e,l=o in i,u=e[o],c=G.isValidElement(u)&&!u.props.in;!l||a&&!c?l||!a||c?l&&a&&G.isValidElement(u)&&(r[o]=G.cloneElement(s,{onExited:n.bind(null,s),in:u.props.in,exit:eS(s,"exit",t),enter:eS(s,"enter",t)})):r[o]=G.cloneElement(s,{in:!1}):r[o]=G.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:eS(s,"exit",t),enter:eS(s,"enter",t)})}})),r}Jw.contextType=Vw,Jw.propTypes={},Jw.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Qw,onEntering:Qw,onEntered:Qw,onExit:Qw,onExiting:Qw,onExited:Qw},Jw.UNMOUNTED=qw,Jw.EXITED=Xw,Jw.ENTERING=Kw,Jw.ENTERED=Zw,Jw.EXITING=Yw;var iS=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},rS=function(t){function e(e,n){var i,r=(i=t.call(this,e,n)||this).handleExited.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i));return i.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},i}Uw(e,t);var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(t,e){var n,i,r=e.children,o=e.handleExited;return{children:e.firstRender?(n=t,i=o,tS(n.children,(function(t){return G.cloneElement(t,{onExited:i.bind(null,t),in:!0,appear:eS(t,"appear",n),enter:eS(t,"enter",n),exit:eS(t,"exit",n)})}))):nS(t,r,o),firstRender:!1}},n.handleExited=function(t,e){var n=tS(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var n=ch({},e.children);return delete n[t.key],{children:n}})))},n.render=function(){var t=this.props,e=t.component,n=t.childFactory,i=uh(t,["component","childFactory"]),r=this.state.contextValue,o=iS(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===e?U.createElement(Vw.Provider,{value:r},o):U.createElement(Vw.Provider,{value:r},U.createElement(e,i,o))},e}(U.Component);rS.propTypes={},rS.defaultProps={component:"div",childFactory:function(t){return t}};const oS=t=>t.scrollTop;function sS(t,e){var n,i;const{timeout:r,easing:o,style:s={}}=t;return{duration:null!=(n=s.transitionDuration)?n:"number"==typeof r?r:r[e.mode]||0,easing:null!=(i=s.transitionTimingFunction)?i:"object"==typeof o?o[e.mode]:o,delay:s.transitionDelay}}function aS(t){return Jp("MuiPaper",t)}Qp("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const lS=["className","component","elevation","square","variant"],uS=Tv("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,"elevation"===n.variant&&e[`elevation${n.elevation}`]]}})((({theme:t,ownerState:e})=>{var n;return ch({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},"outlined"===e.variant&&{border:`1px solid ${(t.vars||t).palette.divider}`},"elevation"===e.variant&&ch({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:`linear-gradient(${Lm("#fff",vw(e.elevation))}, ${Lm("#fff",vw(e.elevation))})`},t.vars&&{backgroundImage:null==(n=t.vars.overlays)?void 0:n[e.elevation]}))})),cS=G.forwardRef((function(t,e){const n=Pv({props:t,name:"MuiPaper"}),{className:i,component:r="div",elevation:o=1,square:s=!1,variant:a="elevation"}=n,l=uh(n,lS),u=ch({},n,{component:r,elevation:o,square:s,variant:a}),c=(t=>{const{square:e,elevation:n,variant:i,classes:r}=t;return fh({root:["root",i,!e&&"rounded","elevation"===i&&`elevation${n}`]},aS,r)})(u);return Q.jsx(uS,ch({as:r,ownerState:u,className:dh(c.root,i),ref:e},l))}));function hS(t,e,n){return void 0===t||"string"==typeof t?e:ch({},e,{ownerState:ch({},e.ownerState,n)})}const dS={disableDefaultClasses:!1},fS=G.createContext(dS);function pS(t,e=[]){if(void 0===t)return{};const n={};return Object.keys(t).filter((n=>n.match(/^on[A-Z]/)&&"function"==typeof t[n]&&!e.includes(n))).forEach((e=>{n[e]=t[e]})),n}function gS(t,e,n){return"function"==typeof t?t(e,n):t}function mS(t){if(void 0===t)return{};const e={};return Object.keys(t).filter((e=>!(e.match(/^on[A-Z]/)&&"function"==typeof t[e]))).forEach((n=>{e[n]=t[n]})),e}function yS(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:i,externalForwardedProps:r,className:o}=t;if(!e){const t=dh(null==n?void 0:n.className,o,null==r?void 0:r.className,null==i?void 0:i.className),e=ch({},null==n?void 0:n.style,null==r?void 0:r.style,null==i?void 0:i.style),s=ch({},n,r,i);return t.length>0&&(s.className=t),Object.keys(e).length>0&&(s.style=e),{props:s,internalRef:void 0}}const s=pS(ch({},r,i)),a=mS(i),l=mS(r),u=e(s),c=dh(null==u?void 0:u.className,null==n?void 0:n.className,o,null==r?void 0:r.className,null==i?void 0:i.className),h=ch({},null==u?void 0:u.style,null==n?void 0:n.style,null==r?void 0:r.style,null==i?void 0:i.style),d=ch({},u,n,l,a);return c.length>0&&(d.className=c),Object.keys(h).length>0&&(d.style=h),{props:d,internalRef:u.ref}}const vS=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function _S(t){var e;const{elementType:n,externalSlotProps:i,ownerState:r,skipResolvingSlotProps:o=!1}=t,s=uh(t,vS),a=o?{}:gS(i,r),{props:l,internalRef:u}=yS(ch({},s,{externalSlotProps:a}));return hS(n,ch({},l,{ref:Zg(u,null==a?void 0:a.ref,null==(e=t.additionalProps)?void 0:e.ref)}),r)}const xS=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],bS=["component","slots","slotProps"],wS=["component"];function SS(t,e){const{className:n,elementType:i,ownerState:r,externalForwardedProps:o,getSlotOwnerState:s,internalForwardedProps:a}=e,l=uh(e,xS),{component:u,slots:c={[t]:void 0},slotProps:h={[t]:void 0}}=o,d=uh(o,bS),f=c[t]||i,p=gS(h[t],r),g=yS(ch({className:n},l,{externalForwardedProps:"root"===t?d:void 0,externalSlotProps:p})),{props:{component:m},internalRef:y}=g,v=uh(g.props,wS),_=Zg(y,null==p?void 0:p.ref,e.ref),x=s?s(v):{},b=ch({},r,x),w="root"===t?m||u:m,S=hS(f,ch({},"root"===t&&!u&&!c[t]&&a,"root"!==t&&!c[t]&&a,v,w&&{as:w},{ref:_}),b);return Object.keys(x).forEach((t=>{delete S[t]})),[f,S]}const ES=Qp("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),CS=["center","classes","className"];let MS,kS,TS,PS,RS=t=>t;const IS=yf(MS||(MS=RS`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),OS=yf(kS||(kS=RS`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),FS=yf(TS||(TS=RS`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),LS=Tv("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),AS=Tv((function(t){const{className:e,classes:n,pulsate:i=!1,rippleX:r,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:u}=t,[c,h]=G.useState(!1),d=dh(e,n.ripple,n.rippleVisible,i&&n.ripplePulsate),f={width:s,height:s,top:-s/2+o,left:-s/2+r},p=dh(n.child,c&&n.childLeaving,i&&n.childPulsate);return a||c||h(!0),G.useEffect((()=>{if(!a&&null!=l){const t=setTimeout(l,u);return()=>{clearTimeout(t)}}}),[l,a,u]),Q.jsx("span",{className:d,style:f,children:Q.jsx("span",{className:p})})}),{name:"MuiTouchRipple",slot:"Ripple"})(PS||(PS=RS`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ES.rippleVisible,IS,550,(({theme:t})=>t.transitions.easing.easeInOut),ES.ripplePulsate,(({theme:t})=>t.transitions.duration.shorter),ES.child,ES.childLeaving,OS,550,(({theme:t})=>t.transitions.easing.easeInOut),ES.childPulsate,FS,(({theme:t})=>t.transitions.easing.easeInOut)),jS=G.forwardRef((function(t,e){const n=Pv({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:r={},className:o}=n,s=uh(n,CS),[a,l]=G.useState([]),u=G.useRef(0),c=G.useRef(null);G.useEffect((()=>{c.current&&(c.current(),c.current=null)}),[a]);const h=G.useRef(!1),d=tm(),f=G.useRef(null),p=G.useRef(null),g=G.useCallback((t=>{const{pulsate:e,rippleX:n,rippleY:i,rippleSize:o,cb:s}=t;l((t=>[...t,Q.jsx(AS,{classes:{ripple:dh(r.ripple,ES.ripple),rippleVisible:dh(r.rippleVisible,ES.rippleVisible),ripplePulsate:dh(r.ripplePulsate,ES.ripplePulsate),child:dh(r.child,ES.child),childLeaving:dh(r.childLeaving,ES.childLeaving),childPulsate:dh(r.childPulsate,ES.childPulsate)},timeout:550,pulsate:e,rippleX:n,rippleY:i,rippleSize:o},u.current)])),u.current+=1,c.current=s}),[r]),m=G.useCallback(((t={},e={},n=()=>{})=>{const{pulsate:r=!1,center:o=i||e.pulsate,fakeElement:s=!1}=e;if("mousedown"===(null==t?void 0:t.type)&&h.current)return void(h.current=!1);"touchstart"===(null==t?void 0:t.type)&&(h.current=!0);const a=s?null:p.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let u,c,m;if(o||void 0===t||0===t.clientX&&0===t.clientY||!t.clientX&&!t.touches)u=Math.round(l.width/2),c=Math.round(l.height/2);else{const{clientX:e,clientY:n}=t.touches&&t.touches.length>0?t.touches[0]:t;u=Math.round(e-l.left),c=Math.round(n-l.top)}if(o)m=Math.sqrt((2*l.width**2+l.height**2)/3),m%2==0&&(m+=1);else{const t=2*Math.max(Math.abs((a?a.clientWidth:0)-u),u)+2,e=2*Math.max(Math.abs((a?a.clientHeight:0)-c),c)+2;m=Math.sqrt(t**2+e**2)}null!=t&&t.touches?null===f.current&&(f.current=()=>{g({pulsate:r,rippleX:u,rippleY:c,rippleSize:m,cb:n})},d.start(80,(()=>{f.current&&(f.current(),f.current=null)}))):g({pulsate:r,rippleX:u,rippleY:c,rippleSize:m,cb:n})}),[i,g,d]),y=G.useCallback((()=>{m({},{pulsate:!0})}),[m]),v=G.useCallback(((t,e)=>{if(d.clear(),"touchend"===(null==t?void 0:t.type)&&f.current)return f.current(),f.current=null,void d.start(0,(()=>{v(t,e)}));f.current=null,l((t=>t.length>0?t.slice(1):t)),c.current=e}),[d]);return G.useImperativeHandle(e,(()=>({pulsate:y,start:m,stop:v})),[y,m,v]),Q.jsx(LS,ch({className:dh(ES.root,r.root,o),ref:p},s,{children:Q.jsx(rS,{component:null,exit:!0,children:a})}))}));function NS(t){return Jp("MuiButtonBase",t)}const DS=Qp("MuiButtonBase",["root","disabled","focusVisible"]),zS=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],$S=Tv("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${DS.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),BS=G.forwardRef((function(t,e){const n=Pv({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:r=!1,children:o,className:s,component:a="button",disabled:l=!1,disableRipple:u=!1,disableTouchRipple:c=!1,focusRipple:h=!1,LinkComponent:d="a",onBlur:f,onClick:p,onContextMenu:g,onDragLeave:m,onFocus:y,onFocusVisible:v,onKeyDown:_,onKeyUp:x,onMouseDown:b,onMouseLeave:w,onMouseUp:S,onTouchEnd:E,onTouchMove:C,onTouchStart:M,tabIndex:k=0,TouchRippleProps:T,touchRippleRef:P,type:R}=n,I=uh(n,zS),O=G.useRef(null),F=G.useRef(null),L=Zg(F,P),{isFocusVisibleRef:A,onFocus:j,onBlur:N,ref:D}=um(),[z,$]=G.useState(!1);l&&z&&$(!1),G.useImperativeHandle(i,(()=>({focusVisible:()=>{$(!0),O.current.focus()}})),[]);const[B,W]=G.useState(!1);G.useEffect((()=>{W(!0)}),[]);const U=B&&!u&&!l;function H(t,e,n=c){return Kg((i=>(e&&e(i),!n&&F.current&&F.current[t](i),!0)))}G.useEffect((()=>{z&&h&&!u&&B&&F.current.pulsate()}),[u,h,z,B]);const V=H("start",b),q=H("stop",g),X=H("stop",m),K=H("stop",S),Z=H("stop",(t=>{z&&t.preventDefault(),w&&w(t)})),Y=H("start",M),J=H("stop",E),tt=H("stop",C),et=H("stop",(t=>{N(t),!1===A.current&&$(!1),f&&f(t)}),!1),nt=Kg((t=>{O.current||(O.current=t.currentTarget),j(t),!0===A.current&&($(!0),v&&v(t)),y&&y(t)})),it=()=>{const t=O.current;return a&&"button"!==a&&!("A"===t.tagName&&t.href)},rt=G.useRef(!1),ot=Kg((t=>{h&&!rt.current&&z&&F.current&&" "===t.key&&(rt.current=!0,F.current.stop(t,(()=>{F.current.start(t)}))),t.target===t.currentTarget&&it()&&" "===t.key&&t.preventDefault(),_&&_(t),t.target===t.currentTarget&&it()&&"Enter"===t.key&&!l&&(t.preventDefault(),p&&p(t))})),st=Kg((t=>{h&&" "===t.key&&F.current&&z&&!t.defaultPrevented&&(rt.current=!1,F.current.stop(t,(()=>{F.current.pulsate(t)}))),x&&x(t),p&&t.target===t.currentTarget&&it()&&" "===t.key&&!t.defaultPrevented&&p(t)}));let at=a;"button"===at&&(I.href||I.to)&&(at=d);const lt={};"button"===at?(lt.type=void 0===R?"button":R,lt.disabled=l):(I.href||I.to||(lt.role="button"),l&&(lt["aria-disabled"]=l));const ut=Zg(e,D,O),ct=ch({},n,{centerRipple:r,component:a,disabled:l,disableRipple:u,disableTouchRipple:c,focusRipple:h,tabIndex:k,focusVisible:z}),ht=(t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:i,classes:r}=t,o=fh({root:["root",e&&"disabled",n&&"focusVisible"]},NS,r);return n&&i&&(o.root+=` ${i}`),o})(ct);return Q.jsxs($S,ch({as:at,className:dh(ht.root,s),ownerState:ct,onBlur:et,onClick:p,onContextMenu:q,onFocus:nt,onKeyDown:ot,onKeyUp:st,onMouseDown:V,onMouseLeave:Z,onMouseUp:K,onDragLeave:X,onTouchEnd:J,onTouchMove:tt,onTouchStart:Y,ref:ut,tabIndex:l?-1:k,type:R},lt,I,{children:[o,U?Q.jsx(jS,ch({ref:L,center:r},T)):null]}))}));function WS(t){return Jp("MuiAlert",t)}const GS=Qp("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function US(t){return Jp("MuiIconButton",t)}const HS=Qp("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),VS=["edge","children","className","color","disabled","disableFocusRipple","size"],qS=Tv(BS,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,"default"!==n.color&&e[`color${Gf(n.color)}`],n.edge&&e[`edge${Gf(n.edge)}`],e[`size${Gf(n.size)}`]]}})((({theme:t,ownerState:e})=>ch({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Lm(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===e.edge&&{marginLeft:"small"===e.size?-3:-12},"end"===e.edge&&{marginRight:"small"===e.size?-3:-12})),(({theme:t,ownerState:e})=>{var n;const i=null==(n=(t.vars||t).palette)?void 0:n[e.color];return ch({},"inherit"===e.color&&{color:"inherit"},"inherit"!==e.color&&"default"!==e.color&&ch({color:null==i?void 0:i.main},!e.disableRipple&&{"&:hover":ch({},i&&{backgroundColor:t.vars?`rgba(${i.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Lm(i.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===e.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===e.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${HS.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),XS=G.forwardRef((function(t,e){const n=Pv({props:t,name:"MuiIconButton"}),{edge:i=!1,children:r,className:o,color:s="default",disabled:a=!1,disableFocusRipple:l=!1,size:u="medium"}=n,c=uh(n,VS),h=ch({},n,{edge:i,color:s,disabled:a,disableFocusRipple:l,size:u}),d=(t=>{const{classes:e,disabled:n,color:i,edge:r,size:o}=t;return fh({root:["root",n&&"disabled","default"!==i&&`color${Gf(i)}`,r&&`edge${Gf(r)}`,`size${Gf(o)}`]},US,e)})(h);return Q.jsx(qS,ch({className:dh(d.root,o),centerRipple:!0,focusRipple:!l,disabled:a,ref:e},c,{ownerState:h,children:r}))})),KS=Sw(Q.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),ZS=Sw(Q.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),YS=Sw(Q.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),JS=Sw(Q.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),QS=Sw(Q.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),tE=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],eE=Pv,nE=Tv(cS,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Gf(n.color||n.severity)}`]]}})((({theme:t})=>{const e="light"===t.palette.mode?Am:Dm,n="light"===t.palette.mode?Dm:Am;return ch({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter((([,t])=>t.main&&t.light)).map((([i])=>({props:{colorSeverity:i,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${i}Color`]:e(t.palette[i].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${i}StandardBg`]:n(t.palette[i].light,.9),[`& .${GS.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}}}))),...Object.entries(t.palette).filter((([,t])=>t.main&&t.light)).map((([n])=>({props:{colorSeverity:n,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${n}Color`]:e(t.palette[n].light,.6),border:`1px solid ${(t.vars||t).palette[n].light}`,[`& .${GS.icon}`]:t.vars?{color:t.vars.palette.Alert[`${n}IconColor`]}:{color:t.palette[n].main}}}))),...Object.entries(t.palette).filter((([,t])=>t.main&&t.dark)).map((([e])=>({props:{colorSeverity:e,variant:"filled"},style:ch({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${e}FilledColor`],backgroundColor:t.vars.palette.Alert[`${e}FilledBg`]}:{backgroundColor:"dark"===t.palette.mode?t.palette[e].dark:t.palette[e].main,color:t.palette.getContrastText(t.palette[e].main)})})))]})})),iE=Tv("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),rE=Tv("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),oE=Tv("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),sE={success:Q.jsx(KS,{fontSize:"inherit"}),warning:Q.jsx(ZS,{fontSize:"inherit"}),error:Q.jsx(YS,{fontSize:"inherit"}),info:Q.jsx(JS,{fontSize:"inherit"})},aE=G.forwardRef((function(t,e){const n=eE({props:t,name:"MuiAlert"}),{action:i,children:r,className:o,closeText:s="Close",color:a,components:l={},componentsProps:u={},icon:c,iconMapping:h=sE,onClose:d,role:f="alert",severity:p="success",slotProps:g={},slots:m={},variant:y="standard"}=n,v=uh(n,tE),_=ch({},n,{color:a,severity:p,variant:y,colorSeverity:a||p}),x=(t=>{const{variant:e,color:n,severity:i,classes:r}=t;return fh({root:["root",`color${Gf(n||i)}`,`${e}${Gf(n||i)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]},WS,r)})(_),b={slots:ch({closeButton:l.CloseButton,closeIcon:l.CloseIcon},m),slotProps:ch({},u,g)},[w,S]=SS("closeButton",{elementType:XS,externalForwardedProps:b,ownerState:_}),[E,C]=SS("closeIcon",{elementType:QS,externalForwardedProps:b,ownerState:_});return Q.jsxs(nE,ch({role:f,elevation:0,ownerState:_,className:dh(x.root,o),ref:e},v,{children:[!1!==c?Q.jsx(iE,{ownerState:_,className:x.icon,children:c||h[p]||sE[p]}):null,Q.jsx(rE,{ownerState:_,className:x.message,children:r}),null!=i?Q.jsx(oE,{ownerState:_,className:x.action,children:i}):null,null==i&&d?Q.jsx(oE,{ownerState:_,className:x.action,children:Q.jsx(w,ch({size:"small","aria-label":s,title:s,color:"inherit",onClick:d},S,{children:Q.jsx(E,ch({fontSize:"small"},C))}))}):null]}))}));function lE(t){return Jp("MuiTypography",t)}Qp("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const uE=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],cE=Tv("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],"inherit"!==n.align&&e[`align${Gf(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})((({theme:t,ownerState:e})=>ch({margin:0},"inherit"===e.variant&&{font:"inherit"},"inherit"!==e.variant&&t.typography[e.variant],"inherit"!==e.align&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16}))),hE={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},dE={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},fE=G.forwardRef((function(t,e){const n=Pv({props:t,name:"MuiTypography"}),i=(t=>dE[t]||t)(n.color),r=Vp(ch({},n,{color:i})),{align:o="inherit",className:s,component:a,gutterBottom:l=!1,noWrap:u=!1,paragraph:c=!1,variant:h="body1",variantMapping:d=hE}=r,f=uh(r,uE),p=ch({},r,{align:o,color:i,className:s,component:a,gutterBottom:l,noWrap:u,paragraph:c,variant:h,variantMapping:d}),g=a||(c?"p":d[h]||hE[h])||"span",m=(t=>{const{align:e,gutterBottom:n,noWrap:i,paragraph:r,variant:o,classes:s}=t;return fh({root:["root",o,"inherit"!==t.align&&`align${Gf(e)}`,n&&"gutterBottom",i&&"noWrap",r&&"paragraph"]},lE,s)})(p);return Q.jsx(cE,ch({as:g,ref:e,ownerState:p,className:dh(m.root,s)},f))})),pE="base";function gE(t,e){const n=Yp[e];return n?`${pE}--${n}`:function(t,e){return`${pE}-${t}-${e}`}(t,e)}function mE(t){return t.substring(2).toLowerCase()}function yE(t){const{children:e,disableReactTree:n=!1,mouseEvent:i="onClick",onClickAway:r,touchEvent:o="onTouchEnd"}=t,s=G.useRef(!1),a=G.useRef(null),l=G.useRef(!1),u=G.useRef(!1);G.useEffect((()=>(setTimeout((()=>{l.current=!0}),0),()=>{l.current=!1})),[]);const c=Zg(e.ref,a),h=Kg((t=>{const e=u.current;u.current=!1;const i=Wg(a.current);if(!l.current||!a.current||"clientX"in t&&function(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}(t,i))return;if(s.current)return void(s.current=!1);let o;o=t.composedPath?t.composedPath().indexOf(a.current)>-1:!i.documentElement.contains(t.target)||a.current.contains(t.target),o||!n&&e||r(t)})),d=t=>n=>{u.current=!0;const i=e.props[t];i&&i(n)},f={ref:c};return!1!==o&&(f[o]=d(o)),G.useEffect((()=>{if(!1!==o){const t=mE(o),e=Wg(a.current),n=()=>{s.current=!0};return e.addEventListener(t,h),e.addEventListener("touchmove",n),()=>{e.removeEventListener(t,h),e.removeEventListener("touchmove",n)}}}),[h,o]),!1!==i&&(f[i]=d(i)),G.useEffect((()=>{if(!1!==i){const t=mE(i),e=Wg(a.current);return e.addEventListener(t,h),()=>{e.removeEventListener(t,h)}}}),[h,i]),Q.jsx(G.Fragment,{children:G.cloneElement(e,f)})}const vE=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function _E(t){const e=[],n=[];return Array.from(t.querySelectorAll(vE)).forEach(((t,i)=>{const r=function(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?"true"===t.contentEditable||("AUDIO"===t.nodeName||"VIDEO"===t.nodeName||"DETAILS"===t.nodeName)&&null===t.getAttribute("tabindex")?0:t.tabIndex:e}(t);-1!==r&&function(t){return!(t.disabled||"INPUT"===t.tagName&&"hidden"===t.type||function(t){if("INPUT"!==t.tagName||"radio"!==t.type)return!1;if(!t.name)return!1;const e=e=>t.ownerDocument.querySelector(`input[type="radio"]${e}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}(t))}(t)&&(0===r?e.push(t):n.push({documentOrder:i,tabIndex:r,node:t}))})),n.sort(((t,e)=>t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex)).map((t=>t.node)).concat(e)}function xE(){return!0}function bE(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:i=!1,disableRestoreFocus:r=!1,getTabbable:o=_E,isEnabled:s=xE,open:a}=t,l=G.useRef(!1),u=G.useRef(null),c=G.useRef(null),h=G.useRef(null),d=G.useRef(null),f=G.useRef(!1),p=G.useRef(null),g=Zg(e.ref,p),m=G.useRef(null);G.useEffect((()=>{a&&p.current&&(f.current=!n)}),[n,a]),G.useEffect((()=>{if(!a||!p.current)return;const t=Wg(p.current);return p.current.contains(t.activeElement)||(p.current.hasAttribute("tabIndex")||p.current.setAttribute("tabIndex","-1"),f.current&&p.current.focus()),()=>{r||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}}),[a]),G.useEffect((()=>{if(!a||!p.current)return;const t=Wg(p.current),e=e=>{m.current=e,!i&&s()&&"Tab"===e.key&&t.activeElement===p.current&&e.shiftKey&&(l.current=!0,c.current&&c.current.focus())},n=()=>{const e=p.current;if(null===e)return;if(!t.hasFocus()||!s()||l.current)return void(l.current=!1);if(e.contains(t.activeElement))return;if(i&&t.activeElement!==u.current&&t.activeElement!==c.current)return;if(t.activeElement!==d.current)d.current=null;else if(null!==d.current)return;if(!f.current)return;let n=[];if(t.activeElement!==u.current&&t.activeElement!==c.current||(n=o(p.current)),n.length>0){var r,a;const t=Boolean((null==(r=m.current)?void 0:r.shiftKey)&&"Tab"===(null==(a=m.current)?void 0:a.key)),e=n[0],i=n[n.length-1];"string"!=typeof e&&"string"!=typeof i&&(t?i.focus():e.focus())}else e.focus()};t.addEventListener("focusin",n),t.addEventListener("keydown",e,!0);const r=setInterval((()=>{t.activeElement&&"BODY"===t.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),t.removeEventListener("focusin",n),t.removeEventListener("keydown",e,!0)}}),[n,i,r,s,a,o]);const y=t=>{null===h.current&&(h.current=t.relatedTarget),f.current=!0};return Q.jsxs(G.Fragment,{children:[Q.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),G.cloneElement(e,{ref:g,onFocus:t=>{null===h.current&&(h.current=t.relatedTarget),f.current=!0,d.current=t.target;const n=e.props.onFocus;n&&n(t)}}),Q.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:c,"data-testid":"sentinelEnd"})]})}const wE=G.forwardRef((function(t,e){const{children:n,container:i,disablePortal:r=!1}=t,[o,s]=G.useState(null),a=Zg(G.isValidElement(n)?n.ref:null,e);if(Ng((()=>{r||s(function(t){return"function"==typeof t?t():t}(i)||document.body)}),[i,r]),Ng((()=>{if(o&&!r)return Ug(e,o),()=>{Ug(e,null)}}),[e,o,r]),r){if(G.isValidElement(n)){const t={ref:a};return G.cloneElement(n,t)}return Q.jsx(G.Fragment,{children:n})}return Q.jsx(G.Fragment,{children:o?sh.createPortal(n,o):o})}));function SE(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function EE(t){return parseInt(Gg(t).getComputedStyle(t).paddingRight,10)||0}function CE(t,e,n,i,r){const o=[e,n,...i];[].forEach.call(t.children,(t=>{const e=-1===o.indexOf(t),n=!function(t){const e=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName),n="INPUT"===t.tagName&&"hidden"===t.getAttribute("type");return e||n}(t);e&&n&&SE(t,r)}))}function ME(t,e){let n=-1;return t.some(((t,i)=>!!e(t)&&(n=i,!0))),n}function kE(t,e){const n=[],i=t.container;if(!e.disableScrollLock){if(function(t){const e=Wg(t);return e.body===t?Gg(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}(i)){const t=function(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}(Wg(i));n.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${EE(i)+t}px`;const e=Wg(i).querySelectorAll(".mui-fixed");[].forEach.call(e,(e=>{n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight=`${EE(e)+t}px`}))}let t;if(i.parentNode instanceof DocumentFragment)t=Wg(i).body;else{const e=i.parentElement,n=Gg(i);t="HTML"===(null==e?void 0:e.nodeName)&&"scroll"===n.getComputedStyle(e).overflowY?e:i}n.push({value:t.style.overflow,property:"overflow",el:t},{value:t.style.overflowX,property:"overflow-x",el:t},{value:t.style.overflowY,property:"overflow-y",el:t}),t.style.overflow="hidden"}return()=>{n.forEach((({value:t,el:e,property:n})=>{t?e.style.setProperty(n,t):e.style.removeProperty(n)}))}}const TE=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,e){let n=this.modals.indexOf(t);if(-1!==n)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&SE(t.modalRef,!1);const i=function(t){const e=[];return[].forEach.call(t.children,(t=>{"true"===t.getAttribute("aria-hidden")&&e.push(t)})),e}(e);CE(e,t.mount,t.modalRef,i,!0);const r=ME(this.containers,(t=>t.container===e));return-1!==r?(this.containers[r].modals.push(t),n):(this.containers.push({modals:[t],container:e,restore:null,hiddenSiblings:i}),n)}mount(t,e){const n=ME(this.containers,(e=>-1!==e.modals.indexOf(t))),i=this.containers[n];i.restore||(i.restore=kE(i,e))}remove(t,e=!0){const n=this.modals.indexOf(t);if(-1===n)return n;const i=ME(this.containers,(e=>-1!==e.modals.indexOf(t))),r=this.containers[i];if(r.modals.splice(r.modals.indexOf(t),1),this.modals.splice(n,1),0===r.modals.length)r.restore&&r.restore(),t.modalRef&&SE(t.modalRef,e),CE(r.container,t.mount,t.modalRef,r.hiddenSiblings,!1),this.containers.splice(i,1);else{const t=r.modals[r.modals.length-1];t.modalRef&&SE(t.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}};function PE(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:i=!1,manager:r=TE,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:u,open:c,rootRef:h}=t,d=G.useRef({}),f=G.useRef(null),p=G.useRef(null),g=Zg(p,h),[m,y]=G.useState(!c),v=function(t){return!!t&&t.props.hasOwnProperty("in")}(l);let _=!0;"false"!==t["aria-hidden"]&&!1!==t["aria-hidden"]||(_=!1);const x=()=>(d.current.modalRef=p.current,d.current.mount=f.current,d.current),b=()=>{r.mount(x(),{disableScrollLock:i}),p.current&&(p.current.scrollTop=0)},w=Kg((()=>{const t=function(t){return"function"==typeof t?t():t}(e)||Wg(f.current).body;r.add(x(),t),p.current&&b()})),S=G.useCallback((()=>r.isTopModal(x())),[r]),E=Kg((t=>{f.current=t,t&&(c&&S()?b():p.current&&SE(p.current,_))})),C=G.useCallback((()=>{r.remove(x(),_)}),[_,r]);G.useEffect((()=>()=>{C()}),[C]),G.useEffect((()=>{c?w():v&&o||C()}),[c,C,v,o,w]);const M=t=>e=>{var i;null==(i=t.onKeyDown)||i.call(t,e),"Escape"===e.key&&229!==e.which&&S()&&(n||(e.stopPropagation(),u&&u(e,"escapeKeyDown")))},k=t=>e=>{var n;null==(n=t.onClick)||n.call(t,e),e.target===e.currentTarget&&u&&u(e,"backdropClick")};return{getRootProps:(e={})=>{const n=pS(t);delete n.onTransitionEnter,delete n.onTransitionExited;const i=ch({},n,e);return ch({role:"presentation"},i,{onKeyDown:M(i),ref:g})},getBackdropProps:(t={})=>ch({"aria-hidden":!0},t,{onClick:k(t),open:c}),getTransitionProps:()=>({onEnter:$g((()=>{y(!1),s&&s()}),null==l?void 0:l.props.onEnter),onExited:$g((()=>{y(!0),a&&a(),o&&C()}),null==l?void 0:l.props.onExited)}),rootRef:g,portalRef:E,isTopModal:S,exited:m,hasTransition:v}}var RE="top",IE="bottom",OE="right",FE="left",LE="auto",AE=[RE,IE,OE,FE],jE="start",NE="end",DE="viewport",zE="popper",$E=AE.reduce((function(t,e){return t.concat([e+"-"+jE,e+"-"+NE])}),[]),BE=[].concat(AE,[LE]).reduce((function(t,e){return t.concat([e,e+"-"+jE,e+"-"+NE])}),[]),WE=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function GE(t){return t?(t.nodeName||"").toLowerCase():null}function UE(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function HE(t){return t instanceof UE(t).Element||t instanceof Element}function VE(t){return t instanceof UE(t).HTMLElement||t instanceof HTMLElement}function qE(t){return"undefined"!=typeof ShadowRoot&&(t instanceof UE(t).ShadowRoot||t instanceof ShadowRoot)}const XE={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},i=e.attributes[t]||{},r=e.elements[t];VE(r)&&GE(r)&&(Object.assign(r.style,n),Object.keys(i).forEach((function(t){var e=i[t];!1===e?r.removeAttribute(t):r.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var i=e.elements[t],r=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});VE(i)&&GE(i)&&(Object.assign(i.style,o),Object.keys(r).forEach((function(t){i.removeAttribute(t)})))}))}},requires:["computeStyles"]};function KE(t){return t.split("-")[0]}var ZE=Math.max,YE=Math.min,JE=Math.round;function QE(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function tC(){return!/^((?!chrome|android).)*safari/i.test(QE())}function eC(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var i=t.getBoundingClientRect(),r=1,o=1;e&&VE(t)&&(r=t.offsetWidth>0&&JE(i.width)/t.offsetWidth||1,o=t.offsetHeight>0&&JE(i.height)/t.offsetHeight||1);var s=(HE(t)?UE(t):window).visualViewport,a=!tC()&&n,l=(i.left+(a&&s?s.offsetLeft:0))/r,u=(i.top+(a&&s?s.offsetTop:0))/o,c=i.width/r,h=i.height/o;return{width:c,height:h,top:u,right:l+c,bottom:u+h,left:l,x:l,y:u}}function nC(t){var e=eC(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function iC(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&qE(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function rC(t){return UE(t).getComputedStyle(t)}function oC(t){return["table","td","th"].indexOf(GE(t))>=0}function sC(t){return((HE(t)?t.ownerDocument:t.document)||window.document).documentElement}function aC(t){return"html"===GE(t)?t:t.assignedSlot||t.parentNode||(qE(t)?t.host:null)||sC(t)}function lC(t){return VE(t)&&"fixed"!==rC(t).position?t.offsetParent:null}function uC(t){for(var e=UE(t),n=lC(t);n&&oC(n)&&"static"===rC(n).position;)n=lC(n);return n&&("html"===GE(n)||"body"===GE(n)&&"static"===rC(n).position)?e:n||function(t){var e=/firefox/i.test(QE());if(/Trident/i.test(QE())&&VE(t)&&"fixed"===rC(t).position)return null;var n=aC(t);for(qE(n)&&(n=n.host);VE(n)&&["html","body"].indexOf(GE(n))<0;){var i=rC(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||e&&"filter"===i.willChange||e&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(t)||e}function cC(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function hC(t,e,n){return ZE(t,YE(e,n))}function dC(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function fC(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}function pC(t){return t.split("-")[1]}var gC={top:"auto",right:"auto",bottom:"auto",left:"auto"};function mC(t){var e,n=t.popper,i=t.popperRect,r=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,h=t.isFixed,d=s.x,f=void 0===d?0:d,p=s.y,g=void 0===p?0:p,m="function"==typeof c?c({x:f,y:g}):{x:f,y:g};f=m.x,g=m.y;var y=s.hasOwnProperty("x"),v=s.hasOwnProperty("y"),_=FE,x=RE,b=window;if(u){var w=uC(n),S="clientHeight",E="clientWidth";w===UE(n)&&"static"!==rC(w=sC(n)).position&&"absolute"===a&&(S="scrollHeight",E="scrollWidth"),(r===RE||(r===FE||r===OE)&&o===NE)&&(x=IE,g-=(h&&w===b&&b.visualViewport?b.visualViewport.height:w[S])-i.height,g*=l?1:-1),r!==FE&&(r!==RE&&r!==IE||o!==NE)||(_=OE,f-=(h&&w===b&&b.visualViewport?b.visualViewport.width:w[E])-i.width,f*=l?1:-1)}var C,M=Object.assign({position:a},u&&gC),k=!0===c?function(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:JE(n*r)/r||0,y:JE(i*r)/r||0}}({x:f,y:g},UE(n)):{x:f,y:g};return f=k.x,g=k.y,l?Object.assign({},M,((C={})[x]=v?"0":"",C[_]=y?"0":"",C.transform=(b.devicePixelRatio||1)<=1?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",C)):Object.assign({},M,((e={})[x]=v?g+"px":"",e[_]=y?f+"px":"",e.transform="",e))}var yC={passive:!0},vC={left:"right",right:"left",bottom:"top",top:"bottom"};function _C(t){return t.replace(/left|right|bottom|top/g,(function(t){return vC[t]}))}var xC={start:"end",end:"start"};function bC(t){return t.replace(/start|end/g,(function(t){return xC[t]}))}function wC(t){var e=UE(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function SC(t){return eC(sC(t)).left+wC(t).scrollLeft}function EC(t){var e=rC(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function CC(t){return["html","body","#document"].indexOf(GE(t))>=0?t.ownerDocument.body:VE(t)&&EC(t)?t:CC(aC(t))}function MC(t,e){var n;void 0===e&&(e=[]);var i=CC(t),r=i===(null==(n=t.ownerDocument)?void 0:n.body),o=UE(i),s=r?[o].concat(o.visualViewport||[],EC(i)?i:[]):i,a=e.concat(s);return r?a:a.concat(MC(aC(s)))}function kC(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function TC(t,e,n){return e===DE?kC(function(t,e){var n=UE(t),i=sC(t),r=n.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var u=tC();(u||!u&&"fixed"===e)&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+SC(t),y:l}}(t,n)):HE(e)?function(t,e){var n=eC(t,!1,"fixed"===e);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}(e,n):kC(function(t){var e,n=sC(t),i=wC(t),r=null==(e=t.ownerDocument)?void 0:e.body,o=ZE(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=ZE(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+SC(t),l=-i.scrollTop;return"rtl"===rC(r||n).direction&&(a+=ZE(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(sC(t)))}function PC(t,e,n,i){var r="clippingParents"===e?function(t){var e=MC(aC(t)),n=["absolute","fixed"].indexOf(rC(t).position)>=0&&VE(t)?uC(t):t;return HE(n)?e.filter((function(t){return HE(t)&&iC(t,n)&&"body"!==GE(t)})):[]}(t):[].concat(e),o=[].concat(r,[n]),s=o[0],a=o.reduce((function(e,n){var r=TC(t,n,i);return e.top=ZE(r.top,e.top),e.right=YE(r.right,e.right),e.bottom=YE(r.bottom,e.bottom),e.left=ZE(r.left,e.left),e}),TC(t,s,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function RC(t){var e,n=t.reference,i=t.element,r=t.placement,o=r?KE(r):null,s=r?pC(r):null,a=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(o){case RE:e={x:a,y:n.y-i.height};break;case IE:e={x:a,y:n.y+n.height};break;case OE:e={x:n.x+n.width,y:l};break;case FE:e={x:n.x-i.width,y:l};break;default:e={x:n.x,y:n.y}}var u=o?cC(o):null;if(null!=u){var c="y"===u?"height":"width";switch(s){case jE:e[u]=e[u]-(n[c]/2-i[c]/2);break;case NE:e[u]=e[u]+(n[c]/2-i[c]/2)}}return e}function IC(t,e){void 0===e&&(e={});var n=e,i=n.placement,r=void 0===i?t.placement:i,o=n.strategy,s=void 0===o?t.strategy:o,a=n.boundary,l=void 0===a?"clippingParents":a,u=n.rootBoundary,c=void 0===u?DE:u,h=n.elementContext,d=void 0===h?zE:h,f=n.altBoundary,p=void 0!==f&&f,g=n.padding,m=void 0===g?0:g,y=dC("number"!=typeof m?m:fC(m,AE)),v=d===zE?"reference":zE,_=t.rects.popper,x=t.elements[p?v:d],b=PC(HE(x)?x:x.contextElement||sC(t.elements.popper),l,c,s),w=eC(t.elements.reference),S=RC({reference:w,element:_,strategy:"absolute",placement:r}),E=kC(Object.assign({},_,S)),C=d===zE?E:w,M={top:b.top-C.top+y.top,bottom:C.bottom-b.bottom+y.bottom,left:b.left-C.left+y.left,right:C.right-b.right+y.right},k=t.modifiersData.offset;if(d===zE&&k){var T=k[r];Object.keys(M).forEach((function(t){var e=[OE,IE].indexOf(t)>=0?1:-1,n=[RE,IE].indexOf(t)>=0?"y":"x";M[t]+=T[n]*e}))}return M}const OC={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,u=n.padding,c=n.boundary,h=n.rootBoundary,d=n.altBoundary,f=n.flipVariations,p=void 0===f||f,g=n.allowedAutoPlacements,m=e.options.placement,y=KE(m),v=l||(y!==m&&p?function(t){if(KE(t)===LE)return[];var e=_C(t);return[bC(t),e,bC(e)]}(m):[_C(m)]),_=[m].concat(v).reduce((function(t,n){return t.concat(KE(n)===LE?function(t,e){void 0===e&&(e={});var n=e,i=n.placement,r=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?BE:l,c=pC(i),h=c?a?$E:$E.filter((function(t){return pC(t)===c})):AE,d=h.filter((function(t){return u.indexOf(t)>=0}));0===d.length&&(d=h);var f=d.reduce((function(e,n){return e[n]=IC(t,{placement:n,boundary:r,rootBoundary:o,padding:s})[KE(n)],e}),{});return Object.keys(f).sort((function(t,e){return f[t]-f[e]}))}(e,{placement:n,boundary:c,rootBoundary:h,padding:u,flipVariations:p,allowedAutoPlacements:g}):n)}),[]),x=e.rects.reference,b=e.rects.popper,w=new Map,S=!0,E=_[0],C=0;C<_.length;C++){var M=_[C],k=KE(M),T=pC(M)===jE,P=[RE,IE].indexOf(k)>=0,R=P?"width":"height",I=IC(e,{placement:M,boundary:c,rootBoundary:h,altBoundary:d,padding:u}),O=P?T?OE:FE:T?IE:RE;x[R]>b[R]&&(O=_C(O));var F=_C(O),L=[];if(o&&L.push(I[k]<=0),a&&L.push(I[O]<=0,I[F]<=0),L.every((function(t){return t}))){E=M,S=!1;break}w.set(M,L)}if(S)for(var A=function(t){var e=_.find((function(e){var n=w.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return E=e,"break"},j=p?3:1;j>0&&"break"!==A(j);j--);e.placement!==E&&(e.modifiersData[i]._skip=!0,e.placement=E,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function FC(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function LC(t){return[RE,OE,IE,FE].some((function(e){return t[e]>=0}))}function AC(t,e,n){void 0===n&&(n=!1);var i,r,o=VE(e),s=VE(e)&&function(t){var e=t.getBoundingClientRect(),n=JE(e.width)/t.offsetWidth||1,i=JE(e.height)/t.offsetHeight||1;return 1!==n||1!==i}(e),a=sC(e),l=eC(t,s,n),u={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(o||!o&&!n)&&(("body"!==GE(e)||EC(a))&&(u=(i=e)!==UE(i)&&VE(i)?{scrollLeft:(r=i).scrollLeft,scrollTop:r.scrollTop}:wC(i)),VE(e)?((c=eC(e,!0)).x+=e.clientLeft,c.y+=e.clientTop):a&&(c.x=SC(a))),{x:l.left+u.scrollLeft-c.x,y:l.top+u.scrollTop-c.y,width:l.width,height:l.height}}function jC(t){var e=new Map,n=new Set,i=[];function r(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var i=e.get(t);i&&r(i)}})),i.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||r(t)})),i}function NC(t){var e;return function(){return e||(e=new Promise((function(n){Promise.resolve().then((function(){e=void 0,n(t())}))}))),e}}var DC={placement:"bottom",modifiers:[],strategy:"absolute"};function zC(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function $C(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,i=void 0===n?[]:n,r=e.defaultOptions,o=void 0===r?DC:r;return function(t,e,n){void 0===n&&(n=o);var r={placement:"bottom",orderedModifiers:[],options:Object.assign({},DC,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},s=[],a=!1,l={state:r,setOptions:function(n){var a="function"==typeof n?n(r.options):n;u(),r.options=Object.assign({},o,r.options,a),r.scrollParents={reference:HE(t)?MC(t):t.contextElement?MC(t.contextElement):[],popper:MC(e)};var c,h,d=function(t){var e=jC(t);return WE.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}((c=[].concat(i,r.options.modifiers),h=c.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{}),Object.keys(h).map((function(t){return h[t]}))));return r.orderedModifiers=d.filter((function(t){return t.enabled})),r.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,i=void 0===n?{}:n,o=t.effect;if("function"==typeof o){var a=o({state:r,name:e,instance:l,options:i}),u=function(){};s.push(a||u)}})),l.update()},forceUpdate:function(){if(!a){var t=r.elements,e=t.reference,n=t.popper;if(zC(e,n)){r.rects={reference:AC(e,uC(n),"fixed"===r.options.strategy),popper:nC(n)},r.reset=!1,r.placement=r.options.placement,r.orderedModifiers.forEach((function(t){return r.modifiersData[t.name]=Object.assign({},t.data)}));for(var i=0;i<r.orderedModifiers.length;i++)if(!0!==r.reset){var o=r.orderedModifiers[i],s=o.fn,u=o.options,c=void 0===u?{}:u,h=o.name;"function"==typeof s&&(r=s({state:r,options:c,name:h,instance:l})||r)}else r.reset=!1,i=-1}}},update:NC((function(){return new Promise((function(t){l.forceUpdate(),t(r)}))})),destroy:function(){u(),a=!0}};if(!zC(t,e))return l;function u(){s.forEach((function(t){return t()})),s=[]}return l.setOptions(n).then((function(t){!a&&n.onFirstUpdate&&n.onFirstUpdate(t)})),l}}var BC=$C({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,o=void 0===r||r,s=i.resize,a=void 0===s||s,l=UE(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach((function(t){t.addEventListener("scroll",n.update,yC)})),a&&l.addEventListener("resize",n.update,yC),function(){o&&u.forEach((function(t){t.removeEventListener("scroll",n.update,yC)})),a&&l.removeEventListener("resize",n.update,yC)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=RC({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=void 0===i||i,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,u={placement:KE(e.placement),variation:pC(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,mC(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,mC(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},XE,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,i=t.name,r=n.offset,o=void 0===r?[0,0]:r,s=BE.reduce((function(t,n){return t[n]=function(t,e,n){var i=KE(t),r=[FE,RE].indexOf(i)>=0?-1:1,o="function"==typeof n?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[FE,OE].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}(n,e.rects,o),t}),{}),a=s[e.placement],l=a.x,u=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[i]=s}},OC,{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,h=n.padding,d=n.tether,f=void 0===d||d,p=n.tetherOffset,g=void 0===p?0:p,m=IC(e,{boundary:l,rootBoundary:u,padding:h,altBoundary:c}),y=KE(e.placement),v=pC(e.placement),_=!v,x=cC(y),b="x"===x?"y":"x",w=e.modifiersData.popperOffsets,S=e.rects.reference,E=e.rects.popper,C="function"==typeof g?g(Object.assign({},e.rects,{placement:e.placement})):g,M="number"==typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),k=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,T={x:0,y:0};if(w){if(o){var P,R="y"===x?RE:FE,I="y"===x?IE:OE,O="y"===x?"height":"width",F=w[x],L=F+m[R],A=F-m[I],j=f?-E[O]/2:0,N=v===jE?S[O]:E[O],D=v===jE?-E[O]:-S[O],z=e.elements.arrow,$=f&&z?nC(z):{width:0,height:0},B=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},W=B[R],G=B[I],U=hC(0,S[O],$[O]),H=_?S[O]/2-j-U-W-M.mainAxis:N-U-W-M.mainAxis,V=_?-S[O]/2+j+U+G+M.mainAxis:D+U+G+M.mainAxis,q=e.elements.arrow&&uC(e.elements.arrow),X=q?"y"===x?q.clientTop||0:q.clientLeft||0:0,K=null!=(P=null==k?void 0:k[x])?P:0,Z=F+V-K,Y=hC(f?YE(L,F+H-K-X):L,F,f?ZE(A,Z):A);w[x]=Y,T[x]=Y-F}if(a){var J,Q="x"===x?RE:FE,tt="x"===x?IE:OE,et=w[b],nt="y"===b?"height":"width",it=et+m[Q],rt=et-m[tt],ot=-1!==[RE,FE].indexOf(y),st=null!=(J=null==k?void 0:k[b])?J:0,at=ot?it:et-S[nt]-E[nt]-st+M.altAxis,lt=ot?et+S[nt]+E[nt]-st-M.altAxis:rt,ut=f&&ot?(ht=hC(at,et,ct=lt))>ct?ct:ht:hC(f?at:it,et,f?lt:rt);w[b]=ut,T[b]=ut-et}var ct,ht;e.modifiersData[i]=T}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,i=t.name,r=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=KE(n.placement),l=cC(a),u=[FE,OE].indexOf(a)>=0?"height":"width";if(o&&s){var c=function(t,e){return dC("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:fC(t,AE))}(r.padding,n),h=nC(o),d="y"===l?RE:FE,f="y"===l?IE:OE,p=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],g=s[l]-n.rects.reference[l],m=uC(o),y=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,v=p/2-g/2,_=c[d],x=y-h[u]-c[f],b=y/2-h[u]/2+v,w=hC(_,b,x),S=l;n.modifiersData[i]=((e={})[S]=w,e.centerOffset=w-b,e)}},effect:function(t){var e=t.state,n=t.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=e.elements.popper.querySelector(i)))&&iC(e.elements.popper,i)&&(e.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,s=IC(e,{elementContext:"reference"}),a=IC(e,{altBoundary:!0}),l=FC(s,i),u=FC(a,r,o),c=LC(l),h=LC(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}}]});const WC="Popper";function GC(t){return gE(WC,t)}!function(t,e){const n={};e.forEach((e=>{n[e]=gE(t,e)}))}(WC,["root"]);const UC=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],HC=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function VC(t){return"function"==typeof t?t():t}const qC=()=>fh({root:["root"]},function(t){const{disableDefaultClasses:e}=G.useContext(fS);return n=>e?"":t(n)}(GC)),XC={},KC=G.forwardRef((function(t,e){var n;const{anchorEl:i,children:r,direction:o,disablePortal:s,modifiers:a,open:l,placement:u,popperOptions:c,popperRef:h,slotProps:d={},slots:f={},TransitionProps:p}=t,g=uh(t,UC),m=G.useRef(null),y=Zg(m,e),v=G.useRef(null),_=Zg(v,h),x=G.useRef(_);Ng((()=>{x.current=_}),[_]),G.useImperativeHandle(h,(()=>v.current),[]);const b=function(t,e){if("ltr"===e)return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}(u,o),[w,S]=G.useState(b),[E,C]=G.useState(VC(i));G.useEffect((()=>{v.current&&v.current.forceUpdate()})),G.useEffect((()=>{i&&C(VC(i))}),[i]),Ng((()=>{if(!E||!l)return;let t=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:t})=>{S(t.placement)}}];null!=a&&(t=t.concat(a)),c&&null!=c.modifiers&&(t=t.concat(c.modifiers));const e=BC(E,m.current,ch({placement:b},c,{modifiers:t}));return x.current(e),()=>{e.destroy(),x.current(null)}}),[E,s,a,l,c,b]);const M={placement:w};null!==p&&(M.TransitionProps=p);const k=qC(),T=null!=(n=f.root)?n:"div",P=_S({elementType:T,externalSlotProps:d.root,externalForwardedProps:g,additionalProps:{role:"tooltip",ref:y},ownerState:t,className:k.root});return Q.jsx(T,ch({},P,{children:"function"==typeof r?r(M):r}))})),ZC=G.forwardRef((function(t,e){const{anchorEl:n,children:i,container:r,direction:o="ltr",disablePortal:s=!1,keepMounted:a=!1,modifiers:l,open:u,placement:c="bottom",popperOptions:h=XC,popperRef:d,style:f,transition:p=!1,slotProps:g={},slots:m={}}=t,y=uh(t,HC),[v,_]=G.useState(!0);if(!a&&!u&&(!p||v))return null;let x;if(r)x=r;else if(n){const t=VC(n);x=t&&void 0!==t.nodeType?Wg(t).body:Wg(null).body}const b=u||!a||p&&!v?void 0:"none",w=p?{in:u,onEnter:()=>{_(!1)},onExited:()=>{_(!0)}}:void 0;return Q.jsx(wE,{disablePortal:s,container:x,children:Q.jsx(KC,ch({anchorEl:n,direction:o,disablePortal:s,modifiers:l,ref:e,open:p?!v:u,placement:c,popperOptions:h,popperRef:d,slotProps:g,slots:m},y,{style:ch({position:"fixed",top:0,left:0,display:b},f),TransitionProps:w,children:i}))})}));var YC={};Object.defineProperty(YC,"__esModule",{value:!0});var JC=YC.default=void 0,QC=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=eM(e);if(n&&n.has(t))return n.get(t);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=r?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=t[o]}return i.default=t,n&&n.set(t,i),i}(G),tM=ey;function eM(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(eM=function(t){return t?n:e})(t)}JC=YC.default=function(t=null){const e=QC.useContext(tM.ThemeContext);return e&&(n=e,0!==Object.keys(n).length)?e:t;var n};const nM=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],iM=Tv(ZC,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),rM=G.forwardRef((function(t,e){var n;const i=JC(),r=Pv({props:t,name:"MuiPopper"}),{anchorEl:o,component:s,components:a,componentsProps:l,container:u,disablePortal:c,keepMounted:h,modifiers:d,open:f,placement:p,popperOptions:g,popperRef:m,transition:y,slots:v,slotProps:_}=r,x=uh(r,nM),b=null!=(n=null==v?void 0:v.root)?n:null==a?void 0:a.Root,w=ch({anchorEl:o,container:u,disablePortal:c,keepMounted:h,modifiers:d,open:f,placement:p,popperOptions:g,popperRef:m,transition:y},x);return Q.jsx(iM,ch({as:s,direction:null==i?void 0:i.direction,slots:{root:b},slotProps:null!=_?_:l},w,{ref:e}))}));function oM({props:t,states:e,muiFormControl:n}){return e.reduce(((e,i)=>(e[i]=t[i],n&&void 0===t[i]&&(e[i]=n[i]),e)),{})}const sM=G.createContext(void 0);function aM(){return G.useContext(sM)}function lM(t){return Q.jsx(Up,ch({},t,{defaultTheme:Cv,themeId:Mv}))}const uM=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],cM={entering:{opacity:1},entered:{opacity:1}},hM=G.forwardRef((function(t,e){const n=gw(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:r,appear:o=!0,children:s,easing:a,in:l,onEnter:u,onEntered:c,onEntering:h,onExit:d,onExited:f,onExiting:p,style:g,timeout:m=i,TransitionComponent:y=Jw}=t,v=uh(t,uM),_=G.useRef(null),x=Zg(_,s.ref,e),b=t=>e=>{if(t){const n=_.current;void 0===e?t(n):t(n,e)}},w=b(h),S=b(((t,e)=>{oS(t);const i=sS({style:g,timeout:m,easing:a},{mode:"enter"});t.style.webkitTransition=n.transitions.create("opacity",i),t.style.transition=n.transitions.create("opacity",i),u&&u(t,e)})),E=b(c),C=b(p),M=b((t=>{const e=sS({style:g,timeout:m,easing:a},{mode:"exit"});t.style.webkitTransition=n.transitions.create("opacity",e),t.style.transition=n.transitions.create("opacity",e),d&&d(t)})),k=b(f);return Q.jsx(y,ch({appear:o,in:l,nodeRef:_,onEnter:S,onEntered:E,onEntering:w,onExit:M,onExited:k,onExiting:C,addEndListener:t=>{r&&r(_.current,t)},timeout:m},v,{children:(t,e)=>G.cloneElement(s,ch({style:ch({opacity:0,visibility:"exited"!==t||l?void 0:"hidden"},cM[t],g,s.props.style),ref:x},e))}))}));function dM(t){return Jp("MuiBackdrop",t)}Qp("MuiBackdrop",["root","invisible"]);const fM=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],pM=Tv("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})((({ownerState:t})=>ch({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"}))),gM=G.forwardRef((function(t,e){var n,i,r;const o=Pv({props:t,name:"MuiBackdrop"}),{children:s,className:a,component:l="div",components:u={},componentsProps:c={},invisible:h=!1,open:d,slotProps:f={},slots:p={},TransitionComponent:g=hM,transitionDuration:m}=o,y=uh(o,fM),v=ch({},o,{component:l,invisible:h}),_=(t=>{const{classes:e,invisible:n}=t;return fh({root:["root",n&&"invisible"]},dM,e)})(v),x=null!=(n=f.root)?n:c.root;return Q.jsx(g,ch({in:d,timeout:m},y,{children:Q.jsx(pM,ch({"aria-hidden":!0},x,{as:null!=(i=null!=(r=p.root)?r:u.Root)?i:l,className:dh(_.root,a,null==x?void 0:x.className),ownerState:ch({},v,null==x?void 0:x.ownerState),classes:_,ref:e,children:s}))}))})),mM=Qp("MuiBox",["root"]),yM=Ev(),vM=function(t={}){const{themeId:e,defaultTheme:n,defaultClassName:i="MuiBox-root",generateClassName:r}=t,o=Mf("div",{shouldForwardProp:t=>"theme"!==t&&"sx"!==t&&"as"!==t})(jp);return G.forwardRef((function(t,s){const a=Gp(n),l=Vp(t),{className:u,component:c="div"}=l,h=uh(l,Zp);return Q.jsx(o,ch({as:c,ref:s,className:dh(u,r?r(i):i),theme:e&&a[e]||a},h))}))}({themeId:Mv,defaultTheme:yM,defaultClassName:mM.root,generateClassName:Kp.generate});function _M(t){return Jp("PrivateSwitchBase",t)}Qp("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const xM=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],bM=Tv(BS)((({ownerState:t})=>ch({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12}))),wM=Tv("input",{shouldForwardProp:kv})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),SM=G.forwardRef((function(t,e){const{autoFocus:n,checked:i,checkedIcon:r,className:o,defaultChecked:s,disabled:a,disableFocusRipple:l=!1,edge:u=!1,icon:c,id:h,inputProps:d,inputRef:f,name:p,onBlur:g,onChange:m,onFocus:y,readOnly:v,required:_=!1,tabIndex:x,type:b,value:w}=t,S=uh(t,xM),[E,C]=Xg({controlled:i,default:Boolean(s),name:"SwitchBase",state:"checked"}),M=aM();let k=a;M&&void 0===k&&(k=M.disabled);const T="checkbox"===b||"radio"===b,P=ch({},t,{checked:E,disabled:k,disableFocusRipple:l,edge:u}),R=(t=>{const{classes:e,checked:n,disabled:i,edge:r}=t;return fh({root:["root",n&&"checked",i&&"disabled",r&&`edge${Gf(r)}`],input:["input"]},_M,e)})(P);return Q.jsxs(bM,ch({component:"span",className:dh(R.root,o),centerRipple:!0,focusRipple:!l,disabled:k,tabIndex:null,role:void 0,onFocus:t=>{y&&y(t),M&&M.onFocus&&M.onFocus(t)},onBlur:t=>{g&&g(t),M&&M.onBlur&&M.onBlur(t)},ownerState:P,ref:e},S,{children:[Q.jsx(wM,ch({autoFocus:n,checked:i,defaultChecked:s,className:R.input,disabled:k,id:T?h:void 0,name:p,onChange:t=>{if(t.nativeEvent.defaultPrevented)return;const e=t.target.checked;C(e),m&&m(t,e)},readOnly:v,ref:f,required:_,ownerState:P,tabIndex:x,type:b},"checkbox"===b&&void 0===w?{}:{value:w},d)),E?r:c]}))})),EM=Sw(Q.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),CM=Sw(Q.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),MM=Sw(Q.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function kM(t){return Jp("MuiCheckbox",t)}const TM=Qp("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),PM=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],RM=Tv(SM,{shouldForwardProp:t=>kv(t)||"classes"===t,name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e[`size${Gf(n.size)}`],"default"!==n.color&&e[`color${Gf(n.color)}`]]}})((({theme:t,ownerState:e})=>ch({color:(t.vars||t).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${"default"===e.color?t.vars.palette.action.activeChannel:t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Lm("default"===e.color?t.palette.action.active:t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==e.color&&{[`&.${TM.checked}, &.${TM.indeterminate}`]:{color:(t.vars||t).palette[e.color].main},[`&.${TM.disabled}`]:{color:(t.vars||t).palette.action.disabled}}))),IM=Q.jsx(CM,{}),OM=Q.jsx(EM,{}),FM=Q.jsx(MM,{}),LM=G.forwardRef((function(t,e){var n,i;const r=Pv({props:t,name:"MuiCheckbox"}),{checkedIcon:o=IM,color:s="primary",icon:a=OM,indeterminate:l=!1,indeterminateIcon:u=FM,inputProps:c,size:h="medium",className:d}=r,f=uh(r,PM),p=l?u:a,g=l?u:o,m=ch({},r,{color:s,indeterminate:l,size:h}),y=(t=>{const{classes:e,indeterminate:n,color:i,size:r}=t;return ch({},e,fh({root:["root",n&&"indeterminate",`color${Gf(i)}`,`size${Gf(r)}`]},kM,e))})(m);return Q.jsx(RM,ch({type:"checkbox",inputProps:ch({"data-indeterminate":l},c),icon:G.cloneElement(p,{fontSize:null!=(n=p.props.fontSize)?n:h}),checkedIcon:G.cloneElement(g,{fontSize:null!=(i=g.props.fontSize)?i:h}),ownerState:m,ref:e,className:dh(y.root,d)},f,{classes:y}))})),AM=(t,e)=>ch({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),jM=t=>ch({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}});function NM(t){const e=Pv({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:i=!1}=e;return Q.jsxs(G.Fragment,{children:[Q.jsx(lM,{styles:t=>((t,e=!1)=>{var n;const i={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach((([e,n])=>{var r;i[t.getColorSchemeSelector(e).replace(/\s*&/,"")]={colorScheme:null==(r=n.palette)?void 0:r.mode}}));let r=ch({html:AM(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:ch({margin:0},jM(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},i);const o=null==(n=t.components)||null==(n=n.MuiCssBaseline)?void 0:n.styleOverrides;return o&&(r=[r,o]),r})(t,i)}),n]})}function DM(t){return Jp("MuiModal",t)}Qp("MuiModal",["root","hidden","backdrop"]);const zM=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],$M=Tv("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})((({theme:t,ownerState:e})=>ch({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"}))),BM=Tv(gM,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),WM=G.forwardRef((function(t,e){var n,i,r,o,s,a;const l=Pv({name:"MuiModal",props:t}),{BackdropComponent:u=BM,BackdropProps:c,className:h,closeAfterTransition:d=!1,children:f,container:p,component:g,components:m={},componentsProps:y={},disableAutoFocus:v=!1,disableEnforceFocus:_=!1,disableEscapeKeyDown:x=!1,disablePortal:b=!1,disableRestoreFocus:w=!1,disableScrollLock:S=!1,hideBackdrop:E=!1,keepMounted:C=!1,onBackdropClick:M,open:k,slotProps:T,slots:P}=l,R=uh(l,zM),I=ch({},l,{closeAfterTransition:d,disableAutoFocus:v,disableEnforceFocus:_,disableEscapeKeyDown:x,disablePortal:b,disableRestoreFocus:w,disableScrollLock:S,hideBackdrop:E,keepMounted:C}),{getRootProps:O,getBackdropProps:F,getTransitionProps:L,portalRef:A,isTopModal:j,exited:N,hasTransition:D}=PE(ch({},I,{rootRef:e})),z=ch({},I,{exited:N}),$=(t=>{const{open:e,exited:n,classes:i}=t;return fh({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},DM,i)})(z),B={};if(void 0===f.props.tabIndex&&(B.tabIndex="-1"),D){const{onEnter:t,onExited:e}=L();B.onEnter=t,B.onExited=e}const W=null!=(n=null!=(i=null==P?void 0:P.root)?i:m.Root)?n:$M,U=null!=(r=null!=(o=null==P?void 0:P.backdrop)?o:m.Backdrop)?r:u,H=null!=(s=null==T?void 0:T.root)?s:y.root,V=null!=(a=null==T?void 0:T.backdrop)?a:y.backdrop,q=_S({elementType:W,externalSlotProps:H,externalForwardedProps:R,getSlotProps:O,additionalProps:{ref:e,as:g},ownerState:z,className:dh(h,null==H?void 0:H.className,null==$?void 0:$.root,!z.open&&z.exited&&(null==$?void 0:$.hidden))}),X=_S({elementType:U,externalSlotProps:V,additionalProps:c,getSlotProps:t=>F(ch({},t,{onClick:e=>{M&&M(e),null!=t&&t.onClick&&t.onClick(e)}})),className:dh(null==V?void 0:V.className,null==c?void 0:c.className,null==$?void 0:$.backdrop),ownerState:z});return C||k||D&&!N?Q.jsx(wE,{ref:A,container:p,disablePortal:b,children:Q.jsxs(W,ch({},q,{children:[!E&&u?Q.jsx(U,ch({},X)):null,Q.jsx(bE,{disableEnforceFocus:_,disableAutoFocus:v,disableRestoreFocus:w,isEnabled:j,open:k,children:G.cloneElement(f,B)})]}))}):null}));function GM(t){return Jp("MuiDialog",t)}const UM=Qp("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),HM=G.createContext({}),VM=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],qM=Tv(gM,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),XM=Tv(WM,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),KM=Tv("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${Gf(n.scroll)}`]]}})((({ownerState:t})=>ch({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}))),ZM=Tv(cS,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${Gf(n.scroll)}`],e[`paperWidth${Gf(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})((({theme:t,ownerState:e})=>ch({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===e.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===e.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===e.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${UM.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&"xs"!==e.maxWidth&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${UM.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${UM.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}))),YM=G.forwardRef((function(t,e){const n=Pv({props:t,name:"MuiDialog"}),i=gw(),r={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":s,BackdropComponent:a,BackdropProps:l,children:u,className:c,disableEscapeKeyDown:h=!1,fullScreen:d=!1,fullWidth:f=!1,maxWidth:p="sm",onBackdropClick:g,onClick:m,onClose:y,open:v,PaperComponent:_=cS,PaperProps:x={},scroll:b="paper",TransitionComponent:w=hM,transitionDuration:S=r,TransitionProps:E}=n,C=uh(n,VM),M=ch({},n,{disableEscapeKeyDown:h,fullScreen:d,fullWidth:f,maxWidth:p,scroll:b}),k=(t=>{const{classes:e,scroll:n,maxWidth:i,fullWidth:r,fullScreen:o}=t;return fh({root:["root"],container:["container",`scroll${Gf(n)}`],paper:["paper",`paperScroll${Gf(n)}`,`paperWidth${Gf(String(i))}`,r&&"paperFullWidth",o&&"paperFullScreen"]},GM,e)})(M),T=G.useRef(),P=qg(s),R=G.useMemo((()=>({titleId:P})),[P]);return Q.jsx(XM,ch({className:dh(k.root,c),closeAfterTransition:!0,components:{Backdrop:qM},componentsProps:{backdrop:ch({transitionDuration:S,as:a},l)},disableEscapeKeyDown:h,onClose:y,open:v,ref:e,onClick:t=>{m&&m(t),T.current&&(T.current=null,g&&g(t),y&&y(t,"backdropClick"))},ownerState:M},C,{children:Q.jsx(w,ch({appear:!0,in:v,timeout:S,role:"presentation"},E,{children:Q.jsx(KM,{className:dh(k.container),onMouseDown:t=>{T.current=t.target===t.currentTarget},ownerState:M,children:Q.jsx(ZM,ch({as:_,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":P},x,{className:dh(k.paper,x.className),ownerState:M,children:Q.jsx(HM.Provider,{value:R,children:u})}))})}))}))}));function JM(t){return Jp("MuiDialogContent",t)}function QM(t){return Jp("MuiDialogTitle",t)}Qp("MuiDialogContent",["root","dividers"]);const tk=Qp("MuiDialogTitle",["root"]),ek=["className","dividers"],nk=Tv("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})((({theme:t,ownerState:e})=>ch({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${tk.root} + &`]:{paddingTop:0}}))),ik=G.forwardRef((function(t,e){const n=Pv({props:t,name:"MuiDialogContent"}),{className:i,dividers:r=!1}=n,o=uh(n,ek),s=ch({},n,{dividers:r}),a=(t=>{const{classes:e,dividers:n}=t;return fh({root:["root",n&&"dividers"]},JM,e)})(s);return Q.jsx(nk,ch({className:dh(a.root,i),ownerState:s,ref:e},o))})),rk=["className","id"],ok=Tv(fE,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),sk=G.forwardRef((function(t,e){const n=Pv({props:t,name:"MuiDialogTitle"}),{className:i,id:r}=n,o=uh(n,rk),s=n,a=(t=>{const{classes:e}=t;return fh({root:["root"]},QM,e)})(s),{titleId:l=r}=G.useContext(HM);return Q.jsx(ok,ch({component:"h2",className:dh(a.root,i),ownerState:s,ref:e,variant:"h6",id:null!=r?r:l},o))}));function ak(t){return Jp("MuiDivider",t)}Qp("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const lk=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],uk=Tv("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,"vertical"===n.orientation&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&"vertical"===n.orientation&&e.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&e.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&e.textAlignLeft]}})((({theme:t,ownerState:e})=>ch({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:Lm(t.palette.divider,.08)},"inset"===e.variant&&{marginLeft:72},"middle"===e.variant&&"horizontal"===e.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===e.variant&&"vertical"===e.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===e.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"})),(({ownerState:t})=>ch({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}})),(({theme:t,ownerState:e})=>ch({},e.children&&"vertical"!==e.orientation&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`}})),(({theme:t,ownerState:e})=>ch({},e.children&&"vertical"===e.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`}})),(({ownerState:t})=>ch({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}}))),ck=Tv("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,"vertical"===n.orientation&&e.wrapperVertical]}})((({theme:t,ownerState:e})=>ch({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},"vertical"===e.orientation&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}))),hk=G.forwardRef((function(t,e){const n=Pv({props:t,name:"MuiDivider"}),{absolute:i=!1,children:r,className:o,component:s=(r?"div":"hr"),flexItem:a=!1,light:l=!1,orientation:u="horizontal",role:c=("hr"!==s?"separator":void 0),textAlign:h="center",variant:d="fullWidth"}=n,f=uh(n,lk),p=ch({},n,{absolute:i,component:s,flexItem:a,light:l,orientation:u,role:c,textAlign:h,variant:d}),g=(t=>{const{absolute:e,children:n,classes:i,flexItem:r,light:o,orientation:s,textAlign:a,variant:l}=t;return fh({root:["root",e&&"absolute",l,o&&"light","vertical"===s&&"vertical",r&&"flexItem",n&&"withChildren",n&&"vertical"===s&&"withChildrenVertical","right"===a&&"vertical"!==s&&"textAlignRight","left"===a&&"vertical"!==s&&"textAlignLeft"],wrapper:["wrapper","vertical"===s&&"wrapperVertical"]},ak,i)})(p);return Q.jsx(uk,ch({as:s,className:dh(g.root,o),role:c,ref:e,ownerState:p},f,{children:r?Q.jsx(ck,{className:g.wrapper,ownerState:p,children:r}):null}))}));function dk(t){return Jp("MuiFab",t)}hk.muiSkipListHighlight=!0;const fk=Qp("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),pk=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],gk=Tv(BS,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>kv(t)||"classes"===t,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${Gf(n.size)}`],"inherit"===n.color&&e.colorInherit,e[Gf(n.size)],e[n.color]]}})((({theme:t,ownerState:e})=>{var n,i;return ch({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:null==(n=(i=t.palette).getContrastText)?void 0:n.call(i,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${fk.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]}},"small"===e.size&&{width:40,height:40},"medium"===e.size&&{width:48,height:48},"extended"===e.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===e.variant&&"small"===e.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===e.variant&&"medium"===e.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===e.color&&{color:"inherit"})}),(({theme:t,ownerState:e})=>ch({},"inherit"!==e.color&&"default"!==e.color&&null!=(t.vars||t).palette[e.color]&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}})),(({theme:t})=>({[`&.${fk.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}))),mk=G.forwardRef((function(t,e){const n=Pv({props:t,name:"MuiFab"}),{children:i,className:r,color:o="default",component:s="button",disabled:a=!1,disableFocusRipple:l=!1,focusVisibleClassName:u,size:c="large",variant:h="circular"}=n,d=uh(n,pk),f=ch({},n,{color:o,component:s,disabled:a,disableFocusRipple:l,size:c,variant:h}),p=(t=>{const{color:e,variant:n,classes:i,size:r}=t;return ch({},i,fh({root:["root",n,`size${Gf(r)}`,"inherit"===e?"colorInherit":e]},dk,i))})(f);return Q.jsx(gk,ch({className:dh(p.root,r),component:s,disabled:a,focusRipple:!l,focusVisibleClassName:dh(p.focusVisible,u),ownerState:f,ref:e},d,{classes:p,children:i}))})),yk=function(t={}){const{createStyledComponent:e=Sm,useThemeProps:n=Em,componentName:i="MuiStack"}=t,r=e(Mm);return G.forwardRef((function(t,e){const o=Vp(n(t)),{component:s="div",direction:a="column",spacing:l=0,divider:u,children:c,className:h,useFlexGap:d=!1}=o,f=uh(o,bm),p={direction:a,spacing:l,useFlexGap:d},g=fh({root:["root"]},(t=>Jp(i,t)),{});return Q.jsx(r,ch({as:s,ownerState:p,ref:e,className:dh(g.root,h)},f,{children:u?Cm(c,u):c}))}))}({createStyledComponent:Tv("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>Pv({props:t,name:"MuiStack"})});function vk(t){return Jp("MuiFormControlLabel",t)}const _k=Qp("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),xk=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],bk=Tv("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${_k.label}`]:e.label},e.root,e[`labelPlacement${Gf(n.labelPlacement)}`]]}})((({theme:t,ownerState:e})=>ch({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${_k.disabled}`]:{cursor:"default"}},"start"===e.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===e.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===e.labelPlacement&&{flexDirection:"column",marginLeft:16},{[`& .${_k.label}`]:{[`&.${_k.disabled}`]:{color:(t.vars||t).palette.text.disabled}}}))),wk=Tv("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})((({theme:t})=>({[`&.${_k.error}`]:{color:(t.vars||t).palette.error.main}}))),Sk=G.forwardRef((function(t,e){var n,i;const r=Pv({props:t,name:"MuiFormControlLabel"}),{className:o,componentsProps:s={},control:a,disabled:l,disableTypography:u,label:c,labelPlacement:h="end",required:d,slotProps:f={}}=r,p=uh(r,xk),g=aM(),m=null!=(n=null!=l?l:a.props.disabled)?n:null==g?void 0:g.disabled,y=null!=d?d:a.props.required,v={disabled:m,required:y};["checked","name","onChange","value","inputRef"].forEach((t=>{void 0===a.props[t]&&void 0!==r[t]&&(v[t]=r[t])}));const _=oM({props:r,muiFormControl:g,states:["error"]}),x=ch({},r,{disabled:m,labelPlacement:h,required:y,error:_.error}),b=(t=>{const{classes:e,disabled:n,labelPlacement:i,error:r,required:o}=t;return fh({root:["root",n&&"disabled",`labelPlacement${Gf(i)}`,r&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",r&&"error"]},vk,e)})(x),w=null!=(i=f.typography)?i:s.typography;let S=c;return null==S||S.type===fE||u||(S=Q.jsx(fE,ch({component:"span"},w,{className:dh(b.label,null==w?void 0:w.className),children:S}))),Q.jsxs(bk,ch({className:dh(b.root,o),ownerState:x,ref:e},p,{children:[G.cloneElement(a,v),y?Q.jsxs(yk,{display:"block",children:[S,Q.jsxs(wk,{ownerState:x,"aria-hidden":!0,className:b.asterisk,children:["â€‰","*"]})]}):S]}))}));function Ek(t){return Jp("MuiFormGroup",t)}Qp("MuiFormGroup",["root","row","error"]);const Ck=["className","row"],Mk=Tv("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.row&&e.row]}})((({ownerState:t})=>ch({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"}))),kk=G.forwardRef((function(t,e){const n=Pv({props:t,name:"MuiFormGroup"}),{className:i,row:r=!1}=n,o=uh(n,Ck),s=ch({},n,{row:r,error:oM({props:n,muiFormControl:aM(),states:["error"]}).error}),a=(t=>{const{classes:e,row:n,error:i}=t;return fh({root:["root",n&&"row",i&&"error"]},Ek,e)})(s);return Q.jsx(Mk,ch({className:dh(a.root,i),ownerState:s,ref:e},o))}));function Tk(t){return Jp("MuiFormLabel",t)}const Pk=Qp("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Rk=["children","className","color","component","disabled","error","filled","focused","required"],Ik=Tv("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>ch({},e.root,"secondary"===t.color&&e.colorSecondary,t.filled&&e.filled)})((({theme:t,ownerState:e})=>ch({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Pk.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Pk.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Pk.error}`]:{color:(t.vars||t).palette.error.main}}))),Ok=Tv("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})((({theme:t})=>({[`&.${Pk.error}`]:{color:(t.vars||t).palette.error.main}}))),Fk=G.forwardRef((function(t,e){const n=Pv({props:t,name:"MuiFormLabel"}),{children:i,className:r,component:o="label"}=n,s=uh(n,Rk),a=oM({props:n,muiFormControl:aM(),states:["color","required","focused","disabled","error","filled"]}),l=ch({},n,{color:a.color||"primary",component:o,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),u=(t=>{const{classes:e,color:n,focused:i,disabled:r,error:o,filled:s,required:a}=t;return fh({root:["root",`color${Gf(n)}`,r&&"disabled",o&&"error",s&&"filled",i&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]},Tk,e)})(l);return Q.jsxs(Ik,ch({as:o,ownerState:l,className:dh(u.root,r),ref:e},s,{children:[i,a.required&&Q.jsxs(Ok,{ownerState:l,"aria-hidden":!0,className:u.asterisk,children:["â€‰","*"]})]}))})),Lk=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Ak(t){return`scale(${t}, ${t**2})`}const jk={entering:{opacity:1,transform:Ak(1)},entered:{opacity:1,transform:"none"}},Nk="undefined"!=typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Dk=G.forwardRef((function(t,e){const{addEndListener:n,appear:i=!0,children:r,easing:o,in:s,onEnter:a,onEntered:l,onEntering:u,onExit:c,onExited:h,onExiting:d,style:f,timeout:p="auto",TransitionComponent:g=Jw}=t,m=uh(t,Lk),y=tm(),v=G.useRef(),_=gw(),x=G.useRef(null),b=Zg(x,r.ref,e),w=t=>e=>{if(t){const n=x.current;void 0===e?t(n):t(n,e)}},S=w(u),E=w(((t,e)=>{oS(t);const{duration:n,delay:i,easing:r}=sS({style:f,timeout:p,easing:o},{mode:"enter"});let s;"auto"===p?(s=_.transitions.getAutoHeightDuration(t.clientHeight),v.current=s):s=n,t.style.transition=[_.transitions.create("opacity",{duration:s,delay:i}),_.transitions.create("transform",{duration:Nk?s:.666*s,delay:i,easing:r})].join(","),a&&a(t,e)})),C=w(l),M=w(d),k=w((t=>{const{duration:e,delay:n,easing:i}=sS({style:f,timeout:p,easing:o},{mode:"exit"});let r;"auto"===p?(r=_.transitions.getAutoHeightDuration(t.clientHeight),v.current=r):r=e,t.style.transition=[_.transitions.create("opacity",{duration:r,delay:n}),_.transitions.create("transform",{duration:Nk?r:.666*r,delay:Nk?n:n||.333*r,easing:i})].join(","),t.style.opacity=0,t.style.transform=Ak(.75),c&&c(t)})),T=w(h);return Q.jsx(g,ch({appear:i,in:s,nodeRef:x,onEnter:E,onEntered:C,onEntering:S,onExit:k,onExited:T,onExiting:M,addEndListener:t=>{"auto"===p&&y.start(v.current||0,t),n&&n(x.current,t)},timeout:"auto"===p?null:p},m,{children:(t,e)=>G.cloneElement(r,ch({style:ch({opacity:0,transform:Ak(.75),visibility:"exited"!==t||s?void 0:"hidden"},jk[t],f,r.props.style),ref:b},e))}))}));function zk(t){return Jp("MuiSnackbarContent",t)}Dk.muiSupportAuto=!0,Qp("MuiSnackbarContent",["root","message","action"]);const $k=["action","className","message","role"],Bk=Tv(cS,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})((({theme:t})=>{const e="light"===t.palette.mode?.8:.98,n=jm(t.palette.background.default,e);return ch({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(n),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})})),Wk=Tv("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),Gk=Tv("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Uk=G.forwardRef((function(t,e){const n=Pv({props:t,name:"MuiSnackbarContent"}),{action:i,className:r,message:o,role:s="alert"}=n,a=uh(n,$k),l=n,u=(t=>{const{classes:e}=t;return fh({root:["root"],action:["action"],message:["message"]},zk,e)})(l);return Q.jsxs(Bk,ch({role:s,square:!0,elevation:6,className:dh(u.root,r),ownerState:l,ref:e},a,{children:[Q.jsx(Wk,{className:u.message,ownerState:l,children:o}),i?Q.jsx(Gk,{className:u.action,ownerState:l,children:i}):null]}))}));function Hk(t){return Jp("MuiSnackbar",t)}Qp("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Vk=["onEnter","onExited"],qk=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],Xk=Tv("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${Gf(n.anchorOrigin.vertical)}${Gf(n.anchorOrigin.horizontal)}`]]}})((({theme:t,ownerState:e})=>ch({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},"top"===e.anchorOrigin.vertical?{top:8}:{bottom:8},"left"===e.anchorOrigin.horizontal&&{justifyContent:"flex-start"},"right"===e.anchorOrigin.horizontal&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:ch({},"top"===e.anchorOrigin.vertical?{top:24}:{bottom:24},"center"===e.anchorOrigin.horizontal&&{left:"50%",right:"auto",transform:"translateX(-50%)"},"left"===e.anchorOrigin.horizontal&&{left:24,right:"auto"},"right"===e.anchorOrigin.horizontal&&{right:24,left:"auto"})}))),Kk=G.forwardRef((function(t,e){const n=Pv({props:t,name:"MuiSnackbar"}),i=gw(),r={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:o,anchorOrigin:{vertical:s,horizontal:a}={vertical:"bottom",horizontal:"left"},autoHideDuration:l=null,children:u,className:c,ClickAwayListenerProps:h,ContentProps:d,disableWindowBlurListener:f=!1,message:p,open:g,TransitionComponent:m=Dk,transitionDuration:y=r,TransitionProps:{onEnter:v,onExited:_}={}}=n,x=uh(n.TransitionProps,Vk),b=uh(n,qk),w=ch({},n,{anchorOrigin:{vertical:s,horizontal:a},autoHideDuration:l,disableWindowBlurListener:f,TransitionComponent:m,transitionDuration:y}),S=(t=>{const{classes:e,anchorOrigin:n}=t;return fh({root:["root",`anchorOrigin${Gf(n.vertical)}${Gf(n.horizontal)}`]},Hk,e)})(w),{getRootProps:E,onClickAway:C}=function(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:i,open:r,resumeHideDuration:o}=t,s=tm();G.useEffect((()=>{if(r)return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)};function t(t){t.defaultPrevented||"Escape"!==t.key&&"Esc"!==t.key||null==i||i(t,"escapeKeyDown")}}),[r,i]);const a=Kg(((t,e)=>{null==i||i(t,e)})),l=Kg((t=>{i&&null!=t&&s.start(t,(()=>{a(null,"timeout")}))}));G.useEffect((()=>(r&&l(e),s.clear)),[r,e,l,s]);const u=s.clear,c=G.useCallback((()=>{null!=e&&l(null!=o?o:.5*e)}),[e,o,l]),h=t=>e=>{const n=t.onFocus;null==n||n(e),u()},d=t=>e=>{const n=t.onMouseEnter;null==n||n(e),u()},f=t=>e=>{const n=t.onMouseLeave;null==n||n(e),c()};return G.useEffect((()=>{if(!n&&r)return window.addEventListener("focus",c),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",c),window.removeEventListener("blur",u)}}),[n,r,c,u]),{getRootProps:(e={})=>{const n=ch({},pS(t),pS(e));return ch({role:"presentation"},e,n,{onBlur:(i=n,t=>{const e=i.onBlur;null==e||e(t),c()}),onFocus:h(n),onMouseEnter:d(n),onMouseLeave:f(n)});var i},onClickAway:t=>{null==i||i(t,"clickaway")}}}(ch({},w)),[M,k]=G.useState(!0),T=_S({elementType:Xk,getSlotProps:E,externalForwardedProps:b,ownerState:w,additionalProps:{ref:e},className:[S.root,c]});return!g&&M?null:Q.jsx(yE,ch({onClickAway:C},h,{children:Q.jsx(Xk,ch({},T,{children:Q.jsx(m,ch({appear:!0,in:g,timeout:y,direction:"top"===s?"down":"up",onEnter:(t,e)=>{k(!1),v&&v(t,e)},onExited:t=>{k(!0),_&&_(t)}},x,{children:u||Q.jsx(Uk,ch({message:p,action:o},d))}))}))}))})),Zk=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Yk={entering:{transform:"none"},entered:{transform:"none"}},Jk=G.forwardRef((function(t,e){const n=gw(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:r,appear:o=!0,children:s,easing:a,in:l,onEnter:u,onEntered:c,onEntering:h,onExit:d,onExited:f,onExiting:p,style:g,timeout:m=i,TransitionComponent:y=Jw}=t,v=uh(t,Zk),_=G.useRef(null),x=Zg(_,s.ref,e),b=t=>e=>{if(t){const n=_.current;void 0===e?t(n):t(n,e)}},w=b(h),S=b(((t,e)=>{oS(t);const i=sS({style:g,timeout:m,easing:a},{mode:"enter"});t.style.webkitTransition=n.transitions.create("transform",i),t.style.transition=n.transitions.create("transform",i),u&&u(t,e)})),E=b(c),C=b(p),M=b((t=>{const e=sS({style:g,timeout:m,easing:a},{mode:"exit"});t.style.webkitTransition=n.transitions.create("transform",e),t.style.transition=n.transitions.create("transform",e),d&&d(t)})),k=b(f);return Q.jsx(y,ch({appear:o,in:l,nodeRef:_,onEnter:S,onEntered:E,onEntering:w,onExit:M,onExited:k,onExiting:C,addEndListener:t=>{r&&r(_.current,t)},timeout:m},v,{children:(t,e)=>G.cloneElement(s,ch({style:ch({transform:"scale(0)",visibility:"exited"!==t||l?void 0:"hidden"},Yk[t],g,s.props.style),ref:x},e))}))}));function Qk(t){return Jp("MuiSpeedDial",t)}const tT=Qp("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),eT=["ref"],nT=["ariaLabel","FabProps","children","className","direction","hidden","icon","onBlur","onClose","onFocus","onKeyDown","onMouseEnter","onMouseLeave","onOpen","open","openIcon","TransitionComponent","transitionDuration","TransitionProps"],iT=["ref"];function rT(t){return"up"===t||"down"===t?"vertical":"right"===t||"left"===t?"horizontal":void 0}const oT=Tv("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`direction${Gf(n.direction)}`]]}})((({theme:t,ownerState:e})=>ch({zIndex:(t.vars||t).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none"},"up"===e.direction&&{flexDirection:"column-reverse",[`& .${tT.actions}`]:{flexDirection:"column-reverse",marginBottom:-32,paddingBottom:48}},"down"===e.direction&&{flexDirection:"column",[`& .${tT.actions}`]:{flexDirection:"column",marginTop:-32,paddingTop:48}},"left"===e.direction&&{flexDirection:"row-reverse",[`& .${tT.actions}`]:{flexDirection:"row-reverse",marginRight:-32,paddingRight:48}},"right"===e.direction&&{flexDirection:"row",[`& .${tT.actions}`]:{flexDirection:"row",marginLeft:-32,paddingLeft:48}}))),sT=Tv(mk,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(t,e)=>e.fab})((()=>({pointerEvents:"auto"}))),aT=Tv("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.actions,!n.open&&e.actionsClosed]}})((({ownerState:t})=>ch({display:"flex",pointerEvents:"auto"},!t.open&&{transition:"top 0s linear 0.2s",pointerEvents:"none"}))),lT=G.forwardRef((function(t,e){const n=Pv({props:t,name:"MuiSpeedDial"}),i=gw(),r={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{ariaLabel:o,FabProps:{ref:s}={},children:a,className:l,direction:u="up",hidden:c=!1,icon:h,onBlur:d,onClose:f,onFocus:p,onKeyDown:g,onMouseEnter:m,onMouseLeave:y,onOpen:v,open:_,TransitionComponent:x=Jk,transitionDuration:b=r,TransitionProps:w}=n,S=uh(n.FabProps,eT),E=uh(n,nT),[C,M]=Xg({controlled:_,default:!1,name:"SpeedDial",state:"open"}),k=ch({},n,{open:C,direction:u}),T=(t=>{const{classes:e,open:n,direction:i}=t;return fh({root:["root",`direction${Gf(i)}`],fab:["fab"],actions:["actions",!n&&"actionsClosed"]},Qk,e)})(k),P=tm(),R=G.useRef(0),I=G.useRef(),O=G.useRef([]);O.current=[O.current[0]];const F=Zg(s,G.useCallback((t=>{O.current[0]=t}),[])),L=(t,e)=>n=>{O.current[t+1]=n,e&&e(n)};G.useEffect((()=>{C||(R.current=0,I.current=void 0)}),[C]);const A=t=>{"mouseleave"===t.type&&y&&y(t),"blur"===t.type&&d&&d(t),P.clear(),"blur"===t.type?P.start(0,(()=>{M(!1),f&&f(t,"blur")})):(M(!1),f&&f(t,"mouseLeave"))},j=t=>{"mouseenter"===t.type&&m&&m(t),"focus"===t.type&&p&&p(t),P.clear(),C||P.start(0,(()=>{M(!0),v&&v(t,{focus:"focus",mouseenter:"mouseEnter"}[t.type])}))},N=o.replace(/^[^a-z]+|[^\w:.-]+/gi,""),D=G.Children.toArray(a).filter((t=>G.isValidElement(t))),z=D.map(((t,e)=>{const n=t.props,{FabProps:{ref:i}={},tooltipPlacement:r}=n,o=uh(n.FabProps,iT),s=r||("vertical"===rT(u)?"left":"top");return G.cloneElement(t,{FabProps:ch({},o,{ref:L(e,i)}),delay:30*(C?e:D.length-e),open:C,tooltipPlacement:s,id:`${N}-action-${e}`})}));return Q.jsxs(oT,ch({className:dh(T.root,l),ref:e,role:"presentation",onKeyDown:t=>{g&&g(t);const e=t.key.replace("Arrow","").toLowerCase(),{current:n=e}=I;if("Escape"===t.key)return M(!1),O.current[0].focus(),void(f&&f(t,"escapeKeyDown"));if(rT(e)===rT(n)&&void 0!==rT(e)){t.preventDefault();const i=e===n?1:-1,r=Dg(R.current+i,0,O.current.length-1);O.current[r].focus(),R.current=r,I.current=n}},onBlur:A,onFocus:j,onMouseEnter:j,onMouseLeave:A,ownerState:k},E,{children:[Q.jsx(x,ch({in:!c,timeout:b,unmountOnExit:!0},w,{children:Q.jsx(sT,ch({color:"primary","aria-label":o,"aria-haspopup":"true","aria-expanded":C,"aria-controls":`${N}-actions`},S,{onClick:t=>{S.onClick&&S.onClick(t),P.clear(),C?(M(!1),f&&f(t,"toggle")):(M(!0),v&&v(t,"toggle"))},className:dh(T.fab,S.className),ref:F,ownerState:k,children:G.isValidElement(h)&&Bg(h,["SpeedDialIcon"])?G.cloneElement(h,{open:C}):h}))})),Q.jsx(aT,{id:`${N}-actions`,role:"menu","aria-orientation":rT(u),className:dh(T.actions,!C&&T.actionsClosed),ownerState:k,children:z})]}))}));function uT(t){return Jp("MuiTooltip",t)}const cT=Qp("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),hT=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"],dT=Tv(rM,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})((({theme:t,ownerState:e,open:n})=>ch({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${cT.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${cT.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${cT.arrow}`]:ch({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${cT.arrow}`]:ch({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})}))),fT=Tv("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${Gf(n.placement.split("-")[0])}`]]}})((({theme:t,ownerState:e})=>{return ch({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:Lm(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:(n=16/14,Math.round(1e5*n)/1e5+"em"),fontWeight:t.typography.fontWeightRegular},{[`.${cT.popper}[data-popper-placement*="left"] &`]:ch({transformOrigin:"right center"},e.isRtl?ch({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):ch({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${cT.popper}[data-popper-placement*="right"] &`]:ch({transformOrigin:"left center"},e.isRtl?ch({marginRight:"14px"},e.touch&&{marginRight:"24px"}):ch({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${cT.popper}[data-popper-placement*="top"] &`]:ch({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${cT.popper}[data-popper-placement*="bottom"] &`]:ch({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})});var n})),pT=Tv("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})((({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:Lm(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let gT=!1;const mT=new Qg;let yT={x:0,y:0};function vT(t,e){return(n,...i)=>{e&&e(n,...i),t(n,...i)}}const _T=G.forwardRef((function(t,e){var n,i,r,o,s,a,l,u,c,h,d,f,p,g,m,y,v,_,x;const b=Pv({props:t,name:"MuiTooltip"}),{arrow:w=!1,children:S,components:E={},componentsProps:C={},describeChild:M=!1,disableFocusListener:k=!1,disableHoverListener:T=!1,disableInteractive:P=!1,disableTouchListener:R=!1,enterDelay:I=100,enterNextDelay:O=0,enterTouchDelay:F=700,followCursor:L=!1,id:A,leaveDelay:j=0,leaveTouchDelay:N=1500,onClose:D,onOpen:z,open:$,placement:B="bottom",PopperComponent:W,PopperProps:U={},slotProps:H={},slots:V={},title:q,TransitionComponent:X=Dk,TransitionProps:K}=b,Z=uh(b,hT),Y=G.isValidElement(S)?S:Q.jsx("span",{children:S}),J=gw(),tt=ym(),[et,nt]=G.useState(),[it,rt]=G.useState(null),ot=G.useRef(!1),st=P||L,at=tm(),lt=tm(),ut=tm(),ct=tm(),[ht,dt]=Xg({controlled:$,default:!1,name:"Tooltip",state:"open"});let ft=ht;const pt=qg(A),gt=G.useRef(),mt=Kg((()=>{void 0!==gt.current&&(document.body.style.WebkitUserSelect=gt.current,gt.current=void 0),ct.clear()}));G.useEffect((()=>mt),[mt]);const yt=t=>{mT.clear(),gT=!0,dt(!0),z&&!ft&&z(t)},vt=Kg((t=>{mT.start(800+j,(()=>{gT=!1})),dt(!1),D&&ft&&D(t),at.start(J.transitions.duration.shortest,(()=>{ot.current=!1}))})),_t=t=>{ot.current&&"touchstart"!==t.type||(et&&et.removeAttribute("title"),lt.clear(),ut.clear(),I||gT&&O?lt.start(gT?O:I,(()=>{yt(t)})):yt(t))},xt=t=>{lt.clear(),ut.start(j,(()=>{vt(t)}))},{isFocusVisibleRef:bt,onBlur:wt,onFocus:St,ref:Et}=um(),[,Ct]=G.useState(!1),Mt=t=>{wt(t),!1===bt.current&&(Ct(!1),xt(t))},kt=t=>{et||nt(t.currentTarget),St(t),!0===bt.current&&(Ct(!0),_t(t))},Tt=t=>{ot.current=!0;const e=Y.props;e.onTouchStart&&e.onTouchStart(t)},Pt=t=>{Tt(t),ut.clear(),at.clear(),mt(),gt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ct.start(F,(()=>{document.body.style.WebkitUserSelect=gt.current,_t(t)}))},Rt=t=>{Y.props.onTouchEnd&&Y.props.onTouchEnd(t),mt(),ut.start(N,(()=>{vt(t)}))};G.useEffect((()=>{if(ft)return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)};function t(t){"Escape"!==t.key&&"Esc"!==t.key||vt(t)}}),[vt,ft]);const It=Zg(Y.ref,Et,nt,e);q||0===q||(ft=!1);const Ot=G.useRef(),Ft={},Lt="string"==typeof q;M?(Ft.title=ft||!Lt||T?null:q,Ft["aria-describedby"]=ft?pt:null):(Ft["aria-label"]=Lt?q:null,Ft["aria-labelledby"]=ft&&!Lt?pt:null);const At=ch({},Ft,Z,Y.props,{className:dh(Z.className,Y.props.className),onTouchStart:Tt,ref:It},L?{onMouseMove:t=>{const e=Y.props;e.onMouseMove&&e.onMouseMove(t),yT={x:t.clientX,y:t.clientY},Ot.current&&Ot.current.update()}}:{}),jt={};R||(At.onTouchStart=Pt,At.onTouchEnd=Rt),T||(At.onMouseOver=vT(_t,At.onMouseOver),At.onMouseLeave=vT(xt,At.onMouseLeave),st||(jt.onMouseOver=_t,jt.onMouseLeave=xt)),k||(At.onFocus=vT(kt,At.onFocus),At.onBlur=vT(Mt,At.onBlur),st||(jt.onFocus=kt,jt.onBlur=Mt));const Nt=G.useMemo((()=>{var t;let e=[{name:"arrow",enabled:Boolean(it),options:{element:it,padding:4}}];return null!=(t=U.popperOptions)&&t.modifiers&&(e=e.concat(U.popperOptions.modifiers)),ch({},U.popperOptions,{modifiers:e})}),[it,U]),Dt=ch({},b,{isRtl:tt,arrow:w,disableInteractive:st,placement:B,PopperComponentProp:W,touch:ot.current}),zt=(t=>{const{classes:e,disableInteractive:n,arrow:i,touch:r,placement:o}=t;return fh({popper:["popper",!n&&"popperInteractive",i&&"popperArrow"],tooltip:["tooltip",i&&"tooltipArrow",r&&"touch",`tooltipPlacement${Gf(o.split("-")[0])}`],arrow:["arrow"]},uT,e)})(Dt),$t=null!=(n=null!=(i=V.popper)?i:E.Popper)?n:dT,Bt=null!=(r=null!=(o=null!=(s=V.transition)?s:E.Transition)?o:X)?r:Dk,Wt=null!=(a=null!=(l=V.tooltip)?l:E.Tooltip)?a:fT,Gt=null!=(u=null!=(c=V.arrow)?c:E.Arrow)?u:pT,Ut=hS($t,ch({},U,null!=(h=H.popper)?h:C.popper,{className:dh(zt.popper,null==U?void 0:U.className,null==(d=null!=(f=H.popper)?f:C.popper)?void 0:d.className)}),Dt),Ht=hS(Bt,ch({},K,null!=(p=H.transition)?p:C.transition),Dt),Vt=hS(Wt,ch({},null!=(g=H.tooltip)?g:C.tooltip,{className:dh(zt.tooltip,null==(m=null!=(y=H.tooltip)?y:C.tooltip)?void 0:m.className)}),Dt),qt=hS(Gt,ch({},null!=(v=H.arrow)?v:C.arrow,{className:dh(zt.arrow,null==(_=null!=(x=H.arrow)?x:C.arrow)?void 0:_.className)}),Dt);return Q.jsxs(G.Fragment,{children:[G.cloneElement(Y,At),Q.jsx($t,ch({as:null!=W?W:rM,placement:B,anchorEl:L?{getBoundingClientRect:()=>({top:yT.y,left:yT.x,right:yT.x,bottom:yT.y,width:0,height:0})}:et,popperRef:Ot,open:!!et&&ft,id:pt,transition:!0},jt,Ut,{popperOptions:Nt,children:({TransitionProps:t})=>Q.jsx(Bt,ch({timeout:J.transitions.duration.shorter},t,Ht,{children:Q.jsxs(Wt,ch({},Vt,{children:[q,w?Q.jsx(Gt,ch({},qt,{ref:rt})):null]}))}))}))]})}));function xT(t){return Jp("MuiSpeedDialAction",t)}const bT=Qp("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]),wT=["className","delay","FabProps","icon","id","open","TooltipClasses","tooltipOpen","tooltipPlacement","tooltipTitle"],ST=Tv(mk,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.fab,!n.open&&e.fabClosed]}})((({theme:t,ownerState:e})=>ch({margin:8,color:(t.vars||t).palette.text.secondary,backgroundColor:(t.vars||t).palette.background.paper,"&:hover":{backgroundColor:t.vars?t.vars.palette.SpeedDialAction.fabHoverBg:jm(t.palette.background.paper,.15)},transition:`${t.transitions.create("transform",{duration:t.transitions.duration.shorter})}, opacity 0.8s`,opacity:1},!e.open&&{opacity:0,transform:"scale(0)"}))),ET=Tv("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.staticTooltip,!n.open&&e.staticTooltipClosed,e[`tooltipPlacement${Gf(n.tooltipPlacement)}`]]}})((({theme:t,ownerState:e})=>({position:"relative",display:"flex",alignItems:"center",[`& .${bT.staticTooltipLabel}`]:ch({transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.shorter}),opacity:1},!e.open&&{opacity:0,transform:"scale(0.5)"},"left"===e.tooltipPlacement&&{transformOrigin:"100% 50%",right:"100%",marginRight:8},"right"===e.tooltipPlacement&&{transformOrigin:"0% 50%",left:"100%",marginLeft:8})}))),CT=Tv("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:(t,e)=>e.staticTooltipLabel})((({theme:t})=>ch({position:"absolute"},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.paper,borderRadius:(t.vars||t).shape.borderRadius,boxShadow:(t.vars||t).shadows[1],color:(t.vars||t).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"}))),MT=G.forwardRef((function(t,e){const n=Pv({props:t,name:"MuiSpeedDialAction"}),{className:i,delay:r=0,FabProps:o={},icon:s,id:a,open:l,TooltipClasses:u,tooltipOpen:c=!1,tooltipPlacement:h="left",tooltipTitle:d}=n,f=uh(n,wT),p=ch({},n,{tooltipPlacement:h}),g=(t=>{const{open:e,tooltipPlacement:n,classes:i}=t;return fh({fab:["fab",!e&&"fabClosed"],staticTooltip:["staticTooltip",`tooltipPlacement${Gf(n)}`,!e&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]},xT,i)})(p),[m,y]=G.useState(c),v={transitionDelay:`${r}ms`},_=Q.jsx(ST,ch({size:"small",className:dh(g.fab,i),tabIndex:-1,role:"menuitem",ownerState:p},o,{style:ch({},v,o.style),children:s}));return c?Q.jsxs(ET,ch({id:a,ref:e,className:g.staticTooltip,ownerState:p},f,{children:[Q.jsx(CT,{style:v,id:`${a}-label`,className:g.staticTooltipLabel,ownerState:p,children:d}),G.cloneElement(_,{"aria-labelledby":`${a}-label`})]})):(!l&&m&&y(!1),Q.jsx(_T,ch({id:a,ref:e,title:d,placement:h,onClose:()=>{y(!1)},onOpen:()=>{y(!0)},open:l&&m,classes:u},f,{children:_})))})),kT=Ev({palette:{primary:{main:"#0079BC"},secondary:{main:"#ab47bc"},mode:"light"},components:{MuiTooltip:{styleOverrides:{tooltip:{fontSize:"1em",color:"#0079BC",backgroundColor:"#ffffff",border:"1px solid #999999",maxWidth:500,padding:"15px"}}},MuiAccordion:{styleOverrides:{root:{"&.Mui-expanded":{margin:0,minHeight:"5px"}},content:{margin:0,"&.Mui-expanded":{margin:"10px 0"}}}}}}),TT=U.forwardRef((function(t,e){return Q.jsx(aE,{elevation:6,ref:e,variant:"filled",...t})})),PT=()=>{const t=C_(),{open:e,message:n,type:i}=g_((t=>t.notification)),r=()=>t((async t=>{t(Gb())}));return Q.jsx(Kk,{open:e,autoHideDuration:3e4,anchorOrigin:{vertical:"top",horizontal:"left"},onClose:r,children:Q.jsx(TT,{onClose:r,severity:i,sx:{width:"100%"},children:n})})};var RT={},IT={};const OT=i(Cw);var FT;function LT(){return FT||(FT=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=OT}(IT)),IT}var AT=Rm;Object.defineProperty(RT,"__esModule",{value:!0});var jT=RT.default=void 0,NT=AT(LT()),DT=Q;jT=RT.default=(0,NT.default)((0,DT.jsx)("path",{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27z"}),"Layers");var zT={},$T=Rm;Object.defineProperty(zT,"__esModule",{value:!0});var BT=zT.default=void 0,WT=$T(LT()),GT=Q;BT=zT.default=(0,WT.default)([(0,GT.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,GT.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"CameraAlt");const UT={foto:Q.jsx(BT,{}),kaart:Q.jsx(jT,{sx:{color:"#009933"}}),hallkaart:Q.jsx(jT,{sx:{color:"#999999"}})},HT=({MapContext:t})=>{const{map:e}=G.useContext(t),[n,i]=G.useState(!1),[r,o]=G.useState([]),s=C_(),{baseLayer:a}=g_((t=>t.map)),l=t=>{s((t=>async e=>{e(iw(t))})(t.get("title")))};return G.useEffect((()=>{for(const t of r)t.setVisible(!1),t.get("title")===a&&t.setVisible(!0);i(!1)}),[a,r]),G.useEffect((()=>{if(e){const t=e.getLayers().getArray().filter((t=>"base"===t.get("type")));o(t)}}),[e]),Q.jsx(lT,{ariaLabel:"Aluskaardid",sx:{position:"absolute",left:8,bottom:48},icon:Q.jsx(jT,{}),onClose:()=>i(!1),onOpen:()=>i(!0),open:n,children:r.map((t=>Q.jsx(MT,{icon:UT[t.get("title")],tooltipTitle:t.get("title"),tooltipPlacement:"right",tooltipOpen:!0,onClick:()=>l(t)},t.get("title"))))})},VT=({children:t})=>Q.jsx("div",{children:t});class qT{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const XT="propertychange";class KT{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function ZT(t,e){return t>e?1:t<e?-1:0}function YT(t,e,n){if(t[0]<=e)return 0;const i=t.length;if(e<=t[i-1])return i-1;if("function"==typeof n){for(let r=1;r<i;++r){const i=t[r];if(i===e)return r;if(i<e)return n(e,t[r-1],i)>0?r-1:r}return i-1}if(n>0){for(let n=1;n<i;++n)if(t[n]<e)return n-1;return i-1}if(n<0){for(let n=1;n<i;++n)if(t[n]<=e)return n;return i-1}for(let r=1;r<i;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return i-1}function JT(t,e,n){for(;e<n;){const i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function QT(t,e){const n=Array.isArray(e)?e:[e],i=n.length;for(let r=0;r<i;r++)t[t.length]=n[r]}function tP(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function eP(){return!0}function nP(){return!1}function iP(){}function rP(t){let e,n,i,r=!1;return function(){const o=Array.prototype.slice.call(arguments);return r&&this===i&&tP(o,n)||(r=!0,i=this,n=o,e=t.apply(this,arguments)),e}}function oP(t){return function(){let e;try{e=t()}catch(n){return Promise.reject(n)}return e instanceof Promise?e:Promise.resolve(e)}()}function sP(t){for(const e in t)delete t[e]}function aP(t){let e;for(e in t)return!1;return!e}class lP extends KT{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;const n=this.listeners_||(this.listeners_={}),i=n[t]||(n[t]=[]);i.includes(e)||i.push(e)}dispatchEvent(t){const e="string"==typeof t,n=e?t:t.type,i=this.listeners_&&this.listeners_[n];if(!i)return;const r=e?new qT(t):t;r.target||(r.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),s=this.pendingRemovals_||(this.pendingRemovals_={});let a;n in o||(o[n]=0,s[n]=0),++o[n];for(let l=0,u=i.length;l<u;++l)if(a="handleEvent"in i[l]?i[l].handleEvent(r):i[l].call(this,r),!1===a||r.propagationStopped){a=!1;break}if(0==--o[n]){let t=s[n];for(delete s[n];t--;)this.removeEventListener(n,iP);delete o[n]}return a}disposeInternal(){this.listeners_&&sP(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(t,e){if(!this.listeners_)return;const n=this.listeners_[t];if(!n)return;const i=n.indexOf(e);-1!==i&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[i]=iP,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t]))}}const uP="change",cP="error",hP="contextmenu",dP="click",fP="dblclick",pP="keydown",gP="keypress",mP="load",yP="touchmove",vP="wheel";function _P(t,e,n,i,r){if(i&&i!==t&&(n=n.bind(i)),r){const i=n;n=function(){t.removeEventListener(e,n),i.apply(this,arguments)}}const o={target:t,type:e,listener:n};return t.addEventListener(e,n),o}function xP(t,e,n,i){return _P(t,e,n,i,!0)}function bP(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),sP(t))}class wP extends lP{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(uP)}getRevision(){return this.revision_}onInternal(t,e){if(Array.isArray(t)){const n=t.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=_P(this,t[r],e);return i}return _P(this,t,e)}onceInternal(t,e){let n;if(Array.isArray(t)){const i=t.length;n=new Array(i);for(let r=0;r<i;++r)n[r]=xP(this,t[r],e)}else n=xP(this,t,e);return e.ol_key=n,n}unInternal(t,e){const n=e.ol_key;if(n)SP(n);else if(Array.isArray(t))for(let i=0,r=t.length;i<r;++i)this.removeEventListener(t[i],e);else this.removeEventListener(t,e)}}function SP(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)bP(t[e]);else bP(t)}function EP(){throw new Error("Unimplemented abstract method.")}wP.prototype.on,wP.prototype.once,wP.prototype.un;let CP=0;function MP(t){return t.ol_uid||(t.ol_uid=String(++CP))}class kP extends qT{constructor(t,e,n){super(t),this.key=e,this.oldValue=n}}class TP extends wP{constructor(t){super(),this.on,this.once,this.un,MP(this),this.values_=null,void 0!==t&&this.setProperties(t)}get(t){let e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,e){let n;n=`change:${t}`,this.hasListener(n)&&this.dispatchEvent(new kP(n,t,e)),n=XT,this.hasListener(n)&&this.dispatchEvent(new kP(n,t,e))}addChangeListener(t,e){this.addEventListener(`change:${t}`,e)}removeChangeListener(t,e){this.removeEventListener(`change:${t}`,e)}set(t,e,n){const i=this.values_||(this.values_={});if(n)i[t]=e;else{const n=i[t];i[t]=e,n!==e&&this.notify(t,n)}}setProperties(t,e){for(const n in t)this.set(n,t[n],e)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,e){if(this.values_&&t in this.values_){const n=this.values_[t];delete this.values_[t],aP(this.values_)&&(this.values_=null),e||this.notify(t,n)}}}const PP="add",RP="remove",IP="length";class OP extends qT{constructor(t,e,n){super(t),this.element=e,this.index=n}}class FP extends TP{constructor(t,e){if(super(),this.on,this.once,this.un,e=e||{},this.unique_=!!e.unique,this.array_=t||[],this.unique_)for(let n=0,i=this.array_.length;n<i;++n)this.assertUnique_(this.array_[n],n);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let e=0,n=t.length;e<n;++e)this.push(t[e]);return this}forEach(t){const e=this.array_;for(let n=0,i=e.length;n<i;++n)t(e[n],n,e)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(IP)}insertAt(t,e){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new OP(PP,e,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const e=this.getLength();return this.insertAt(e,t),this.getLength()}remove(t){const e=this.array_;for(let n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)}removeAt(t){if(t<0||t>=this.getLength())return;const e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new OP(RP,e,t)),e}setAt(t,e){if(t>=this.getLength())return void this.insertAt(t,e);if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e,t);const n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new OP(RP,n,t)),this.dispatchEvent(new OP(PP,e,t))}updateLength_(){this.set(IP,this.array_.length)}assertUnique_(t,e){for(let n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new Error("Duplicate item added to a unique collection")}}function LP(t,e){if(!t)throw new Error(e)}class AP extends TP{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if("function"==typeof t.getSimplifiedGeometry){const e=t;this.setGeometry(e)}else{const e=t;this.setProperties(e)}}clone(){const t=new AP(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const e=this.getGeometry();e&&t.setGeometry(e.clone());const n=this.getStyle();return n&&t.setStyle(n),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(bP(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=_P(t,uP,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?function(t){if("function"==typeof t)return t;let e;return Array.isArray(t)?e=t:(LP("function"==typeof t.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[t]),function(){return e}}(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}const jP=new Array(6);function NP(t,e){const n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=e[0],u=e[1],c=e[2],h=e[3],d=e[4],f=e[5];return t[0]=n*l+r*u,t[1]=i*l+o*u,t[2]=n*c+r*h,t[3]=i*c+o*h,t[4]=n*d+r*f+s,t[5]=i*d+o*f+a,t}function DP(t,e){const n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function zP(t,e,n,i,r,o,s,a){const l=Math.sin(o),u=Math.cos(o);return t[0]=i*u,t[1]=r*l,t[2]=-i*l,t[3]=r*u,t[4]=s*i*u-a*i*l+e,t[5]=s*r*l+a*r*u+n,t}function $P(t,e){const n=(i=e)[0]*i[3]-i[1]*i[2];var i;LP(0!==n,"Transformation matrix cannot be inverted");const r=e[0],o=e[1],s=e[2],a=e[3],l=e[4],u=e[5];return t[0]=a/n,t[1]=-o/n,t[2]=-s/n,t[3]=r/n,t[4]=(s*u-a*l)/n,t[5]=-(r*u-o*l)/n,t}const BP=[1e6,1e6,1e6,1e6,2,2],WP=0,GP=1,UP=2,HP=4,VP=8,qP=16;function XP(t){const e=[1/0,1/0,-1/0,-1/0];for(let n=0,i=t.length;n<i;++n)lR(e,t[n]);return e}function KP(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function ZP(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function YP(t,e,n){let i,r;return i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0,i*i+r*r}function JP(t,e){return tR(t,e[0],e[1])}function QP(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function tR(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function eR(t,e){const n=t[0],i=t[1],r=t[2],o=t[3],s=e[0],a=e[1];let l=WP;return s<n?l|=qP:s>r&&(l|=HP),a<i?l|=VP:a>o&&(l|=UP),l===WP&&(l=GP),l}function nR(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function iR(t){return nR(1/0,1/0,-1/0,-1/0,t)}function rR(t,e){const n=t[0],i=t[1];return nR(n,i,n,i,e)}function oR(t,e,n,i,r){return uR(iR(r),t,e,n,i)}function sR(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function aR(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function lR(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function uR(t,e,n,i,r){for(;n<i;n+=r)cR(t,e[n],e[n+1]);return t}function cR(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function hR(t,e){let n;return n=e(fR(t)),n||(n=e(pR(t)),n||(n=e(wR(t)),n||(n=e(bR(t)),n||!1)))}function dR(t){let e=0;return CR(t)||(e=SR(t)*_R(t)),e}function fR(t){return[t[0],t[1]]}function pR(t){return[t[2],t[1]]}function gR(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function mR(t,e){let n;if("bottom-left"===e)n=fR(t);else if("bottom-right"===e)n=pR(t);else if("top-left"===e)n=bR(t);else{if("top-right"!==e)throw new Error("Invalid corner");n=wR(t)}return n}function yR(t,e,n,i,r){const[o,s,a,l,u,c,h,d]=vR(t,e,n,i);return nR(Math.min(o,a,u,h),Math.min(s,l,c,d),Math.max(o,a,u,h),Math.max(s,l,c,d),r)}function vR(t,e,n,i){const r=e*i[0]/2,o=e*i[1]/2,s=Math.cos(n),a=Math.sin(n),l=r*s,u=r*a,c=o*s,h=o*a,d=t[0],f=t[1];return[d-l+h,f-u-c,d-l-h,f-u+c,d+l-h,f+u+c,d+l+h,f+u-c,d-l+h,f-u-c]}function _R(t){return t[3]-t[1]}function xR(t,e,n){const i=n||[1/0,1/0,-1/0,-1/0];return ER(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):iR(i),i}function bR(t){return[t[0],t[3]]}function wR(t){return[t[2],t[3]]}function SR(t){return t[2]-t[0]}function ER(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function CR(t){return t[2]<t[0]||t[3]<t[1]}function MR(t,e){const n=e.getExtent(),i=gR(t);if(e.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const e=SR(n),r=Math.floor((i[0]-n[0])/e)*e;t[0]-=r,t[2]-=r}return t}function kR(t,e,n){if(e.canWrapX()){const i=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[i[0],t[1],i[2],t[3]]];MR(t,e);const r=SR(i);if(SR(t)>r&&!n)return[[i[0],t[1],i[2],t[3]]];if(t[0]<i[0])return[[t[0]+r,t[1],i[2],t[3]],[i[0],t[1],t[2],t[3]]];if(t[2]>i[2])return[[t[0],t[1],i[2],t[3]],[i[0],t[1],t[2]-r,t[3]]]}return[t]}const TR={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};let PR=class{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||TR[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}};const RR=6378137,IR=Math.PI*RR,OR=[-IR,-IR,IR,IR],FR=[-180,-85,180,85],LR=RR*Math.log(Math.tan(Math.PI/2));class AR extends PR{constructor(t){super({code:t,units:"m",extent:OR,global:!0,worldExtent:FR,getPointResolution:function(t,e){return t/Math.cosh(e[1]/RR)}})}}const jR=[new AR("EPSG:3857"),new AR("EPSG:102100"),new AR("EPSG:102113"),new AR("EPSG:900913"),new AR("http://www.opengis.net/def/crs/EPSG/0/3857"),new AR("http://www.opengis.net/gml/srs/epsg.xml#3857")];function NR(t,e,n){const i=t.length;n=n>1?n:2,void 0===e&&(e=n>2?t.slice():new Array(i));for(let r=0;r<i;r+=n){e[r]=IR*t[r]/180;let n=RR*Math.log(Math.tan(Math.PI*(+t[r+1]+90)/360));n>LR?n=LR:n<-LR&&(n=-LR),e[r+1]=n}return e}function DR(t,e,n){const i=t.length;n=n>1?n:2,void 0===e&&(e=n>2?t.slice():new Array(i));for(let r=0;r<i;r+=n)e[r]=180*t[r]/IR,e[r+1]=360*Math.atan(Math.exp(t[r+1]/RR))/Math.PI-90;return e}const zR=[-180,-90,180,90],$R=6378137*Math.PI/180;class BR extends PR{constructor(t,e){super({code:t,units:"degrees",extent:zR,axisOrientation:e,global:!0,metersPerUnit:$R,worldExtent:zR})}}const WR=[new BR("CRS:84"),new BR("EPSG:4326","neu"),new BR("urn:ogc:def:crs:OGC:1.3:CRS84"),new BR("urn:ogc:def:crs:OGC:2:84"),new BR("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new BR("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new BR("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let GR={},UR={};function HR(t,e,n){const i=t.getCode(),r=e.getCode();i in UR||(UR[i]={}),UR[i][r]=n}function VR(t,e){let n;return t in UR&&e in UR[t]&&(n=UR[t][e]),n}function qR(t,e,n){return Math.min(Math.max(t,e),n)}function XR(t,e,n,i,r,o){const s=r-n,a=o-i;if(0!==s||0!==a){const l=((t-n)*s+(e-i)*a)/(s*s+a*a);l>1?(n=r,i=o):l>0&&(n+=s*l,i+=a*l)}return KR(t,e,n,i)}function KR(t,e,n,i){const r=n-t,o=i-e;return r*r+o*o}function ZR(t){return t*Math.PI/180}function YR(t,e){const n=t%e;return n*e<0?n+e:n}function JR(t,e,n){return t+n*(e-t)}function QR(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function tI(t,e){return Math.round(QR(t,e))}function eI(t,e){return Math.floor(QR(t,e))}function nI(t,e){return Math.ceil(QR(t,e))}function iI(t,e,n){const i=void 0!==n?t.toFixed(n):""+t;let r=i.indexOf(".");return r=-1===r?i.length:r,r>e?i:new Array(1+e-r).join("0")+i}function rI(t,e){const n=(""+t).split("."),i=(""+e).split(".");for(let r=0;r<Math.max(n.length,i.length);r++){const t=parseInt(n[r]||"0",10),e=parseInt(i[r]||"0",10);if(t>e)return 1;if(e>t)return-1}return 0}function oI(t,e,n){const i=YR(e+180,360)-180,r=Math.abs(3600*i),o=n;let s=Math.floor(r/3600),a=Math.floor((r-3600*s)/60),l=QR(r-3600*s-60*a,o);l>=60&&(l=0,a+=1),a>=60&&(a=0,s+=1);let u=s+"Â°";return 0===a&&0===l||(u+=" "+iI(a,2)+"â€²"),0!==l&&(u+=" "+iI(l,2,o)+"â€³"),0!==i&&(u+=" "+t.charAt(i<0?1:0)),u}function sI(t,e){let n=!0;for(let i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function aI(t,e){const n=Math.cos(e),i=Math.sin(e),r=t[0]*n-t[1]*i,o=t[1]*n+t[0]*i;return t[0]=r,t[1]=o,t}function lI(t,e){if(e.canWrapX()){const n=SR(e.getExtent()),i=uI(t,e,n);i&&(t[0]-=i*n)}return t}function uI(t,e,n){const i=e.getExtent();let r=0;return e.canWrapX()&&(t[0]<i[0]||t[0]>i[2])&&(n=n||SR(i),r=Math.floor((t[0]-i[0])/n)),r}function cI(t,e,n){n=n||6371008.8;const i=ZR(t[1]),r=ZR(e[1]),o=(r-i)/2,s=ZR(e[0]-t[0])/2,a=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function hI(...t){console.warn(...t)}let dI=!0;function fI(t,e){if(void 0!==e)for(let n=0,i=t.length;n<i;++n)e[n]=t[n];else e=t.slice();return e}function pI(t,e){if(void 0!==e&&t!==e){for(let n=0,i=t.length;n<i;++n)e[n]=t[n];t=e}return t}function gI(t){!function(t,e){GR[t]=e}(t.getCode(),t),HR(t,t,fI)}function mI(t){return"string"==typeof t?GR[e=t]||GR[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function yI(t,e,n,i){let r;const o=(t=mI(t)).getPointResolutionFunc();if(o){if(r=o(e,n),i&&i!==t.getUnits()){const e=t.getMetersPerUnit();e&&(r=r*e/TR[i])}}else{const o=t.getUnits();if("degrees"==o&&!i||"degrees"==i)r=e;else{const s=SI(t,mI("EPSG:4326"));if(s===pI&&"degrees"!==o)r=e*t.getMetersPerUnit();else{let t=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];t=s(t,t,2),r=(cI(t.slice(0,2),t.slice(2,4))+cI(t.slice(4,6),t.slice(6,8)))/2}const a=i?TR[i]:t.getMetersPerUnit();void 0!==a&&(r/=a)}}return r}function vI(t){!function(t){t.forEach(gI)}(t),t.forEach((function(e){t.forEach((function(t){e!==t&&HR(e,t,fI)}))}))}function _I(t,e){return t?"string"==typeof t?mI(t):t:mI(e)}function xI(t){return function(e,n,i){const r=e.length;i=void 0!==i?i:2,n=void 0!==n?n:new Array(r);for(let o=0;o<r;o+=i){const r=t(e.slice(o,o+i)),s=r.length;for(let t=0,a=i;t<a;++t)n[o+t]=t>=s?e[o+t]:r[t]}return n}}function bI(t,e,n,i){const r=mI(t),o=mI(e);HR(r,o,xI(n)),HR(o,r,xI(i))}function wI(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||SI(t,e)===fI)&&n}function SI(t,e){let n=VR(t.getCode(),e.getCode());return n||(n=pI),n}function EI(t,e){return SI(mI(t),mI(e))}function CI(t,e,n){return EI(e,n)(t,void 0,t.length)}function MI(t,e){return t}function kI(t,e){return dI&&!sI(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(dI=!1,hI("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function TI(t,e){return t}function PI(t,e){return t}function RI(t,e,n){return function(i){let r,o;if(t.canWrapX()){const e=t.getExtent(),s=SR(e);o=uI(i=i.slice(0),t,s),o&&(i[0]=i[0]-o*s),i[0]=qR(i[0],e[0],e[2]),i[1]=qR(i[1],e[1],e[3]),r=n(i)}else r=n(i);return o&&e.canWrapX()&&(r[0]+=o*SR(e.getExtent())),r}}var II,OI,FI;function LI(t,e,n,i,r,o){o=o||[];let s=0;for(let a=e;a<n;a+=i){const e=t[a],n=t[a+1];o[s++]=r[0]*e+r[2]*n+r[4],o[s++]=r[1]*e+r[3]*n+r[5]}return o&&o.length!=s&&(o.length=s),o}function AI(t,e,n,i,r,o,s){s=s||[];const a=Math.cos(r),l=Math.sin(r),u=o[0],c=o[1];let h=0;for(let d=e;d<n;d+=i){const e=t[d]-u,n=t[d+1]-c;s[h++]=u+e*a-n*l,s[h++]=c+e*l+n*a;for(let r=d+2;r<d+i;++r)s[h++]=t[r]}return s&&s.length!=h&&(s.length=h),s}vI(jR),vI(WR),II=jR,OI=NR,FI=DR,WR.forEach((function(t){II.forEach((function(e){HR(t,e,OI),HR(e,t,FI)}))}));const jI=[1,0,0,1,0,0];class NI extends TP{constructor(){super(),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=rP(((t,e,n)=>{if(!n)return this.getSimplifiedGeometry(e);const i=this.clone();return i.applyTransform(n),i.getSimplifiedGeometry(e)}))}simplifyTransformed(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}clone(){return EP()}closestPointXY(t,e,n,i){return EP()}containsXY(t,e){const n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e}getClosestPoint(t,e){return e=e||[NaN,NaN],this.closestPointXY(t[0],t[1],e,1/0),e}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return EP()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&iR(t),this.extentRevision_=this.getRevision()}return function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,t)}rotate(t,e){EP()}scale(t,e,n){EP()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return EP()}getType(){return EP()}applyTransform(t){EP()}intersectsExtent(t){return EP()}translate(t,e){EP()}transform(t,e){const n=mI(t),i="tile-pixels"==n.getUnits()?function(t,i,r){const o=n.getExtent(),s=n.getWorldExtent(),a=_R(s)/_R(o);return zP(jI,s[0],s[3],a,-a,0,0,0),LI(t,0,t.length,r,jI,i),EI(n,e)(t,i,r)}:EI(n,e);return this.applyTransform(i),this}}class DI extends NI{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return oR(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return EP()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,e){this.stride=$I(t),this.layout=t,this.flatCoordinates=e}setCoordinates(t,e){EP()}setLayout(t,e,n){let i;if(t)i=$I(t);else{for(let t=0;t<n;++t){if(0===e.length)return this.layout="XY",void(this.stride=2);e=e[0]}i=e.length,t=zI(i)}this.layout=t,this.stride=i}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(t,e){const n=this.getFlatCoordinates();if(n){const i=this.getStride();AI(n,0,n.length,i,t,e,n),this.changed()}}scale(t,e,n){void 0===e&&(e=t),n||(n=gR(this.getExtent()));const i=this.getFlatCoordinates();if(i){const r=this.getStride();!function(t,e,n,i,r,o,s,a){a=a||[];const l=s[0],u=s[1];let c=0;for(let h=e;h<n;h+=i){const e=t[h]-l,n=t[h+1]-u;a[c++]=l+r*e,a[c++]=u+o*n;for(let r=h+2;r<h+i;++r)a[c++]=t[r]}a&&a.length!=c&&(a.length=c)}(i,0,i.length,r,t,e,n,i),this.changed()}}translate(t,e){const n=this.getFlatCoordinates();if(n){const i=this.getStride();!function(t,e,n,i,r,o,s){s=s||[];let a=0;for(let l=e;l<n;l+=i){s[a++]=t[l]+r,s[a++]=t[l+1]+o;for(let e=l+2;e<l+i;++e)s[a++]=t[e]}s&&s.length!=a&&(s.length=a)}(n,0,n.length,i,t,e,n),this.changed()}}}function zI(t){let e;return 2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM"),e}function $I(t){let e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function BI(t,e,n,i,r,o,s){const a=t[e],l=t[e+1],u=t[n]-a,c=t[n+1]-l;let h;if(0===u&&0===c)h=e;else{const d=((r-a)*u+(o-l)*c)/(u*u+c*c);if(d>1)h=n;else{if(d>0){for(let r=0;r<i;++r)s[r]=JR(t[e+r],t[n+r],d);return void(s.length=i)}h=e}}for(let d=0;d<i;++d)s[d]=t[h+d];s.length=i}function WI(t,e,n,i,r){let o=t[e],s=t[e+1];for(e+=i;e<n;e+=i){const n=t[e],i=t[e+1],a=KR(o,s,n,i);a>r&&(r=a),o=n,s=i}return r}function GI(t,e,n,i,r){for(let o=0,s=n.length;o<s;++o){const s=n[o];r=WI(t,e,s,i,r),e=s}return r}function UI(t,e,n,i,r,o,s,a,l,u,c){if(e==n)return u;let h,d;if(0===r){if(d=KR(s,a,t[e],t[e+1]),d<u){for(h=0;h<i;++h)l[h]=t[e+h];return l.length=i,d}return u}c=c||[NaN,NaN];let f=e+i;for(;f<n;)if(BI(t,f-i,f,i,s,a,c),d=KR(s,a,c[0],c[1]),d<u){for(u=d,h=0;h<i;++h)l[h]=c[h];l.length=i,f+=i}else f+=i*Math.max((Math.sqrt(d)-Math.sqrt(u))/r|0,1);if(o&&(BI(t,n-i,e,i,s,a,c),d=KR(s,a,c[0],c[1]),d<u)){for(u=d,h=0;h<i;++h)l[h]=c[h];l.length=i}return u}function HI(t,e,n,i,r,o,s,a,l,u,c){c=c||[NaN,NaN];for(let h=0,d=n.length;h<d;++h){const d=n[h];u=UI(t,e,d,i,r,o,s,a,l,u,c),e=d}return u}function VI(t,e,n,i){for(let r=0,o=n.length;r<o;++r){const o=n[r];for(let n=0;n<i;++n)t[e++]=o[n]}return e}function qI(t,e,n,i,r){r=r||[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=VI(t,e,n[s],i);r[o++]=a,e=a}return r.length=o,r}function XI(t,e,n,i,r){r=r||[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=qI(t,e,n[s],i,r[o]);0===a.length&&(a[0]=e),r[o++]=a,e=a[a.length-1]}return r.length=o,r}function KI(t,e,n,i,r,o,s){const a=(n-e)/i;if(a<3){for(;e<n;e+=i)o[s++]=t[e],o[s++]=t[e+1];return s}const l=new Array(a);l[0]=1,l[a-1]=1;const u=[e,n-i];let c=0;for(;u.length>0;){const n=u.pop(),o=u.pop();let s=0;const a=t[o],h=t[o+1],d=t[n],f=t[n+1];for(let e=o+i;e<n;e+=i){const n=XR(t[e],t[e+1],a,h,d,f);n>s&&(c=e,s=n)}s>r&&(l[(c-e)/i]=1,o+i<c&&u.push(o,c),c+i<n&&u.push(c,n))}for(let h=0;h<a;++h)l[h]&&(o[s++]=t[e+h*i],o[s++]=t[e+h*i+1]);return s}function ZI(t,e,n,i,r,o,s,a){for(let l=0,u=n.length;l<u;++l){const u=n[l];s=KI(t,e,u,i,r,o,s),a.push(s),e=u}return s}function YI(t,e){return e*Math.round(t/e)}function JI(t,e,n,i,r,o,s){if(e==n)return s;let a,l,u=YI(t[e],r),c=YI(t[e+1],r);e+=i,o[s++]=u,o[s++]=c;do{if(a=YI(t[e],r),l=YI(t[e+1],r),(e+=i)==n)return o[s++]=a,o[s++]=l,s}while(a==u&&l==c);for(;e<n;){const n=YI(t[e],r),h=YI(t[e+1],r);if(e+=i,n==a&&h==l)continue;const d=a-u,f=l-c,p=n-u,g=h-c;d*g==f*p&&(d<0&&p<d||d==p||d>0&&p>d)&&(f<0&&g<f||f==g||f>0&&g>f)?(a=n,l=h):(o[s++]=a,o[s++]=l,u=a,c=l,a=n,l=h)}return o[s++]=a,o[s++]=l,s}function QI(t,e,n,i,r,o,s,a){for(let l=0,u=n.length;l<u;++l){const u=n[l];s=JI(t,e,u,i,r,o,s),a.push(s),e=u}return s}function tO(t,e,n,i,r){r=void 0!==r?r:[];let o=0;for(let s=e;s<n;s+=i)r[o++]=t.slice(s,s+i);return r.length=o,r}function eO(t,e,n,i,r){r=void 0!==r?r:[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=n[s];r[o++]=tO(t,e,a,i,r[o]),e=a}return r.length=o,r}function nO(t,e,n,i,r){r=void 0!==r?r:[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=n[s];r[o++]=1===a.length&&a[0]===e?[]:eO(t,e,a,i,r[o]),e=a[a.length-1]}return r.length=o,r}function iO(t,e,n,i){let r=0,o=t[n-i],s=t[n-i+1];for(;e<n;e+=i){const n=t[e],i=t[e+1];r+=s*n-o*i,o=n,s=i}return r/2}function rO(t,e,n,i){let r=0;for(let o=0,s=n.length;o<s;++o){const s=n[o];r+=iO(t,e,s,i),e=s}return r}class oO extends DI{constructor(t,e){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}clone(){return new oO(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,e,n,i){return i<YP(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(WI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),UI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))}getArea(){return iO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return tO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const e=[];return e.length=KI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new oO(e,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=VI(this.flatCoordinates,0,t,this.stride),this.changed()}}let sO=class t extends DI{constructor(t,e){super(),this.setCoordinates(t,e)}clone(){const e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(t,e,n,i){const r=this.flatCoordinates,o=KR(t,e,r[0],r[1]);if(o<i){const t=this.stride;for(let e=0;e<t;++e)n[e]=r[e];return n.length=t,o}return i}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return rR(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return tR(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,n){for(let i=0,r=n.length;i<r;++i)t[e++]=n[i];return e}(this.flatCoordinates,0,t,this.stride),this.changed()}};function aO(t,e,n,i,r){return!hR(r,(function(r){return!lO(t,e,n,i,r[0],r[1])}))}function lO(t,e,n,i,r,o){let s=0,a=t[n-i],l=t[n-i+1];for(;e<n;e+=i){const n=t[e],i=t[e+1];l<=o?i>o&&(n-a)*(o-l)-(r-a)*(i-l)>0&&s++:i<=o&&(n-a)*(o-l)-(r-a)*(i-l)<0&&s--,a=n,l=i}return 0!==s}function uO(t,e,n,i,r,o){if(0===n.length)return!1;if(!lO(t,e,n[0],i,r,o))return!1;for(let s=1,a=n.length;s<a;++s)if(lO(t,n[s-1],n[s],i,r,o))return!1;return!0}function cO(t,e,n,i,r,o,s){let a,l,u,c,h,d,f;const p=r[o+1],g=[];for(let v=0,_=n.length;v<_;++v){const r=n[v];for(c=t[r-i],d=t[r-i+1],a=e;a<r;a+=i)h=t[a],f=t[a+1],(p<=d&&f<=p||d<=p&&p<=f)&&(u=(p-d)/(f-d)*(h-c)+c,g.push(u)),c=h,d=f}let m=NaN,y=-1/0;for(g.sort(ZT),c=g[0],a=1,l=g.length;a<l;++a){h=g[a];const r=Math.abs(h-c);r>y&&(u=(c+h)/2,uO(t,e,n,i,u,p)&&(m=u,y=r)),c=h}return isNaN(m)&&(m=r[o]),s?(s.push(m,p,y),s):[m,p,y]}function hO(t,e,n,i,r){let o=[];for(let s=0,a=n.length;s<a;++s){const a=n[s];o=cO(t,e,a,i,r,2*s,o),e=a[a.length-1]}return o}function dO(t,e,n,i,r){let o;for(e+=i;e<n;e+=i)if(o=r(t.slice(e-i,e),t.slice(e,e+i)),o)return o;return!1}function fO(t,e,n,i,r){const o=uR([1/0,1/0,-1/0,-1/0],t,e,n,i);return!!ER(r,o)&&(!!QP(r,o)||o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]||dO(t,e,n,i,(function(t,e){return function(t,e,n){let i=!1;const r=eR(t,e),o=eR(t,n);if(r===GP||o===GP)i=!0;else{const s=t[0],a=t[1],l=t[2],u=t[3],c=e[0],h=e[1],d=n[0],f=n[1],p=(f-h)/(d-c);let g,m;o&UP&&!(r&UP)&&(g=d-(f-u)/p,i=g>=s&&g<=l),i||!(o&HP)||r&HP||(m=f-(d-l)*p,i=m>=a&&m<=u),i||!(o&VP)||r&VP||(g=d-(f-a)/p,i=g>=s&&g<=l),i||!(o&qP)||r&qP||(m=f-(d-s)*p,i=m>=a&&m<=u)}return i}(r,t,e)})))}function pO(t,e,n,i,r){return!!(fO(t,e,n,i,r)||lO(t,e,n,i,r[0],r[1])||lO(t,e,n,i,r[0],r[3])||lO(t,e,n,i,r[2],r[1])||lO(t,e,n,i,r[2],r[3]))}function gO(t,e,n,i,r){if(!pO(t,e,n[0],i,r))return!1;if(1===n.length)return!0;for(let o=1,s=n.length;o<s;++o)if(aO(t,n[o-1],n[o],i,r)&&!fO(t,n[o-1],n[o],i,r))return!1;return!0}function mO(t,e,n,i){for(;e<n-i;){for(let r=0;r<i;++r){const o=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=o}e+=i,n-=i}}function yO(t,e,n,i){let r=0,o=t[n-i],s=t[n-i+1];for(;e<n;e+=i){const n=t[e],i=t[e+1];r+=(n-o)*(i+s),o=n,s=i}return 0===r?void 0:r>0}function vO(t,e,n,i,r){r=void 0!==r&&r;for(let o=0,s=n.length;o<s;++o){const s=n[o],a=yO(t,e,s,i);if(0===o){if(r&&a||!r&&!a)return!1}else if(r&&!a||!r&&a)return!1;e=s}return!0}function _O(t,e,n,i,r){for(let o=0,s=n.length;o<s;++o){const s=n[o];if(!vO(t,e,s,i,r))return!1;s.length&&(e=s[s.length-1])}return!0}function xO(t,e,n,i,r){r=void 0!==r&&r;for(let o=0,s=n.length;o<s;++o){const s=n[o],a=yO(t,e,s,i);(0===o?r&&a||!r&&!a:r&&!a||!r&&a)&&mO(t,e,s,i),e=s}return e}function bO(t,e,n,i,r){for(let o=0,s=n.length;o<s;++o)e=xO(t,e,n[o],i,r);return e}class wO extends DI{constructor(t,e,n){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==e&&n?(this.setFlatCoordinates(e,t),this.ends_=n):this.setCoordinates(t,e)}appendLinearRing(t){this.flatCoordinates?QT(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new wO(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,n,i){return i<YP(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(GI(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),HI(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))}containsXY(t,e){return uO(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)}getArea(){return rO(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),xO(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,eO(e,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=gR(this.getExtent());this.flatInteriorPoint_=cO(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new sO(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new oO(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[];let r=0;for(let o=0,s=n.length;o<s;++o){const s=n[o],a=new oO(e.slice(r,s),t);i.push(a),r=s}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;vO(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=xO(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=QI(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,n),new wO(e,"XY",n)}getType(){return"Polygon"}intersectsExtent(t){return gO(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=qI(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}function SO(t){if(CR(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],i=t[2],r=t[3],o=[e,n,e,r,i,r,i,n,e,n];return new wO(o,"XY",[o.length])}const EO="prerender",CO="postrender",MO="precompose",kO="postcompose",TO="rendercomplete",PO=0,RO=1,IO=2,OO=3,FO=4,LO={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var AO={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};AO.max=AO.whitepoint[2].D65,AO.rgb=function(t,e){e=e||AO.whitepoint[2].E;var n,i,r,o=t[0]/e[0],s=t[1]/e[1],a=t[2]/e[2];return i=-.96924363628087*o+1.87596750150772*s+.041555057407175*a,r=.055630079696993*o+-.20397695888897*s+1.056971514242878*a,n=(n=3.240969941904521*o+-1.537383177570093*s+-.498610760293*a)>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,[255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1)),255*(r=Math.min(Math.max(0,r),1))]},LO.xyz=function(t,e){var n=t[0]/255,i=t[1]/255,r=t[2]/255,o=.21263900587151*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.71516867876775*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)+.072192315360733*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92),s=.019330818715591*n+.11919477979462*i+.95053215224966*r;return[(.41239079926595*n+.35758433938387*i+.18048078840183*r)*(e=e||AO.whitepoint[2].E)[0],o*e[1],s*e[2]]};const jO={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(t,e,n){var i,r,o,s,a,l,u,c,h;return o=t[0],s=t[1],a=t[2],0===o?[0,0,0]:(e=e||"D65",n=n||2,i=s/(13*o)+4*(u=AO.whitepoint[n][e][0])/(u+15*(c=AO.whitepoint[n][e][1])+3*(h=AO.whitepoint[n][e][2]))||0,r=a/(13*o)+9*c/(u+15*c+3*h)||0,[9*(l=o>8?c*Math.pow((o+16)/116,3):c*o*.0011070564598794539)*i/(4*r)||0,l,l*(12-3*i-20*r)/(4*r)||0])}};AO.luv=function(t,e,n){var i,r,o,s,a,l,u,c,h,d,f;e=e||"D65",n=n||2,d=4*(u=AO.whitepoint[n][e][0])/(u+15*(c=AO.whitepoint[n][e][1])+3*(h=AO.whitepoint[n][e][2])),f=9*c/(u+15*c+3*h),i=4*(s=t[0])/(s+15*(a=t[1])+3*(l=t[2]))||0,r=9*a/(s+15*a+3*l)||0;var p=a/c;return[o=p<=.008856451679035631?903.2962962962961*p:116*Math.pow(p,1/3)-16,13*o*(i-d),13*o*(r-f)]};var NO={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(t){var e,n=t[0],i=t[1];return e=t[2]/360*2*Math.PI,[n,i*Math.cos(e),i*Math.sin(e)]},xyz:function(t){return jO.xyz(NO.luv(t))}};jO.lchuv=function(t){var e=t[0],n=t[1],i=t[2],r=Math.sqrt(n*n+i*i),o=360*Math.atan2(i,n)/2/Math.PI;return o<0&&(o+=360),[e,r,o]},AO.lchuv=function(t){return jO.lchuv(AO.luv(t))};const DO={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var zO={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};const $O={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e,n,i,r,o,s=t[0]/360,a=t[1]/100,l=t[2]/100,u=0;if(0===a)return[o=255*l,o,o];for(e=2*l-(n=l<.5?l*(1+a):l+a-l*a),r=[0,0,0];u<3;)(i=s+1/3*-(u-1))<0?i++:i>1&&i--,o=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e,r[u++]=255*o;return r}};function BO(t){var e;Array.isArray(t)&&t.raw&&(t=String.raw(...arguments)),t instanceof Number&&(t=+t);var n=function(t){var e,n,i,r,o=[],s=1;if("number"==typeof t)return{space:"rgb",values:[t>>>16,(65280&t)>>>8,255&t],alpha:1};if("number"==typeof t)return{space:"rgb",values:[t>>>16,(65280&t)>>>8,255&t],alpha:1};if(t=String(t).toLowerCase(),DO[t])o=DO[t].slice(),r="rgb";else if("transparent"===t)s=0,r="rgb",o=[0,0,0];else if("#"===t[0]){var a=t.slice(1),l=a.length;s=1,l<=4?(o=[parseInt(a[0]+a[0],16),parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16)],4===l&&(s=parseInt(a[3]+a[3],16)/255)):(o=[parseInt(a[0]+a[1],16),parseInt(a[2]+a[3],16),parseInt(a[4]+a[5],16)],8===l&&(s=parseInt(a[6]+a[7],16)/255)),o[0]||(o[0]=0),o[1]||(o[1]=0),o[2]||(o[2]=0),r="rgb"}else if(i=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(t)){var u=i[1],c="cmyk"===(r=u.replace(/a$/,""))?4:"gray"===r?1:3;o=i[2].trim().split(/\s*[,\/]\s*|\s+/),"color"===r&&(r=o.shift()),s=(o=o.map((function(t,e){if("%"===t[t.length-1])return t=parseFloat(t)/100,3===e?t:"rgb"===r?255*t:"h"===r[0]?100*t:"l"!==r[0]||e?"lab"===r?125*t:"lch"===r?e<2?150*t:360*t:"o"!==r[0]||e?"oklab"===r?.4*t:"oklch"===r?e<2?.4*t:360*t:t:t:100*t;if("h"===r[e]||2===e&&"h"===r[r.length-1]){if(void 0!==zO[t])return zO[t];if(t.endsWith("deg"))return parseFloat(t);if(t.endsWith("turn"))return 360*parseFloat(t);if(t.endsWith("grad"))return 360*parseFloat(t)/400;if(t.endsWith("rad"))return 180*parseFloat(t)/Math.PI}return"none"===t?0:parseFloat(t)}))).length>c?o.pop():1}else/[0-9](?:\s|\/|,)/.test(t)&&(o=t.match(/([0-9]+)/g).map((function(t){return parseFloat(t)})),r=(null==(n=null==(e=t.match(/([a-z])/gi))?void 0:e.join(""))?void 0:n.toLowerCase())||"rgb");return{space:r,values:o,alpha:s}}(t);if(!n.space)return[];const i="h"===n.space[0]?$O.min:LO.min,r="h"===n.space[0]?$O.max:LO.max;return(e=Array(3))[0]=Math.min(Math.max(n.values[0],i[0]),r[0]),e[1]=Math.min(Math.max(n.values[1],i[1]),r[1]),e[2]=Math.min(Math.max(n.values[2],i[2]),r[2]),"h"===n.space[0]&&(e=$O.rgb(e)),e.push(Math.min(Math.max(n.alpha,0),1)),e}LO.hsl=function(t){var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,s=Math.min(i,r,o),a=Math.max(i,r,o),l=a-s;return a===s?e=0:i===a?e=(r-o)/l:r===a?e=2+(o-i)/l:o===a&&(e=4+(i-r)/l),(e=Math.min(60*e,360))<0&&(e+=360),n=(s+a)/2,[e,100*(a===s?0:n<=.5?l/(a+s):l/(2-a-s)),100*n]};const WO={};let GO=0;function UO(t){if(4===t.length)return t;const e=t.slice();return e[3]=1,e}function HO(t){const e=AO.lchuv(LO.xyz(t));return e[3]=t[3],e}function VO(t){if(WO.hasOwnProperty(t))return WO[t];if(GO>=1024){let t=0;for(const e in WO)3&t++||(delete WO[e],--GO)}const e=BO(t);if(4!==e.length)throw new Error('Failed to parse "'+t+'" as color');for(const n of e)if(isNaN(n))throw new Error('Failed to parse "'+t+'" as color');return XO(e),WO[t]=e,++GO,e}function qO(t){return Array.isArray(t)?t:VO(t)}function XO(t){return t[0]=qR(t[0]+.5|0,0,255),t[1]=qR(t[1]+.5|0,0,255),t[2]=qR(t[2]+.5|0,0,255),t[3]=qR(t[3],0,1),t}function KO(t){let e=t[0];e!=(0|e)&&(e=e+.5|0);let n=t[1];n!=(0|n)&&(n=n+.5|0);let i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:Math.round(1e3*t[3])/1e3)+")"}const ZO="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",YO=ZO.includes("firefox"),JO=ZO.includes("safari")&&!ZO.includes("chrom")&&(ZO.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(ZO)),QO=ZO.includes("webkit")&&!ZO.includes("edge"),tF=ZO.includes("macintosh"),eF="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,nF="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,iF="undefined"!=typeof Image&&Image.prototype.decode,rF="function"==typeof createImageBitmap,oF=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(e){}return t}();function sF(t,e,n,i){let r;return r=n&&n.length?n.shift():nF?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(r.width=t),e&&(r.height=e),r.getContext("2d",i)}let aF;function lF(){return aF||(aF=sF(1,1)),aF}function uF(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function cF(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function hF(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}class dF extends lP{constructor(t,e,n,i){super(),this.extent=t,this.pixelRatio_=n,this.resolution=e,this.state="function"==typeof i?PO:i,this.image_=null,this.loader="function"==typeof i?i:null}changed(){this.dispatchEvent(uP)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==PO&&this.loader){this.state=RO,this.changed();const t=this.getResolution(),e=Array.isArray(t)?t[0]:t;oP((()=>this.loader(this.getExtent(),e,this.getPixelRatio()))).then((t=>{"image"in t&&(this.image_=t.image),"extent"in t&&(this.extent=t.extent),"resolution"in t&&(this.resolution=t.resolution),"pixelRatio"in t&&(this.pixelRatio_=t.pixelRatio),(t instanceof HTMLImageElement||t instanceof ImageBitmap||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement)&&(this.image_=t),this.state=IO})).catch((t=>{this.state=OO,console.error(t)})).finally((()=>this.changed()))}}setImage(t){this.image_=t}setResolution(t){this.resolution=t}}function fF(t,e){return e&&(t.src=e),t.src&&iF?new Promise(((e,n)=>t.decode().then((()=>e(t))).catch((i=>t.complete&&t.width?e(t):n(i))))):function(t){return new Promise(((e,n)=>{function i(){o(),e(t)}function r(){o(),n(new Error("Image load error"))}function o(){t.removeEventListener("load",i),t.removeEventListener("error",r)}t.addEventListener("load",i),t.addEventListener("error",r)}))}(t)}function pF(t,e){return e&&(t.src=e),t.src&&iF&&rF?t.decode().then((()=>createImageBitmap(t))).catch((e=>{if(t.complete&&t.width)return t;throw e})):fF(t)}function gF(t,e,n){return e+":"+t+":"+(n?qO(n):"null")}const mF=new class{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const e in this.cache_){const n=this.cache_[e];3&t++||n.hasListener()||(delete this.cache_[e],delete this.patternCache_[e],--this.cacheSize_)}}}get(t,e,n){const i=gF(t,e,n);return i in this.cache_?this.cache_[i]:null}getPattern(t,e,n){const i=gF(t,e,n);return i in this.patternCache_?this.patternCache_[i]:null}set(t,e,n,i,r){const o=gF(t,e,n),s=o in this.cache_;this.cache_[o]=i,r&&(i.getImageState()===PO&&i.load(),i.getImageState()===RO?i.ready().then((()=>{this.patternCache_[o]=lF().createPattern(i.getImage(1),"repeat")})):this.patternCache_[o]=lF().createPattern(i.getImage(1),"repeat")),s||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}};let yF=null;class vF extends lP{constructor(t,e,n,i,r){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=n,this.canvas_={},this.color_=r,this.imageState_=void 0===i?PO:i,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=e,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===IO){yF||(yF=sF(1,1,void 0,{willReadFrequently:!0})),yF.drawImage(this.image_,0,0);try{yF.getImageData(0,0,1,1),this.tainted_=!1}catch(t){yF=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(uP)}handleImageError_(){this.imageState_=OO,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=IO,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],e=this.size_[1],n=sF(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===PO){this.image_||this.initializeImage_(),this.imageState_=RO;try{void 0!==this.src_&&(this.image_.src=this.src_)}catch(t){this.handleImageError_()}this.image_ instanceof HTMLImageElement&&fF(this.image_,this.src_).then((t=>{this.image_=t,this.handleImageLoad_()})).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==IO)return;const e=this.image_,n=document.createElement("canvas");n.width=Math.ceil(e.width*t),n.height=Math.ceil(e.height*t);const i=n.getContext("2d");var r;i.scale(t,t),i.drawImage(e,0,0),i.globalCompositeOperation="multiply",i.fillStyle="string"==typeof(r=this.color_)?r:KO(r),i.fillRect(0,0,n.width/t,n.height/t),i.globalCompositeOperation="destination-in",i.drawImage(e,0,0),this.canvas_[t]=n}ready(){return this.ready_||(this.ready_=new Promise((t=>{this.imageState_===IO||this.imageState_===OO?t():this.addEventListener(uP,(function e(){this.imageState_!==IO&&this.imageState_!==OO||(this.removeEventListener(uP,e),t())}))}))),this.ready_}}function _F(t,e,n,i,r,o){let s=void 0===e?void 0:mF.get(e,n,r);return s||(s=new vF(t,t&&"src"in t?t.src||void 0:e,n,i,r),mF.set(e,n,r,s,o)),o&&s&&!mF.getPattern(e,n,r)&&mF.set(e,n,r,s,o),s}class xF{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,void 0!==t.color&&this.setColor(t.color)}clone(){const t=this.getColor();return new xF({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(null!==t&&"object"==typeof t&&"src"in t){const e=_F(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));e.ready().then((()=>{this.patternImage_=null})),e.getImageState()===PO&&e.load(),e.getImageState()===RO&&(this.patternImage_=e)}this.color_=t}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}function bF(t,e,n,i,r,o,s){let a,l;const u=(n-e)/i;if(1===u)a=e;else if(2===u)a=e,l=r;else if(0!==u){let o=t[e],s=t[e+1],u=0;const c=[0];for(let r=e+i;r<n;r+=i){const e=t[r],n=t[r+1];u+=Math.sqrt((e-o)*(e-o)+(n-s)*(n-s)),c.push(u),o=e,s=n}const h=r*u,d=function(t,e,n){let i,r;n=n||ZT;let o=0,s=t.length,a=!1;for(;o<s;)i=o+(s-o>>1),r=+n(t[i],e),r<0?o=i+1:(s=i,a=!r);return a?o:~o}(c,h);d<0?(l=(h-c[-d-2])/(c[-d-1]-c[-d-2]),a=e+(-d-2)*i):a=e+d*i}s=s>1?s:2,o=o||new Array(s);for(let c=0;c<s;++c)o[c]=void 0===a?NaN:void 0===l?t[a+c]:JR(t[a+c],t[a+i+c],l);return o}function wF(t,e,n,i,r,o){if(n==e)return null;let s;if(r<t[e+i-1])return o?(s=t.slice(e,e+i),s[i-1]=r,s):null;if(t[n-1]<r)return o?(s=t.slice(n-i,n),s[i-1]=r,s):null;if(r==t[e+i-1])return t.slice(e,e+i);let a=e/i,l=n/i;for(;a<l;){const e=a+l>>1;r<t[(e+1)*i-1]?l=e:a=e+1}const u=t[a*i-1];if(r==u)return t.slice((a-1)*i,(a-1)*i+i);const c=(r-u)/(t[(a+1)*i-1]-u);s=[];for(let h=0;h<i-1;++h)s.push(JR(t[(a-1)*i+h],t[a*i+h],c));return s.push(r),s}function SF(t,e,n,i){let r=t[e],o=t[e+1],s=0;for(let a=e+i;a<n;a+=i){const e=t[a],n=t[a+1];s+=Math.sqrt((e-r)*(e-r)+(n-o)*(n-o)),r=e,o=n}return s}class EF extends DI{constructor(t,e){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}appendCoordinate(t){QT(this.flatCoordinates,t),this.changed()}clone(){const t=new EF(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,i){return i<YP(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(WI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),UI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,i))}forEachSegment(t){return dO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,e){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:(e=void 0!==e&&e,wF(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e))}getCoordinates(){return tO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,e){return bF(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)}getLength(){return SF(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(t){const e=[];return e.length=KI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new EF(e,"XY")}getType(){return"LineString"}intersectsExtent(t){return fO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=VI(this.flatCoordinates,0,t,this.stride),this.changed()}}class CF{constructor(t){t=t||{},this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new CF({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}function MF(t){return t[0]>0&&t[1]>0}function kF(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}class TF{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=kF(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new TF({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return EP()}getImage(t){return EP()}getHitDetectionImage(){return EP()}getPixelRatio(t){return 1}getImageState(){return EP()}getImageSize(){return EP()}getOrigin(){return EP()}getSize(){return EP()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=kF(t)}listenImageChange(t){EP()}load(){EP()}unlistenImageChange(t){EP()}ready(){return Promise.resolve()}}function PF(t){return t?Array.isArray(t)?KO(t):"object"==typeof t&&"src"in t?function(t){if(!t.offset||!t.size)return mF.getPattern(t.src,"anonymous",t.color);const e=t.src+":"+t.offset,n=mF.getPattern(e,void 0,t.color);if(n)return n;const i=mF.get(t.src,"anonymous",null);if(i.getImageState()!==IO)return null;const r=sF(t.size[0],t.size[1]);return r.drawImage(i.getImage(1),t.offset[0],t.offset[1],t.size[0],t.size[1],0,0,t.size[0],t.size[1]),_F(r.canvas,e,void 0,IO,t.color,!0),mF.getPattern(e,void 0,t.color)}(t):t:null}const RF="ol-hidden",IF="ol-unselectable",OF="ol-control",FF="ol-collapsed",LF=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),AF=["style","variant","weight","size","lineHeight","family"],jF=function(t){const e=t.match(LF);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,r=AF.length;i<r;++i){const t=e[i+1];void 0!==t&&(n[AF[i]]=t)}return n.families=n.family.split(/,\s?/),n},NF="10px sans-serif",DF="#000",zF="round",$F=[],BF="round",WF="#000",GF="center",UF="middle",HF=[0,0,0,0],VF=new TP;let qF,XF=null;const KF={},ZF=function(){const t="32px ",e=["monospace","serif"],n=e.length,i="wmytzilWMYTZIL@#/&?$%10ï€“";let r,o;function s(r,s,a){let l=!0;for(let u=0;u<n;++u){const n=e[u];if(o=QF(r+" "+s+" "+t+n,i),a!=n){const e=QF(r+" "+s+" "+t+a+","+n,i);l=l&&e!=o}}return!!l}function a(){let t=!0;const e=VF.getKeys();for(let n=0,i=e.length;n<i;++n){const i=e[n];VF.get(i)<100&&(s.apply(this,i.split("\n"))?(sP(KF),XF=null,qF=void 0,VF.set(i,100)):(VF.set(i,VF.get(i)+1,!0),t=!1))}t&&(clearInterval(r),r=void 0)}return function(t){const e=jF(t);if(!e)return;const n=e.families;for(let i=0,o=n.length;i<o;++i){const t=n[i],o=e.style+"\n"+e.weight+"\n"+t;void 0===VF.get(o)&&(VF.set(o,100,!0),s(e.style,e.weight,t)||(VF.set(o,0,!0),void 0===r&&(r=setInterval(a,32))))}}}(),YF=function(){let t;return function(e){let n=KF[e];if(null==n){if(nF){const t=jF(e),i=JF(e,"Å½g");n=(isNaN(Number(t.lineHeight))?1.2:Number(t.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);KF[e]=n}return n}}();function JF(t,e){return XF||(XF=sF(1,1)),t!=qF&&(XF.font=t,qF=XF.font),XF.measureText(e)}function QF(t,e){return JF(t,e).width}function tL(t,e,n){if(e in n)return n[e];const i=e.split("\n").reduce(((e,n)=>Math.max(e,QF(t,n))),0);return n[e]=i,i}function eL(t,e,n,i,r,o,s,a,l,u,c){t.save(),1!==n&&(void 0===t.globalAlpha?t.globalAlpha=t=>t.globalAlpha*=n:t.globalAlpha*=n),e&&t.transform.apply(t,e),i.contextInstructions?(t.translate(l,u),t.scale(c[0],c[1]),function(t,e){const n=t.contextInstructions;for(let i=0,r=n.length;i<r;i+=2)Array.isArray(n[i+1])?e[n[i]].apply(e,n[i+1]):e[n[i]]=n[i+1]}(i,t)):c[0]<0||c[1]<0?(t.translate(l,u),t.scale(c[0],c[1]),t.drawImage(i,r,o,s,a,0,0,s,a)):t.drawImage(i,r,o,s,a,l,u,s*c[0],a*c[1]),t.restore()}class nL extends TF{constructor(t){super({opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=void 0!==t.fill?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=t.radius,this.radius2_=t.radius2,this.angle_=void 0!==t.angle?t.angle:0,this.stroke_=void 0!==t.stroke?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?RO:IO,this.imageState_===RO&&this.ready().then((()=>this.imageState_=IO)),this.render()}clone(){const t=this.getScale(),e=new nL({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}getAnchor(){const t=this.size_,e=this.getDisplacement(),n=this.getScaleArray();return[t[0]/2-e[0]/n[0],t[1]/2+e[1]/n[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){let e=this.canvases_[t];if(!e){const n=this.renderOptions_,i=sF(n.size*t,n.size*t);this.draw_(n,i,t),e=i.canvas,this.canvases_[t]=e}return e}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,e,n){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;let i=this.radius_,r=void 0===this.radius2_?i:this.radius2_;if(i<r){const t=i;i=r,r=t}const o=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/o,a=r*Math.sin(s),l=i-Math.sqrt(r*r-a*a),u=Math.sqrt(a*a+l*l),c=u/a;if("miter"===t&&c<=n)return c*e;const h=e/2/c,d=e/2*(l/u),f=Math.sqrt((i+h)*(i+h)+d*d)-i;if(void 0===this.radius2_||"bevel"===t)return 2*f;const p=i*Math.sin(s),g=r-Math.sqrt(i*i-p*p),m=Math.sqrt(p*p+g*g)/p;if(m<=n){const t=m*e/2-r-i;return 2*Math.max(f,t)}return 2*f}createRenderOptions(){let t,e=zF,n=BF,i=0,r=null,o=0,s=0;this.stroke_&&(t=PF(this.stroke_.getColor()??WF),s=this.stroke_.getWidth()??1,r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??BF,e=this.stroke_.getLineCap()??zF,i=this.stroke_.getMiterLimit()??10);const a=this.calculateLineJoinSize_(n,s,i),l=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:t,strokeWidth:s,size:Math.ceil(2*l+a),lineCap:e,lineDash:r,lineDashOffset:o,lineJoin:n,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,e,n){if(e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){let t=this.fill_.getColor();null===t&&(t=DF),e.fillStyle=PF(t),e.fill()}t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}createHitDetectionCanvas_(t){let e;if(this.fill_){let n=this.fill_.getColor(),i=0;"string"==typeof n&&(n=qO(n)),null===n?i=1:Array.isArray(n)&&(i=4===n.length?n[3]:1),0===i&&(e=sF(t.size,t.size),this.drawHitDetectionCanvas_(t,e))}return e?e.canvas:this.getImage(1)}createPath_(t){let e=this.points_;const n=this.radius_;if(e===1/0)t.arc(0,0,n,0,2*Math.PI);else{const i=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(e*=2);const r=this.angle_-Math.PI/2,o=2*Math.PI/e;for(let s=0;s<e;s++){const e=r+s*o,a=s%2==0?n:i;t.lineTo(a*Math.cos(e),a*Math.sin(e))}t.closePath()}}drawHitDetectionCanvas_(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=DF,e.fill(),t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class iL extends nL{constructor(t){super({points:1/0,fill:(t=t||{radius:5}).fill,radius:t.radius,stroke:t.stroke,scale:void 0!==t.scale?t.scale:1,rotation:void 0!==t.rotation?t.rotation:0,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),e=new iL({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}setRadius(t){this.radius_=t,this.render()}}class rL{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=aL,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.hitDetectionRenderer_=void 0!==t.hitDetectionRenderer?t.hitDetectionRenderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new rL({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=aL,this.geometry_=t}setZIndex(t){this.zIndex_=t}}let oL=null;function sL(t,e){if(!oL){const t=new xF({color:"rgba(255,255,255,0.4)"}),e=new CF({color:"#3399CC",width:1.25});oL=[new rL({image:new iL({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return oL}function aL(t){return t.getGeometry()}class lL{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=kF(void 0!==t.scale?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new xF({color:"#333"}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new lL({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=kF(void 0!==t?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}const uL="opacity",cL="visible",hL="extent",dL="zIndex",fL="maxResolution",pL="minResolution",gL="maxZoom",mL="minZoom",yL="source",vL="map";class _L extends TP{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const e=Object.assign({},t);"object"==typeof t.properties&&(delete e.properties,Object.assign(e,t.properties)),e[uL]=void 0!==t.opacity?t.opacity:1,LP("number"==typeof e[uL],"Layer opacity must be a number"),e[cL]=void 0===t.visible||t.visible,e[dL]=t.zIndex,e[fL]=void 0!==t.maxResolution?t.maxResolution:1/0,e[pL]=void 0!==t.minResolution?t.minResolution:0,e[mL]=void 0!==t.minZoom?t.minZoom:-1/0,e[gL]=void 0!==t.maxZoom?t.maxZoom:1/0,this.className_=void 0!==e.className?e.className:"ol-layer",delete e.className,this.setProperties(e),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=qR(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}getLayersArray(t){return EP()}getLayerStatesArray(t){return EP()}getExtent(){return this.get(hL)}getMaxResolution(){return this.get(fL)}getMinResolution(){return this.get(pL)}getMinZoom(){return this.get(mL)}getMaxZoom(){return this.get(gL)}getOpacity(){return this.get(uL)}getSourceState(){return EP()}getVisible(){return this.get(cL)}getZIndex(){return this.get(dL)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(hL,t)}setMaxResolution(t){this.set(fL,t)}setMinResolution(t){this.set(pL,t)}setMaxZoom(t){this.set(gL,t)}setMinZoom(t){this.set(mL,t)}setOpacity(t){LP("number"==typeof t,"Layer opacity must be a number"),this.set(uL,t)}setVisible(t){this.set(cL,t)}setZIndex(t){this.set(dL,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const xL=0,bL=1,wL={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},SL=256;function EL(t,e,n){return function(i,r,o,s,a){if(!i)return;if(!r&&!e)return i;const l=e?0:o[0]*r,u=e?0:o[1]*r,c=a?a[0]:0,h=a?a[1]:0;let d=t[0]+l/2+c,f=t[2]-l/2+c,p=t[1]+u/2+h,g=t[3]-u/2+h;d>f&&(d=(f+d)/2,f=d),p>g&&(p=(g+p)/2,g=p);let m=qR(i[0],d,f),y=qR(i[1],p,g);if(s&&n&&r){const t=30*r;m+=-t*Math.log(1+Math.max(0,d-i[0])/t)+t*Math.log(1+Math.max(0,i[0]-f)/t),y+=-t*Math.log(1+Math.max(0,p-i[1])/t)+t*Math.log(1+Math.max(0,i[1]-g)/t)}return[m,y]}}function CL(t){return t}function ML(t,e,n,i){const r=SR(e)/n[0],o=_R(e)/n[1];return i?Math.min(t,Math.max(r,o)):Math.min(t,Math.min(r,o))}function kL(t,e,n){let i=Math.min(t,e);return i*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/t-1))/50+1),qR(i,n/2,2*e)}function TL(t,e,n,i,r){return n=void 0===n||n,function(o,s,a,l){if(void 0!==o){const s=i?ML(t,i,a,r):t;return n&&l?kL(o,s,e):qR(o,e,s)}}}function PL(t){if(void 0!==t)return 0}function RL(t){if(void 0!==t)return t}function IL(t){return Math.pow(t,3)}function OL(t){return 1-IL(1-t)}function FL(t){return 3*t*t-2*t*t*t}function LL(t){return t}class AL extends TP{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=_I(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&(dI=!1),t.center&&(t.center=kI(t.center,this.projection_)),t.extent&&(t.extent=PI(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const e=Object.assign({},t);for(const s in wL)delete e[s];this.setProperties(e,!0);const n=function(t){let e,n,i;const r=28,o=2;let s=void 0!==t.minZoom?t.minZoom:0,a=void 0!==t.maxZoom?t.maxZoom:r;const l=void 0!==t.zoomFactor?t.zoomFactor:o,u=void 0!==t.multiWorld&&t.multiWorld,c=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,h=void 0!==t.showFullExtent&&t.showFullExtent,d=_I(t.projection,"EPSG:3857"),f=d.getExtent();let p=t.constrainOnlyCenter,g=t.extent;if(u||g||!d.isGlobal()||(p=!1,g=f),void 0!==t.resolutions){const r=t.resolutions;n=r[s],i=void 0!==r[a]?r[a]:r[r.length-1],e=t.constrainResolution?function(t,e,n,i){return e=void 0===e||e,function(r,o,s,a){if(void 0!==r){const l=t[0],u=t[t.length-1],c=n?ML(l,n,s,i):l;if(a)return e?kL(r,c,u):qR(r,u,c);const h=Math.min(c,r),d=Math.floor(YT(t,h,o));return t[d]>c&&d<t.length-1?t[d+1]:t[d]}}}(r,c,!p&&g,h):TL(n,i,c,!p&&g,h)}else{const u=(f?Math.max(SR(f),_R(f)):360*TR.degrees/d.getMetersPerUnit())/SL/Math.pow(o,0),m=u/Math.pow(o,r-0);n=t.maxResolution,void 0!==n?s=0:n=u/Math.pow(l,s),i=t.minResolution,void 0===i&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(l,a):u/Math.pow(l,a):m),a=s+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,a-s),e=t.constrainResolution?function(t,e,n,i,r,o){return i=void 0===i||i,n=void 0!==n?n:0,function(s,a,l,u){if(void 0!==s){const c=r?ML(e,r,l,o):e;if(u)return i?kL(s,c,n):qR(s,n,c);const h=1e-9,d=Math.ceil(Math.log(e/c)/Math.log(t)-h),f=-a*(.5-h)+.5,p=Math.min(c,s),g=Math.floor(Math.log(e/p)/Math.log(t)+f),m=Math.max(d,g);return qR(e/Math.pow(t,m),n,c)}}}(l,n,i,c,!p&&g,h):TL(n,i,c,!p&&g,h)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:s,zoomFactor:l}}(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=n.minZoom;const i=function(t){if(void 0!==t.extent){const e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return EL(t.extent,t.constrainOnlyCenter,e)}const e=_I(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,EL(t,!1,!1)}return CL}(t),r=n.constraint,o=function(t){const e=void 0===t.enableRotation||t.enableRotation;if(e){const e=t.constrainRotation;return void 0===e||!0===e?function(){const t=ZR(5);return function(e,n){return n||void 0===e?e:Math.abs(e)<=t?0:e}}():!1===e?RL:"number"==typeof e?function(t){const e=2*Math.PI/t;return function(t,n){return n?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}}(e):RL}return PL}(t);this.constraints_={center:i,resolution:r,rotation:o},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let e=this.padding_;this.padding_=t;const n=this.getCenterInternal();if(n){const i=t||[0,0,0,0];e=e||[0,0,0,0];const r=this.getResolution(),o=r/2*(i[3]-e[3]+e[1]-i[1]),s=r/2*(i[0]-e[0]+e[2]-i[2]);this.setCenterInternal([n[0]+o,n[1]-s])}}getUpdatedOptions_(t){const e=this.getProperties();return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object.assign({},e,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const e=new Array(arguments.length);for(let n=0;n<e.length;++n){let t=arguments[n];t.center&&(t=Object.assign({},t),t.center=kI(t.center,this.getProjection())),t.anchor&&(t=Object.assign({},t),t.anchor=kI(t.anchor,this.getProjection())),e[n]=t}this.animateInternal.apply(this,e)}animateInternal(t){let e,n=arguments.length;n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const t=arguments[i];t.center&&this.setCenterInternal(t.center),void 0!==t.zoom?this.setZoom(t.zoom):t.resolution&&this.setResolution(t.resolution),void 0!==t.rotation&&this.setRotation(t.rotation)}if(i===n)return void(e&&jL(e,!0));let r=Date.now(),o=this.targetCenter_.slice(),s=this.targetResolution_,a=this.targetRotation_;const l=[];for(;i<n;++i){const t=arguments[i],n={start:r,complete:!1,anchor:t.anchor,duration:void 0!==t.duration?t.duration:1e3,easing:t.easing||FL,callback:e};if(t.center&&(n.sourceCenter=o,n.targetCenter=t.center.slice(),o=n.targetCenter),void 0!==t.zoom?(n.sourceResolution=s,n.targetResolution=this.getResolutionForZoom(t.zoom),s=n.targetResolution):t.resolution&&(n.sourceResolution=s,n.targetResolution=t.resolution,s=n.targetResolution),void 0!==t.rotation){n.sourceRotation=a;const e=YR(t.rotation-a+Math.PI,2*Math.PI)-Math.PI;n.targetRotation=a+e,a=n.targetRotation}NL(n)?n.complete=!0:r+=n.duration,l.push(n)}this.animations_.push(l),this.setHint(xL,1),this.updateAnimations_()}getAnimating(){return this.hints_[xL]>0}getInteracting(){return this.hints_[bL]>0}cancelAnimations(){let t;this.setHint(xL,-this.hints_[xL]);for(let e=0,n=this.animations_.length;e<n;++e){const n=this.animations_[e];if(n[0].callback&&jL(n[0].callback,!1),!t)for(let e=0,i=n.length;e<i;++e){const i=n[e];if(!i.complete){t=i.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let e=!1;for(let n=this.animations_.length-1;n>=0;--n){const i=this.animations_[n];let r=!0;for(let n=0,o=i.length;n<o;++n){const o=i[n];if(o.complete)continue;const s=t-o.start;let a=o.duration>0?s/o.duration:1;a>=1?(o.complete=!0,a=1):r=!1;const l=o.easing(a);if(o.sourceCenter){const t=o.sourceCenter[0],e=o.sourceCenter[1],n=o.targetCenter[0],i=o.targetCenter[1];this.nextCenter_=o.targetCenter;const r=t+l*(n-t),s=e+l*(i-e);this.targetCenter_=[r,s]}if(o.sourceResolution&&o.targetResolution){const t=1===l?o.targetResolution:o.sourceResolution+l*(o.targetResolution-o.sourceResolution);if(o.anchor){const e=this.getViewportSize_(this.getRotation()),n=this.constraints_.resolution(t,0,e,!0);this.targetCenter_=this.calculateCenterZoom(n,o.anchor)}this.nextResolution_=o.targetResolution,this.targetResolution_=t,this.applyTargetState_(!0)}if(void 0!==o.sourceRotation&&void 0!==o.targetRotation){const t=1===l?YR(o.targetRotation+Math.PI,2*Math.PI)-Math.PI:o.sourceRotation+l*(o.targetRotation-o.sourceRotation);if(o.anchor){const e=this.constraints_.rotation(t,!0);this.targetCenter_=this.calculateCenterRotate(e,o.anchor)}this.nextRotation_=o.targetRotation,this.targetRotation_=t}if(this.applyTargetState_(!0),e=!0,!o.complete)break}if(r){this.animations_[n]=null,this.setHint(xL,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const t=i[0].callback;t&&jL(t,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,e){let n;const i=this.getCenterInternal();var r,o;return void 0!==i&&(n=[i[0]-e[0],i[1]-e[1]],aI(n,t-this.getRotation()),o=e,(r=n)[0]+=+o[0],r[1]+=+o[1]),n}calculateCenterZoom(t,e){let n;const i=this.getCenterInternal(),r=this.getResolution();return void 0!==i&&void 0!==r&&(n=[e[0]-t*(e[0]-i[0])/r,e[1]-t*(e[1]-i[1])/r]),n}getViewportSize_(t){const e=this.viewportSize_;if(t){const n=e[0],i=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(i*Math.cos(t))]}return e}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t?MI(t,this.getProjection()):t}getCenterInternal(){return this.get(wL.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){return TI(this.calculateExtentInternal(t),this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const e=this.getCenterInternal();LP(e,"The view center is not defined");const n=this.getResolution();LP(void 0!==n,"The view resolution is not defined");const i=this.getRotation();return LP(void 0!==i,"The view rotation is not defined"),yR(e,n,i,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(wL.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,e){return this.getResolutionForExtentInternal(PI(t,this.getProjection()),e)}getResolutionForExtentInternal(t,e){e=e||this.getViewportSizeMinusPadding_();const n=SR(t)/e[0],i=_R(t)/e[1];return Math.max(n,i)}getResolutionForValueFunction(t){t=t||2;const e=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,i=Math.log(e/n)/Math.log(t);return function(n){return e/Math.pow(t,n*i)}}getRotation(){return this.get(wL.ROTATION)}getValueForResolutionFunction(t){const e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(n/i)/e;return function(t){return Math.log(n/t)/e/r}}getViewportSizeMinusPadding_(t){let e=this.getViewportSize_(t);const n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e}getState(){const t=this.getProjection(),e=this.getResolution(),n=this.getRotation();let i=this.getCenterInternal();const r=this.padding_;if(r){const t=this.getViewportSizeMinusPadding_();i=DL(i,this.getViewportSize_(),[t[0]/2+r[3],t[1]/2+r[0]],e,n)}return{center:i.slice(0),projection:void 0!==t?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t}getZoomForResolution(t){let e,n,i=this.minZoom_||0;if(this.resolutions_){const r=YT(this.resolutions_,t,1);i=r,e=this.resolutions_[r],n=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)}getResolutionForZoom(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const e=qR(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,qR(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,e){let n;if(LP(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,"Invalid extent or geometry provided as `geometry`"),Array.isArray(t))LP(!CR(t),"Cannot fit empty extent provided as `geometry`"),n=SO(PI(t,this.getProjection()));else if("Circle"===t.getType()){const e=PI(t.getExtent(),this.getProjection());n=SO(e),n.rotate(this.getRotation(),gR(e))}else n=t;this.fitInternal(n,e)}rotatedExtentForGeometry(t){const e=this.getRotation(),n=Math.cos(e),i=Math.sin(-e),r=t.getFlatCoordinates(),o=t.getStride();let s=1/0,a=1/0,l=-1/0,u=-1/0;for(let c=0,h=r.length;c<h;c+=o){const t=r[c]*n-r[c+1]*i,e=r[c]*i+r[c+1]*n;s=Math.min(s,t),a=Math.min(a,e),l=Math.max(l,t),u=Math.max(u,e)}return[s,a,l,u]}fitInternal(t,e){let n=(e=e||{}).size;n||(n=this.getViewportSizeMinusPadding_());const i=void 0!==e.padding?e.padding:[0,0,0,0],r=void 0!==e.nearest&&e.nearest;let o;o=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.getResolutionForZoom(e.maxZoom):0;const s=this.rotatedExtentForGeometry(t);let a=this.getResolutionForExtentInternal(s,[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]);a=isNaN(a)?o:Math.max(a,o),a=this.getConstrainedResolution(a,r?0:1);const l=this.getRotation(),u=Math.sin(l),c=Math.cos(l),h=gR(s);h[0]+=(i[1]-i[3])/2*a,h[1]+=(i[0]-i[2])/2*a;const d=h[0]*c-h[1]*u,f=h[1]*c+h[0]*u,p=this.getConstrainedCenter([d,f],a),g=e.callback?e.callback:iP;void 0!==e.duration?this.animateInternal({resolution:a,center:p,duration:e.duration,easing:e.easing},g):(this.targetResolution_=a,this.targetCenter_=p,this.applyTargetState_(!1,!0),jL(g,!0))}centerOn(t,e,n){this.centerOnInternal(kI(t,this.getProjection()),e,n)}centerOnInternal(t,e,n){this.setCenterInternal(DL(t,e,n,this.getResolution(),this.getRotation()))}calculateCenterShift(t,e,n,i){let r;const o=this.padding_;if(o&&t){const s=this.getViewportSizeMinusPadding_(-n),a=DL(t,i,[s[0]/2+o[3],s[1]/2+o[0]],e,n);r=[t[0]-a[0],t[1]-a[1]]}return r}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(t){const e=MI(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])}adjustCenterInternal(t){const e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])}adjustResolution(t,e){e=e&&kI(e,this.getProjection()),this.adjustResolutionInternal(t,e)}adjustResolutionInternal(t,e){const n=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*t,0,i,n);e&&(this.targetCenter_=this.calculateCenterZoom(r,e)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)}adjustRotation(t,e){e&&(e=kI(e,this.getProjection())),this.adjustRotationInternal(t,e)}adjustRotationInternal(t,e){const n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(i,e)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t?kI(t,this.getProjection()):t)}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,e){const n=this.getAnimating()||this.getInteracting()||e,i=this.constraints_.rotation(this.targetRotation_,n),r=this.getViewportSize_(i),o=this.constraints_.resolution(this.targetResolution_,0,r,n),s=this.constraints_.center(this.targetCenter_,o,r,n,this.calculateCenterShift(this.targetCenter_,o,i,r));this.get(wL.ROTATION)!==i&&this.set(wL.ROTATION,i),this.get(wL.RESOLUTION)!==o&&(this.set(wL.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),s&&this.get(wL.CENTER)&&sI(this.get(wL.CENTER),s)||this.set(wL.CENTER,s),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,e,n){t=void 0!==t?t:200;const i=e||0,r=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(r),s=this.constraints_.resolution(this.targetResolution_,i,o),a=this.constraints_.center(this.targetCenter_,s,o,!1,this.calculateCenterShift(this.targetCenter_,s,r,o));if(0===t&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=r,this.targetCenter_=a,void this.applyTargetState_();n=n||(0===t?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===r&&this.getCenterInternal()&&sI(this.getCenterInternal(),a)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:a,resolution:s,duration:t,easing:OL,anchor:n}))}beginInteraction(){this.resolveConstraints(0),this.setHint(bL,1)}endInteraction(t,e,n){n=n&&kI(n,this.getProjection()),this.endInteractionInternal(t,e,n)}endInteractionInternal(t,e,n){this.getInteracting()&&(this.setHint(bL,-1),this.resolveConstraints(t,e,n))}getConstrainedCenter(t,e){const n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)}getConstrainedZoom(t,e){const n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))}getConstrainedResolution(t,e){e=e||0;const n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,e,n)}}function jL(t,e){setTimeout((function(){t(e)}),0)}function NL(t){return!(t.sourceCenter&&t.targetCenter&&!sI(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}function DL(t,e,n,i,r){const o=Math.cos(-r);let s=Math.sin(-r),a=t[0]*o-t[1]*s,l=t[1]*o+t[0]*s;return a+=(e[0]/2-n[0])*i,l+=(n[1]-e[1]/2)*i,s=-s,[a*o-l*s,l*o+a*s]}class zL extends _L{constructor(t){const e=Object.assign({},t);delete e.source,super(e),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(yL,this.handleSourcePropertyChange_);const n=t.source?t.source:null;this.setSource(n)}getLayersArray(t){return(t=t||[]).push(this),t}getLayerStatesArray(t){return(t=t||[]).push(this.getLayerState()),t}getSource(){return this.get(yL)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(bP(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=_P(t,uP,this.handleSourceChange_,this),"ready"===t.getState()&&(this.sourceReady_=!0,setTimeout((()=>{this.dispatchEvent("sourceready")}),0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return this.renderer_&&this.rendered?this.renderer_.getData(t):null}isVisible(t){let e;const n=this.getMapInternal();let i;!t&&n&&(t=n.getView()),e=t instanceof AL?{viewState:t.getState(),extent:t.calculateExtent()}:t,!e.layerStatesArray&&n&&(e.layerStatesArray=n.getLayerGroup().getLayerStatesArray()),i=e.layerStatesArray?e.layerStatesArray.find((t=>t.layer===this)):this.getLayerState();const r=this.getExtent();return $L(i,e.viewState)&&(!r||ER(r,e.extent))}getAttributions(t){if(!this.isVisible(t))return[];let e;const n=this.getSource();if(n&&(e=n.getAttributions()),!e)return[];let i=e(t instanceof AL?t.getViewStateAndExtent():t);return Array.isArray(i)||(i=[i]),i}render(t,e){const n=this.getRenderer();return n.prepareFrame(t)?(this.rendered=!0,n.renderFrame(t,e)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,e){}renderDeferred(t){const e=this.getRenderer();e&&e.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(vL,t)}getMapInternal(){return this.get(vL)}setMap(t){this.mapPrecomposeKey_&&(bP(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(bP(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=_P(t,MO,(function(t){const e=t.frameState.layerStatesArray,n=this.getLayerState(!1);LP(!e.some((function(t){return t.layer===n.layer})),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),e.push(n)}),this),this.mapRenderKey_=_P(this,uP,t.render,t),this.changed())}setSource(t){this.set(yL,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function $L(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}function BL(t,e,n,i,r){WL(t,e,n||0,i||t.length-1,r||UL)}function WL(t,e,n,i,r){for(;i>n;){if(i-n>600){var o=i-n+1,s=e-n+1,a=Math.log(o),l=.5*Math.exp(2*a/3),u=.5*Math.sqrt(a*l*(o-l)/o)*(s-o/2<0?-1:1);WL(t,e,Math.max(n,Math.floor(e-s*l/o+u)),Math.min(i,Math.floor(e+(o-s)*l/o+u)),r)}var c=t[e],h=n,d=i;for(GL(t,n,e),r(t[i],c)>0&&GL(t,n,i);h<d;){for(GL(t,h,d),h++,d--;r(t[h],c)<0;)h++;for(;r(t[d],c)>0;)d--}0===r(t[n],c)?GL(t,n,d):GL(t,++d,i),d<=e&&(n=d+1),e<=d&&(i=d-1)}}function GL(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function UL(t,e){return t<e?-1:t>e?1:0}let HL=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}all(){return this._all(this.data,[])}search(t){let e=this.data;const n=[];if(!iA(t,e))return n;const i=this.toBBox,r=[];for(;e;){for(let o=0;o<e.children.length;o++){const s=e.children[o],a=e.leaf?i(s):s;iA(t,a)&&(e.leaf?n.push(s):nA(t,a)?this._all(s,n):r.push(s))}e=r.pop()}return n}collides(t){let e=this.data;if(!iA(t,e))return!1;const n=[];for(;e;){for(let i=0;i<e.children.length;i++){const r=e.children[i],o=e.leaf?this.toBBox(r):r;if(iA(t,o)){if(e.leaf||nA(t,o))return!0;n.push(r)}}e=n.pop()}return!1}load(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(let e=0;e<t.length;e++)this.insert(t[e]);return this}let e=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const t=this.data;this.data=e,e=t}this._insert(e,this.data.height-e.height-1,!0)}else this.data=e;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=rA([]),this}remove(t,e){if(!t)return this;let n=this.data;const i=this.toBBox(t),r=[],o=[];let s,a,l;for(;n||r.length;){if(n||(n=r.pop(),a=r[r.length-1],s=o.pop(),l=!0),n.leaf){const i=VL(t,n.children,e);if(-1!==i)return n.children.splice(i,1),r.push(n),this._condense(r),this}l||n.leaf||!nA(n,i)?a?(s++,n=a.children[s],l=!1):n=null:(r.push(n),o.push(s),s=0,a=n,n=n.children[0])}return this}toBBox(t){return t}compareMinX(t,e){return t.minX-e.minX}compareMinY(t,e){return t.minY-e.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,e){const n=[];for(;t;)t.leaf?e.push(...t.children):n.push(...t.children),t=n.pop();return e}_build(t,e,n,i){const r=n-e+1;let o,s=this._maxEntries;if(r<=s)return o=rA(t.slice(e,n+1)),qL(o,this.toBBox),o;i||(i=Math.ceil(Math.log(r)/Math.log(s)),s=Math.ceil(r/Math.pow(s,i-1))),o=rA([]),o.leaf=!1,o.height=i;const a=Math.ceil(r/s),l=a*Math.ceil(Math.sqrt(s));oA(t,e,n,l,this.compareMinX);for(let u=e;u<=n;u+=l){const e=Math.min(u+l-1,n);oA(t,u,e,a,this.compareMinY);for(let n=u;n<=e;n+=a){const r=Math.min(n+a-1,e);o.children.push(this._build(t,n,r,i-1))}}return qL(o,this.toBBox),o}_chooseSubtree(t,e,n,i){for(;i.push(e),!e.leaf&&i.length-1!==n;){let n,i=1/0,r=1/0;for(let o=0;o<e.children.length;o++){const s=e.children[o],a=JL(s),l=tA(t,s)-a;l<r?(r=l,i=a<i?a:i,n=s):l===r&&a<i&&(i=a,n=s)}e=n||e.children[0]}return e}_insert(t,e,n){const i=n?t:this.toBBox(t),r=[],o=this._chooseSubtree(i,this.data,e,r);for(o.children.push(t),KL(o,i);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(i,r,e)}_split(t,e){const n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);const o=this._chooseSplitIndex(n,r,i),s=rA(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,qL(n,this.toBBox),qL(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)}_splitRoot(t,e){this.data=rA([t,e]),this.data.height=t.height+1,this.data.leaf=!1,qL(this.data,this.toBBox)}_chooseSplitIndex(t,e,n){let i,r=1/0,o=1/0;for(let s=e;s<=n-e;s++){const e=XL(t,0,s,this.toBBox),a=XL(t,s,n,this.toBBox),l=eA(e,a),u=JL(e)+JL(a);l<r?(r=l,i=s,o=u<o?u:o):l===r&&u<o&&(o=u,i=s)}return i||n-e}_chooseSplitAxis(t,e,n){const i=t.leaf?this.compareMinX:ZL,r=t.leaf?this.compareMinY:YL;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)}_allDistMargin(t,e,n,i){t.children.sort(i);const r=this.toBBox,o=XL(t,0,e,r),s=XL(t,n-e,n,r);let a=QL(o)+QL(s);for(let l=e;l<n-e;l++){const e=t.children[l];KL(o,t.leaf?r(e):e),a+=QL(o)}for(let l=n-e-1;l>=e;l--){const e=t.children[l];KL(s,t.leaf?r(e):e),a+=QL(s)}return a}_adjustParentBBoxes(t,e,n){for(let i=n;i>=0;i--)KL(e[i],t)}_condense(t){for(let e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children,e.splice(e.indexOf(t[n]),1)):this.clear():qL(t[n],this.toBBox)}};function VL(t,e,n){if(!n)return e.indexOf(t);for(let i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function qL(t,e){XL(t,0,t.children.length,e,t)}function XL(t,e,n,i,r){r||(r=rA(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let o=e;o<n;o++){const e=t.children[o];KL(r,t.leaf?i(e):e)}return r}function KL(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function ZL(t,e){return t.minX-e.minX}function YL(t,e){return t.minY-e.minY}function JL(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function QL(t){return t.maxX-t.minX+(t.maxY-t.minY)}function tA(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function eA(t,e){const n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,o-i)}function nA(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function iA(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function rA(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function oA(t,e,n,i,r){const o=[e,n];for(;o.length;){if((n=o.pop())-(e=o.pop())<=i)continue;const s=e+Math.ceil((n-e)/i/2)*i;BL(t,s,e,n,r),o.push(e,s,s,n)}}function sA(t,e,n,i){return void 0!==n&&void 0!==i?[n/t,i/e]:void 0!==n?n/t:void 0!==i?i/e:1}class aA extends TF{constructor(t){const e=void 0!==(t=t||{}).opacity?t.opacity:1,n=void 0!==t.rotation?t.rotation:0,i=void 0!==t.scale?t.scale:1,r=void 0!==t.rotateWithView&&t.rotateWithView;super({opacity:e,rotation:n,scale:i,displacement:void 0!==t.displacement?t.displacement:[0,0],rotateWithView:r,declutterMode:t.declutterMode}),this.anchor_=void 0!==t.anchor?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null;const o=void 0!==t.img?t.img:null;let s,a=t.src;if(LP(!(void 0!==a&&o),"`image` and `src` cannot be provided at the same time"),void 0!==a&&0!==a.length||!o||(a=o.src||MP(o)),LP(void 0!==a&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),LP(!((void 0!==t.width||void 0!==t.height)&&void 0!==t.scale),"`width` or `height` cannot be provided together with `scale`"),void 0!==t.src?s=PO:void 0!==o&&(s="complete"in o?o.complete?o.src?IO:PO:RO:IO),this.color_=void 0!==t.color?qO(t.color):null,this.iconImage_=_F(o,a,this.crossOrigin_,s,this.color_),this.offset_=void 0!==t.offset?t.offset:[0,0],this.offsetOrigin_=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==t.size?t.size:null,void 0!==t.width||void 0!==t.height){let e,n;if(t.size)[e,n]=t.size;else{const i=this.getImage(1);if(i.width&&i.height)e=i.width,n=i.height;else if(i instanceof HTMLImageElement){this.initialOptions_=t;const e=()=>{if(this.unlistenImageChange(e),!this.initialOptions_)return;const n=this.iconImage_.getSize();this.setScale(sA(n[0],n[1],t.width,t.height))};return void this.listenImageChange(e)}}void 0!==e&&this.setScale(sA(e,n,t.width,t.height))}}clone(){let t,e,n;return this.initialOptions_?(e=this.initialOptions_.width,n=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new aA({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:e,height:n,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const e=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!e)return null;t=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(t[0]*=e[0]),"fraction"==this.anchorYUnits_&&(t[1]*=e[1])}if("top-left"!=this.anchorOrigin_){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[0]=-t[0]+e[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}const e=this.getDisplacement(),n=this.getScaleArray();return[t[0]-e[0]/n[0],t[1]+e[1]/n[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if("top-left"!=this.offsetOrigin_){const e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[0]=n[0]-e[0]-t[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();return this.size_?this.size_[0]*t[0]:this.iconImage_.getImageState()==IO?this.iconImage_.getSize()[0]*t[0]:void 0}getHeight(){const t=this.getScaleArray();return this.size_?this.size_[1]*t[1]:this.iconImage_.getImageState()==IO?this.iconImage_.getSize()[1]*t[1]:void 0}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(uP,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(uP,t)}ready(){return this.iconImage_.ready()}}let lA=0;const uA=1<<lA++,cA=1<<lA++,hA=1<<lA++,dA=1<<lA++,fA=1<<lA++,pA=1<<lA++,gA=Math.pow(2,6)-1,mA={[uA]:"boolean",[cA]:"number",[hA]:"string",[dA]:"color",[fA]:"number[]",[pA]:"size"},yA=Object.keys(mA).map(Number).sort(ZT);function vA(t){const e=[];for(const i of yA)(t&(n=i))===n&&e.push(mA[i]);var n;return 0===e.length?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function _A(t,e){return!!(t&e)}function xA(t,e){return t===e}class bA{constructor(t,e){this.type=t,this.value=e}}class wA{constructor(t,e,...n){this.type=t,this.operator=e,this.args=n}}function SA(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,style:{}}}function EA(t,e,n){switch(typeof t){case"boolean":return new bA(uA,t);case"number":return new bA(n===pA?pA:cA,t);case"string":{let e=hA;return function(t){try{return VO(t),!0}catch(e){return!1}}(t)&&(e|=dA),xA(e&n,0)||(e&=n),new bA(e,t)}}if(!Array.isArray(t))throw new Error("Expression must be an array or a primitive value");if(0===t.length)throw new Error("Empty expression");if("string"==typeof t[0])return function(t,e,n){const i=t[0],r=mj[i];if(!r)throw new Error(`Unknown operator: ${i}`);return r(t,e,n)}(t,e,n);for(const r of t)if("number"!=typeof r)throw new Error("Expected an array of numbers");let i=fA;return 2===t.length?i|=pA:3!==t.length&&4!==t.length||(i|=dA),n&&(i&=n),new bA(i,t)}const CA="get",MA="var",kA="concat",TA="geometry-type",PA="any",RA="all",IA="!",OA="resolution",FA="zoom",LA="time",AA="==",jA="!=",NA=">",DA=">=",zA="<",$A="<=",BA="*",WA="/",GA="+",UA="-",HA="clamp",VA="%",qA="^",XA="abs",KA="floor",ZA="ceil",YA="round",JA="sin",QA="cos",tj="atan",ej="sqrt",nj="match",ij="between",rj="interpolate",oj="coalesce",sj="case",aj="in",lj="number",uj="string",cj="array",hj="color",dj="id",fj="band",pj="palette",gj="to-string",mj={[CA]:wj((([t,e])=>void 0!==e?function(t){switch(t){case"string":return hA;case"color":return dA;case"number":return cA;case"boolean":return uA;case"number[]":return fA;default:throw new Error(`Unrecognized type hint: ${t}`)}}(e.value):gA),vj(1,2),(function(t,e){const n=EA(t[1],e);if(!(n instanceof bA))throw new Error("Expected a literal argument for get operation");if("string"!=typeof n.value)throw new Error("Expected a string argument for get operation");return e.properties.add(n.value),3===t.length?[n,EA(t[2],e)]:[n]})),[MA]:wj((([t])=>t.type),vj(1,1),(function(t,e,n,i){const r=t[1];if("string"!=typeof r)throw new Error("Expected a string argument for var operation");if(e.variables.add(r),!("variables"in e.style)||void 0===e.style.variables[r])return[new bA(gA,r)];const o=EA(e.style.variables[r],e);if(o.value=r,i&&!_A(i,o.type))throw new Error(`The variable ${r} has type ${vA(o.type)} but the following type was expected: ${vA(i)}`);return[o]})),[dj]:wj(cA|hA,yj,(function(t,e){e.featureId=!0})),[kA]:wj(hA,vj(2,1/0),_j(gA)),[TA]:wj(hA,yj,(function(t,e){e.geometryType=!0})),[OA]:wj(cA,yj),[FA]:wj(cA,yj),[LA]:wj(cA,yj),[PA]:wj(uA,vj(2,1/0),_j(uA)),[RA]:wj(uA,vj(2,1/0),_j(uA)),[IA]:wj(uA,vj(1,1),_j(uA)),[AA]:wj(uA,vj(2,2),_j(gA),xj),[jA]:wj(uA,vj(2,2),_j(gA),xj),[NA]:wj(uA,vj(2,2),_j(gA),xj),[DA]:wj(uA,vj(2,2),_j(gA),xj),[zA]:wj(uA,vj(2,2),_j(gA),xj),[$A]:wj(uA,vj(2,2),_j(gA),xj),[BA]:wj((t=>{let e=cA|dA;for(let n=0;n<t.length;n++)e&=t[n].type;return e}),vj(2,1/0),_j(cA|dA),xj),[oj]:wj((t=>{let e=gA;for(let n=1;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e}),vj(2,1/0),_j(gA),xj),[WA]:wj(cA,vj(2,2),_j(cA)),[GA]:wj(cA,vj(2,1/0),_j(cA)),[UA]:wj(cA,vj(2,2),_j(cA)),[HA]:wj(cA,vj(3,3),_j(cA)),[VA]:wj(cA,vj(2,2),_j(cA)),[qA]:wj(cA,vj(2,2),_j(cA)),[XA]:wj(cA,vj(1,1),_j(cA)),[KA]:wj(cA,vj(1,1),_j(cA)),[ZA]:wj(cA,vj(1,1),_j(cA)),[YA]:wj(cA,vj(1,1),_j(cA)),[JA]:wj(cA,vj(1,1),_j(cA)),[QA]:wj(cA,vj(1,1),_j(cA)),[tj]:wj(cA,vj(1,2),_j(cA)),[ej]:wj(cA,vj(1,1),_j(cA)),[nj]:wj((t=>{let e=gA;for(let n=2;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e}),vj(4,1/0),bj,(function(t,e,n,i){const r=t.length-1;let o=EA(t[1],e).type;const s=EA(t[t.length-1],e);let a=void 0!==i?i&s.type:s.type;const l=new Array(r-2);for(let c=0;c<r-2;c+=2){const n=EA(t[c+2],e),i=EA(t[c+3],e);o&=n.type,a&=i.type,l[c]=n,l[c+1]=i}const u=hA|cA|uA;if(!_A(u,o))throw new Error(`Expected an input of type ${vA(u)} for the interpolate operation, got ${vA(o)} instead`);if(o&=u,xA(a,0))throw new Error("Could not find a common output type for the following match operation: "+JSON.stringify(t));for(let c=0;c<r-2;c+=2){const n=EA(t[c+2],e,o),i=EA(t[c+3],e,a);l[c]=n,l[c+1]=i}return[EA(t[1],e,o),...l,EA(t[t.length-1],e,a)]})),[ij]:wj(uA,vj(3,3),_j(cA)),[rj]:wj((t=>{let e=dA|cA;for(let n=3;n<t.length;n+=2)e&=t[n].type;return e}),vj(6,1/0),bj,(function(t,e,n,i){const r=t[1];let o;switch(r[0]){case"linear":o=1;break;case"exponential":if(o=r[1],"number"!=typeof o)throw new Error(`Expected a number base for exponential interpolation, got ${JSON.stringify(o)} instead`);break;default:o=null}if(!o)throw new Error(`Invalid interpolation type: ${JSON.stringify(r)}`);o=EA(o,e);let s=EA(t[2],e);if(!_A(cA,s.type))throw new Error(`Expected an input of type number for the interpolate operation, got ${vA(s.type)} instead`);s=EA(t[2],e,cA);const a=new Array(t.length-3);for(let l=0;l<a.length;l+=2){let n=EA(t[l+3],e);if(!_A(cA,n.type))throw new Error(`Expected all stop input values in the interpolate operation to be of type number, got ${vA(n.type)} at position ${l+2} instead`);let i=EA(t[l+4],e);if(!_A(cA|dA,i.type))throw new Error(`Expected all stop output values in the interpolate operation to be a number or color, got ${vA(i.type)} at position ${l+3} instead`);n=EA(t[l+3],e,cA),i=EA(t[l+4],e,cA|dA),a[l]=n,a[l+1]=i}return[o,s,...a]})),[sj]:wj((t=>{let e=gA;for(let n=1;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e}),vj(3,1/0),(function(t,e){const n=t[0],i=t.length-1;if(i%2==0)throw new Error(`An odd amount of arguments was expected for operation ${n}, got ${JSON.stringify(i)} instead`)}),(function(t,e,n,i){const r=EA(t[t.length-1],e,i);let o=void 0!==i?i&r.type:r.type;const s=new Array(t.length-1);for(let a=0;a<s.length-1;a+=2){const n=EA(t[a+1],e),r=EA(t[a+2],e,i);if(!_A(uA,n.type))throw new Error(`Expected all conditions in the case operation to be of type boolean, got ${vA(n.type)} at position ${a} instead`);o&=r.type,s[a]=n,s[a+1]=r}if(xA(o,0))throw new Error("Could not find a common output type for the following case operation: "+JSON.stringify(t));for(let a=0;a<s.length-1;a+=2)s[a+1]=EA(t[a+2],e,o);return s[s.length-1]=EA(t[t.length-1],e,o),s})),[aj]:wj(uA,vj(2,2),(function(t,e){let n=t[2];if(!Array.isArray(n))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');if("string"==typeof n[0]){if("literal"!==n[0])throw new Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(n[1]))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');n=n[1]}let i=hA|cA;const r=new Array(n.length);for(let o=0;o<r.length;o++){const t=EA(n[o],e);i&=t.type,r[o]=t}if(xA(i,0))throw new Error("Could not find a common type for the following in operation: "+JSON.stringify(t));return[EA(t[1],e,i),...r]})),[lj]:wj(cA,vj(1,1/0),_j(gA)),[uj]:wj(hA,vj(1,1/0),_j(gA)),[cj]:wj((t=>2===t.length?fA|pA:3===t.length||4===t.length?fA|dA:fA),vj(1,1/0),_j(cA)),[hj]:wj(dA,vj(1,4),_j(cA)),[fj]:wj(cA,vj(1,3),_j(cA)),[pj]:wj(dA,vj(2,2),(function(t,e){const n=EA(t[1],e,cA);if(n.type!==cA)throw new Error(`The first argument of palette must be an number, got ${vA(n.type)} instead`);const i=t[2];if(!Array.isArray(i))throw new Error("The second argument of palette must be an array");const r=new Array(i.length);for(let o=0;o<r.length;o++){const t=EA(i[o],e,dA);if(!(t instanceof bA))throw new Error(`The palette color at index ${o} must be a literal value`);if(!_A(t.type,dA))throw new Error(`The palette color at index ${o} should be of type color, got ${vA(t.type)} instead`);r[o]=t}return[n,...r]})),[gj]:wj(hA,vj(1,1),_j(uA|cA|hA|dA))};function yj(t,e){const n=t[0];if(1!==t.length)throw new Error(`Expected no arguments for ${n} operation`);return[]}function vj(t,e){return function(n,i){const r=n[0],o=n.length-1;if(t===e){if(o!==t)throw new Error(`Expected ${t} argument${1===t?"":"s"} for ${r}, got ${o}`)}else if(o<t||o>e)throw new Error(`Expected ${e===1/0?`${t} or more`:`${t} to ${e}`} arguments for ${r}, got ${o}`)}}function _j(t){return function(e,n){const i=e[0],r=e.length-1,o=new Array(r);for(let s=0;s<r;++s){const r=EA(e[s+1],n);if(!_A(t,r.type)){const e=vA(t),n=vA(r.type);throw new Error(`Unexpected type for argument ${s} of ${i} operation, got ${e} but expected ${n}`)}r.type&=t,o[s]=r}return o}}function xj(t,e,n){const i=t[0],r=t.length-1;let o=gA;for(let a=0;a<n.length;++a)o&=n[a].type;if(0===o)throw new Error(`No common type could be found for arguments of ${i} operation`);const s=new Array(r);for(let a=0;a<r;++a)s[a]=EA(t[a+1],e,o);return s}function bj(t,e){const n=t[0],i=t.length-1;if(i%2==1)throw new Error(`An even amount of arguments was expected for operation ${n}, got ${JSON.stringify(i)} instead`)}function wj(t,...e){return function(n,i,r){const o=n[0];let s=[];for(let t=0;t<e.length;t++)s=e[t](n,i,s,r)||s;let a="function"==typeof t?t(s):t;if(void 0!==r){if(!_A(a,r))throw new Error(`The following expression was expected to return ${vA(r)}, but returns ${vA(a)} instead: ${JSON.stringify(n)}`);a&=r}if(0===a)throw new Error(`No matching type was found for the following expression: ${JSON.stringify(n)}`);return new wA(a,o,...s)}}function Sj(t){if(!t)return"";const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return Sj(t.getGeometries()[0]);default:return""}}function Ej(t,e,n){const i=EA(t,n);if(!_A(e,i.type)){const t=vA(e),n=vA(i.type);throw new Error(`Expected expression to be of type ${t}, got ${n}`)}return Cj(i)}function Cj(t,e){if(t instanceof bA){if(t.type===dA&&"string"==typeof t.value){const e=VO(t.value);return function(){return e}}return function(){return t.value}}const n=t.operator;switch(n){case lj:case uj:case oj:return function(t){const e=t.operator,n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=Cj(t.args[r]);switch(e){case oj:return t=>{for(let e=0;e<n;++e){const n=i[e](t);if(null!=n)return n}throw new Error("Expected one of the values to be non-null")};case lj:case uj:return t=>{for(let r=0;r<n;++r){const n=i[r](t);if(typeof n===e)return n}throw new Error(`Expected one of the values to be a ${e}`)};default:throw new Error(`Unsupported assertion operator ${e}`)}}(t);case CA:case MA:return function(t){const e=t.args[0],n=e.value;switch(t.operator){case CA:return t=>t.properties[n];case MA:return t=>t.variables[n];default:throw new Error(`Unsupported accessor operator ${t.operator}`)}}(t);case dj:return t=>t.featureId;case TA:return t=>t.geometryType;case kA:{const e=t.args.map((t=>Cj(t)));return t=>"".concat(...e.map((e=>e(t).toString())))}case OA:return t=>t.resolution;case PA:case RA:case ij:case aj:case IA:return function(t){const e=t.operator,n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=Cj(t.args[r]);switch(e){case PA:return t=>{for(let e=0;e<n;++e)if(i[e](t))return!0;return!1};case RA:return t=>{for(let e=0;e<n;++e)if(!i[e](t))return!1;return!0};case ij:return t=>{const e=i[0](t),n=i[1](t),r=i[2](t);return e>=n&&e<=r};case aj:return t=>{const e=i[0](t);for(let r=1;r<n;++r)if(e===i[r](t))return!0;return!1};case IA:return t=>!i[0](t);default:throw new Error(`Unsupported logical operator ${e}`)}}(t);case AA:case jA:case zA:case $A:case NA:case DA:return function(t){const e=t.operator,n=Cj(t.args[0]),i=Cj(t.args[1]);switch(e){case AA:return t=>n(t)===i(t);case jA:return t=>n(t)!==i(t);case zA:return t=>n(t)<i(t);case $A:return t=>n(t)<=i(t);case NA:return t=>n(t)>i(t);case DA:return t=>n(t)>=i(t);default:throw new Error(`Unsupported comparison operator ${e}`)}}(t);case BA:case WA:case GA:case UA:case HA:case VA:case qA:case XA:case KA:case ZA:case YA:case JA:case QA:case tj:case ej:return function(t){const e=t.operator,n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=Cj(t.args[r]);switch(e){case BA:return t=>{let e=1;for(let r=0;r<n;++r)e*=i[r](t);return e};case WA:return t=>i[0](t)/i[1](t);case GA:return t=>{let e=0;for(let r=0;r<n;++r)e+=i[r](t);return e};case UA:return t=>i[0](t)-i[1](t);case HA:return t=>{const e=i[0](t),n=i[1](t);if(e<n)return n;const r=i[2](t);return e>r?r:e};case VA:return t=>i[0](t)%i[1](t);case qA:return t=>Math.pow(i[0](t),i[1](t));case XA:return t=>Math.abs(i[0](t));case KA:return t=>Math.floor(i[0](t));case ZA:return t=>Math.ceil(i[0](t));case YA:return t=>Math.round(i[0](t));case JA:return t=>Math.sin(i[0](t));case QA:return t=>Math.cos(i[0](t));case tj:return 2===n?t=>Math.atan2(i[0](t),i[1](t)):t=>Math.atan(i[0](t));case ej:return t=>Math.sqrt(i[0](t));default:throw new Error(`Unsupported numeric operator ${e}`)}}(t);case sj:return function(t){const e=t.args.length,n=new Array(e);for(let i=0;i<e;++i)n[i]=Cj(t.args[i]);return t=>{for(let i=0;i<e-1;i+=2)if(n[i](t))return n[i+1](t);return n[e-1](t)}}(t);case nj:return function(t){const e=t.args.length,n=new Array(e);for(let i=0;i<e;++i)n[i]=Cj(t.args[i]);return t=>{const i=n[0](t);for(let r=1;r<e;r+=2)if(i===n[r](t))return n[r+1](t);return n[e-1](t)}}(t);case rj:return function(t){const e=t.args.length,n=new Array(e);for(let i=0;i<e;++i)n[i]=Cj(t.args[i]);return t=>{const i=n[0](t),r=n[1](t);let o,s;for(let a=2;a<e;a+=2){const e=n[a](t);let l=n[a+1](t);const u=Array.isArray(l);if(u&&(l=UO(l)),e>=r)return 2===a?l:u?kj(i,r,o,s,e,l):Mj(i,r,o,s,e,l);o=e,s=l}return s}}(t);case gj:return function(t){const e=t.operator,n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=Cj(t.args[r]);if(e===gj)return e=>{const n=i[0](e);return t.args[0].type===dA?KO(n):n.toString()};throw new Error(`Unsupported convert operator ${e}`)}(t);default:throw new Error(`Unsupported operator ${n}`)}}function Mj(t,e,n,i,r,o){const s=r-n;if(0===s)return i;const a=e-n;return i+(1===t?a/s:(Math.pow(t,a)-1)/(Math.pow(t,s)-1))*(o-i)}function kj(t,e,n,i,r,o){if(0==r-n)return i;const s=HO(i),a=HO(o);let l=a[2]-s[2];return l>180?l-=360:l<-180&&(l+=360),XO(function(t){const e=AO.rgb(NO.xyz(t));return e[3]=t[3],e}([Mj(t,e,n,s[0],r,a[0]),Mj(t,e,n,s[1],r,a[1]),s[2]+Mj(t,e,n,0,r,l),Mj(t,e,n,i[3],r,o[3])]))}function Tj(t){return!0}function Pj(t){const e=SA(),n=function(t,e){const n=t.length,i=new Array(n);for(let r=0;r<n;++r){const n=t[r],o="filter"in n?Ej(n.filter,uA,e):Tj;let s;if(Array.isArray(n.style)){const t=n.style.length;s=new Array(t);for(let i=0;i<t;++i)s[i]=Ij(n.style[i],e)}else s=[Ij(n.style,e)];i[r]={filter:o,styles:s}}return function(e){const r=[];let o=!1;for(let s=0;s<n;++s)if((0,i[s].filter)(e)&&(!t[s].else||!o)){o=!0;for(const t of i[s].styles){const n=t(e);n&&r.push(n)}}return r}}(t,e),i={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""};return function(t,r){if(i.properties=t.getPropertiesInternal(),i.resolution=r,e.featureId){const e=t.getId();i.featureId=void 0!==e?e:null}return e.geometryType&&(i.geometryType=Sj(t.getGeometry())),n(i)}}function Rj(t){const e=SA(),n=t.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=Ij(t[s],e);const r={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""},o=new Array(n);return function(t,s){if(r.properties=t.getPropertiesInternal(),r.resolution=s,e.featureId){const e=t.getId();r.featureId=void 0!==e?e:null}let a=0;for(let e=0;e<n;++e){const t=i[e](r);t&&(o[a]=t,a+=1)}return o.length=a,o}}function Ij(t,e){const n=Oj(t,"",e),i=Fj(t,"",e),r=function(t,e){const n="text-",i=Aj(t,n+"value",e);if(!i)return null;const r=Oj(t,n,e),o=Oj(t,n+"background-",e),s=Fj(t,n,e),a=Fj(t,n+"background-",e),l=Aj(t,n+"font",e),u=Lj(t,n+"max-angle",e),c=Lj(t,n+"offset-x",e),h=Lj(t,n+"offset-y",e),d=jj(t,n+"overflow",e),f=Aj(t,n+"placement",e),p=Lj(t,n+"repeat",e),g=Bj(t,n+"scale",e),m=jj(t,n+"rotate-with-view",e),y=Lj(t,n+"rotation",e),v=Aj(t,n+"align",e),_=Aj(t,n+"justify",e),x=Aj(t,n+"baseline",e),b=Dj(t,n+"padding",e),w=Hj(t,n+"declutter-mode"),S=new lL({declutterMode:w});return function(t){if(S.setText(i(t)),r&&S.setFill(r(t)),o&&S.setBackgroundFill(o(t)),s&&S.setStroke(s(t)),a&&S.setBackgroundStroke(a(t)),l&&S.setFont(l(t)),u&&S.setMaxAngle(u(t)),c&&S.setOffsetX(c(t)),h&&S.setOffsetY(h(t)),d&&S.setOverflow(d(t)),f){const e=f(t);if("point"!==e&&"line"!==e)throw new Error("Expected point or line for text-placement");S.setPlacement(e)}if(p&&S.setRepeat(p(t)),g&&S.setScale(g(t)),m&&S.setRotateWithView(m(t)),y&&S.setRotation(y(t)),v){const e=v(t);if("left"!==e&&"center"!==e&&"right"!==e&&"end"!==e&&"start"!==e)throw new Error("Expected left, right, center, start, or end for text-align");S.setTextAlign(e)}if(_){const e=_(t);if("left"!==e&&"right"!==e&&"center"!==e)throw new Error("Expected left, right, or center for text-justify");S.setJustify(e)}if(x){const e=x(t);if("bottom"!==e&&"top"!==e&&"middle"!==e&&"alphabetic"!==e&&"hanging"!==e)throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");S.setTextBaseline(e)}return b&&S.setPadding(b(t)),S}}(t,e),o=function(t,e){return"icon-src"in t?function(t,e){const n="icon-",i=n+"src",r=qj(t[i],i),o=zj(t,n+"anchor",e),s=Bj(t,n+"scale",e),a=Lj(t,n+"opacity",e),l=zj(t,n+"displacement",e),u=Lj(t,n+"rotation",e),c=jj(t,n+"rotate-with-view",e),h=Gj(t,n+"anchor-origin"),d=Uj(t,n+"anchor-x-units"),f=Uj(t,n+"anchor-y-units"),p=function(t,e){const n=t[e];if(void 0!==n)return Kj(n,e)}(t,n+"color"),g=function(t,e){const n=t[e];if(void 0!==n){if("string"!=typeof n)throw new Error(`Expected a string for ${e}`);return n}}(t,n+"cross-origin"),m=function(t,e){const n=t[e];if(void 0!==n)return Vj(n,e)}(t,n+"offset"),y=Gj(t,n+"offset-origin"),v=Wj(t,n+"width"),_=Wj(t,n+"height"),x=function(t,e){const n=t[e];if(void 0!==n){if("number"==typeof n)return kF(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${e}`);if(2!==n.length||"number"!=typeof n[0]||"number"!=typeof n[1])throw new Error(`Expected a number or size array for ${e}`);return n}}(t,n+"size"),b=Hj(t,n+"declutter-mode"),w=new aA({src:r,anchorOrigin:h,anchorXUnits:d,anchorYUnits:f,color:p,crossOrigin:g,offset:m,offsetOrigin:y,height:_,width:v,size:x,declutterMode:b});return function(t){return a&&w.setOpacity(a(t)),l&&w.setDisplacement(l(t)),u&&w.setRotation(u(t)),c&&w.setRotateWithView(c(t)),s&&w.setScale(s(t)),o&&w.setAnchor(o(t)),w}}(t,e):"shape-points"in t?function(t,e){const n="shape-",i=n+"points",r=n+"radius",o=Xj(t[i],i),s=Xj(t[r],r),a=Oj(t,n,e),l=Fj(t,n,e),u=Bj(t,n+"scale",e),c=zj(t,n+"displacement",e),h=Lj(t,n+"rotation",e),d=jj(t,n+"rotate-with-view",e),f=Wj(t,n+"radius2"),p=Wj(t,n+"angle"),g=Hj(t,n+"declutter-mode"),m=new nL({points:o,radius:s,radius2:f,angle:p,declutterMode:g});return function(t){return a&&m.setFill(a(t)),l&&m.setStroke(l(t)),c&&m.setDisplacement(c(t)),h&&m.setRotation(h(t)),d&&m.setRotateWithView(d(t)),u&&m.setScale(u(t)),m}}(t,e):"circle-radius"in t?function(t,e){const n="circle-",i=Oj(t,n,e),r=Fj(t,n,e),o=Lj(t,n+"radius",e),s=Bj(t,n+"scale",e),a=zj(t,n+"displacement",e),l=Lj(t,n+"rotation",e),u=jj(t,n+"rotate-with-view",e),c=Hj(t,n+"declutter-mode"),h=new iL({radius:5,declutterMode:c});return function(t){return o&&h.setRadius(o(t)),i&&h.setFill(i(t)),r&&h.setStroke(r(t)),a&&h.setDisplacement(a(t)),l&&h.setRotation(l(t)),u&&h.setRotateWithView(u(t)),s&&h.setScale(s(t)),h}}(t,e):null}(t,e),s=Lj(t,"z-index",e);if(!(n||i||r||o||aP(t)))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const a=new rL;return function(t){let e=!0;if(n){const i=n(t);i&&(e=!1),a.setFill(i)}if(i){const n=i(t);n&&(e=!1),a.setStroke(n)}if(r){const n=r(t);n&&(e=!1),a.setText(n)}if(o){const n=o(t);n&&(e=!1),a.setImage(n)}return s&&a.setZIndex(s(t)),e?null:a}}function Oj(t,e,n){let i;if(i=e+"fill-pattern-src"in t?function(t,e,n){const i=Aj(t,e+"pattern-src",n),r=$j(t,e+"pattern-offset",n),o=$j(t,e+"pattern-size",n),s=Nj(t,e+"color",n);return function(t){return{src:i(t),offset:r&&r(t),size:o&&o(t),color:s&&s(t)}}}(t,e+"fill-",n):Nj(t,e+"fill-color",n),!i)return null;const r=new xF;return function(t){const e=i(t);return"none"===e?null:(r.setColor(e),r)}}function Fj(t,e,n){const i=Lj(t,e+"stroke-width",n),r=Nj(t,e+"stroke-color",n);if(!i&&!r)return null;const o=Aj(t,e+"stroke-line-cap",n),s=Aj(t,e+"stroke-line-join",n),a=Dj(t,e+"stroke-line-dash",n),l=Lj(t,e+"stroke-line-dash-offset",n),u=Lj(t,e+"stroke-miter-limit",n),c=new CF;return function(t){if(r){const e=r(t);if("none"===e)return null;c.setColor(e)}if(i&&c.setWidth(i(t)),o){const e=o(t);if("butt"!==e&&"round"!==e&&"square"!==e)throw new Error("Expected butt, round, or square line cap");c.setLineCap(e)}if(s){const e=s(t);if("bevel"!==e&&"round"!==e&&"miter"!==e)throw new Error("Expected bevel, round, or miter line join");c.setLineJoin(e)}return a&&c.setLineDash(a(t)),l&&c.setLineDashOffset(l(t)),u&&c.setMiterLimit(u(t)),c}}function Lj(t,e,n){if(!(e in t))return;const i=Ej(t[e],cA,n);return function(t){return Xj(i(t),e)}}function Aj(t,e,n){if(!(e in t))return null;const i=Ej(t[e],hA,n);return function(t){return qj(i(t),e)}}function jj(t,e,n){if(!(e in t))return null;const i=Ej(t[e],uA,n);return function(t){const n=i(t);if("boolean"!=typeof n)throw new Error(`Expected a boolean for ${e}`);return n}}function Nj(t,e,n){if(!(e in t))return null;const i=Ej(t[e],dA|hA,n);return function(t){return Kj(i(t),e)}}function Dj(t,e,n){if(!(e in t))return null;const i=Ej(t[e],fA,n);return function(t){return Vj(i(t),e)}}function zj(t,e,n){if(!(e in t))return null;const i=Ej(t[e],fA,n);return function(t){const n=Vj(i(t),e);if(2!==n.length)throw new Error(`Expected two numbers for ${e}`);return n}}function $j(t,e,n){if(!(e in t))return null;const i=Ej(t[e],fA,n);return function(t){return Zj(i(t),e)}}function Bj(t,e,n){if(!(e in t))return null;const i=Ej(t[e],fA|cA,n);return function(t){return n=i(t),r=e,"number"==typeof n?n:Zj(n,r);var n,r}}function Wj(t,e){const n=t[e];if(void 0!==n){if("number"!=typeof n)throw new Error(`Expected a number for ${e}`);return n}}function Gj(t,e){const n=t[e];if(void 0!==n){if("bottom-left"!==n&&"bottom-right"!==n&&"top-left"!==n&&"top-right"!==n)throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return n}}function Uj(t,e){const n=t[e];if(void 0!==n){if("pixels"!==n&&"fraction"!==n)throw new Error(`Expected pixels or fraction for ${e}`);return n}}function Hj(t,e){const n=t[e];if(void 0!==n){if("string"!=typeof n)throw new Error(`Expected a string for ${e}`);if("declutter"!==n&&"obstacle"!==n&&"none"!==n)throw new Error(`Expected declutter, obstacle, or none for ${e}`);return n}}function Vj(t,e){if(!Array.isArray(t))throw new Error(`Expected an array for ${e}`);const n=t.length;for(let i=0;i<n;++i)if("number"!=typeof t[i])throw new Error(`Expected an array of numbers for ${e}`);return t}function qj(t,e){if("string"!=typeof t)throw new Error(`Expected a string for ${e}`);return t}function Xj(t,e){if("number"!=typeof t)throw new Error(`Expected a number for ${e}`);return t}function Kj(t,e){if("string"==typeof t)return t;const n=Vj(t,e),i=n.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return n}function Zj(t,e){const n=Vj(t,e);if(2!==n.length)throw new Error(`Expected an array of two numbers for ${e}`);return n}const Yj="renderOrder";class Jj extends zL{constructor(t){t=t||{};const e=Object.assign({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,super(e),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=void 0!==t.renderBuffer?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.updateWhileInteracting_=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(Yj)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,e){const n=this.getDeclutter();n in t.declutter==0&&(t.declutter[n]=new HL(9)),this.getRenderer().renderDeclutter(t,e)}setRenderOrder(t){this.set(Yj,t)}setStyle(t){this.style_=void 0===t?sL:t;const e=function(t){if(void 0===t)return sL;if(!t)return null;if("function"==typeof t)return t;if(t instanceof rL)return t;if(!Array.isArray(t))return Rj([t]);if(0===t.length)return[];const e=t.length,n=t[0];if(n instanceof rL){const n=new Array(e);for(let i=0;i<e;++i){const e=t[i];if(!(e instanceof rL))throw new Error("Expected a list of style instances");n[i]=e}return n}if("style"in n){const n=new Array(e);for(let i=0;i<e;++i){const e=t[i];if(!("style"in e))throw new Error("Expected a list of rules with a style property");n[i]=e}return Pj(n)}const i=t;return Rj(i)}(t);this.styleFunction_=null===t?void 0:function(t){let e;if("function"==typeof t)e=t;else{let n;Array.isArray(t)?n=t:(LP("function"==typeof t.getZIndex,"Expected an `Style` or an array of `Style`"),n=[t]),e=function(){return n}}return e}(e),this.changed()}}const Qj=0,tN=1,eN=2,nN=3,iN=4,rN=5,oN=6,sN=7,aN=8,lN=9,uN=10,cN=11,hN=12,dN=[aN],fN=[hN],pN=[tN],gN=[nN];class mN{drawCustom(t,e,n,i,r){}drawGeometry(t){}setStyle(t){}drawCircle(t,e,n){}drawFeature(t,e,n){}drawGeometryCollection(t,e,n){}drawLineString(t,e,n){}drawMultiLineString(t,e,n){}drawMultiPoint(t,e,n){}drawMultiPolygon(t,e,n){}drawPoint(t,e,n){}drawPolygon(t,e,n){}drawText(t,e,n){}setFillStrokeStyle(t,e){}setImageStyle(t,e){}setTextStyle(t,e){}}class yN extends mN{constructor(t,e,n,i){super(),this.tolerance=t,this.maxExtent=e,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=n,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))}appendFlatPointCoordinates(t,e){const n=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,r=this.coordinates;let o=r.length;for(let s=0,a=t.length;s<a;s+=e)i[0]=t[s],i[1]=t[s+1],JP(n,i)&&(r[o++]=i[0],r[o++]=i[1]);return o}appendFlatLineCoordinates(t,e,n,i,r,o){const s=this.coordinates;let a=s.length;const l=this.getBufferedMaxExtent();o&&(e+=i);let u=t[e],c=t[e+1];const h=this.tmpCoordinate_;let d,f,p,g=!0;for(d=e+i;d<n;d+=i)h[0]=t[d],h[1]=t[d+1],p=eR(l,h),p!==f?(g&&(s[a++]=u,s[a++]=c,g=!1),s[a++]=h[0],s[a++]=h[1]):p===GP?(s[a++]=h[0],s[a++]=h[1],g=!1):g=!0,u=h[0],c=h[1],f=p;return(r&&g||d===e+i)&&(s[a++]=u,s[a++]=c),a}drawCustomCoordinates_(t,e,n,i,r){for(let o=0,s=n.length;o<s;++o){const s=n[o],a=this.appendFlatLineCoordinates(t,e,s,i,!1,!1);r.push(a),e=s}return e}drawCustom(t,e,n,i,r){this.beginGeometry(t,e,r);const o=t.getType(),s=t.getStride(),a=this.coordinates.length;let l,u,c,h,d;switch(o){case"MultiPolygon":l=t.getOrientedFlatCoordinates(),h=[];const e=t.getEndss();d=0;for(let t=0,n=e.length;t<n;++t){const n=[];d=this.drawCustomCoordinates_(l,d,e[t],s,n),h.push(n)}this.instructions.push([iN,a,h,t,n,nO,r]),this.hitDetectionInstructions.push([iN,a,h,t,i||n,nO,r]);break;case"Polygon":case"MultiLineString":c=[],l="Polygon"==o?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),d=this.drawCustomCoordinates_(l,0,t.getEnds(),s,c),this.instructions.push([iN,a,c,t,n,eO,r]),this.hitDetectionInstructions.push([iN,a,c,t,i||n,eO,r]);break;case"LineString":case"Circle":l=t.getFlatCoordinates(),u=this.appendFlatLineCoordinates(l,0,l.length,s,!1,!1),this.instructions.push([iN,a,u,t,n,tO,r]),this.hitDetectionInstructions.push([iN,a,u,t,i||n,tO,r]);break;case"MultiPoint":l=t.getFlatCoordinates(),u=this.appendFlatPointCoordinates(l,s),u>a&&(this.instructions.push([iN,a,u,t,n,tO,r]),this.hitDetectionInstructions.push([iN,a,u,t,i||n,tO,r]));break;case"Point":l=t.getFlatCoordinates(),this.coordinates.push(l[0],l[1]),u=this.coordinates.length,this.instructions.push([iN,a,u,t,n,void 0,r]),this.hitDetectionInstructions.push([iN,a,u,t,i||n,void 0,r])}this.endGeometry(e)}beginGeometry(t,e,n){this.beginGeometryInstruction1_=[Qj,e,0,t,n],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Qj,e,0,t,n],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;let e;t.reverse();const n=t.length;let i,r,o=-1;for(e=0;e<n;++e)i=t[e],r=i[0],r==sN?o=e:r==Qj&&(i[2]=e,JT(this.hitDetectionInstructions,o,e),o=-1)}setFillStrokeStyle(t,e){const n=this.state;if(t){const e=t.getColor();n.fillPatternScale=e&&"object"==typeof e&&"src"in e?this.pixelRatio:1,n.fillStyle=PF(e||DF)}else n.fillStyle=void 0;if(e){const t=e.getColor();n.strokeStyle=PF(t||WF);const i=e.getLineCap();n.lineCap=void 0!==i?i:zF;const r=e.getLineDash();n.lineDash=r?r.slice():$F;const o=e.getLineDashOffset();n.lineDashOffset=o||0;const s=e.getLineJoin();n.lineJoin=void 0!==s?s:BF;const a=e.getWidth();n.lineWidth=void 0!==a?a:1;const l=e.getMiterLimit();n.miterLimit=void 0!==l?l:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0}createFill(t){const e=t.fillStyle,n=[uN,e];return"string"!=typeof e&&n.push(t.fillPatternScale),n}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[cN,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,e){const n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)}updateStrokeStyle(t,e){const n=t.strokeStyle,i=t.lineCap,r=t.lineDash,o=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||r!=t.currentLineDash&&!tP(t.currentLineDash,r)||t.currentLineDashOffset!=o||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=l)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=r,t.currentLineDashOffset=o,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=l)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const e=[sN,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=ZP(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;KP(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class vN extends yN{constructor(t,e,n,i){super(t,e,n,i)}drawFlatCoordinatess_(t,e,n,i){const r=this.state,o=void 0!==r.fillStyle,s=void 0!==r.strokeStyle,a=n.length;this.instructions.push(pN),this.hitDetectionInstructions.push(pN);for(let l=0;l<a;++l){const r=n[l],o=this.coordinates.length,a=this.appendFlatLineCoordinates(t,e,r,i,!0,!s),u=[lN,o,a];this.instructions.push(u),this.hitDetectionInstructions.push(u),s&&(this.instructions.push(gN),this.hitDetectionInstructions.push(gN)),e=r}return o&&(this.instructions.push(dN),this.hitDetectionInstructions.push(dN)),s&&(this.instructions.push(fN),this.hitDetectionInstructions.push(fN)),e}drawCircle(t,e,n){const i=this.state,r=i.fillStyle,o=i.strokeStyle;if(void 0===r&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([uN,DF]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([cN,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,$F,0]);const s=t.getFlatCoordinates(),a=t.getStride(),l=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,a,!1,!1);const u=[eN,l];this.instructions.push(pN,u),this.hitDetectionInstructions.push(pN,u),void 0!==i.fillStyle&&(this.instructions.push(dN),this.hitDetectionInstructions.push(dN)),void 0!==i.strokeStyle&&(this.instructions.push(fN),this.hitDetectionInstructions.push(fN)),this.endGeometry(e)}drawPolygon(t,e,n){const i=this.state,r=i.fillStyle,o=i.strokeStyle;if(void 0===r&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([uN,DF]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([cN,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,$F,0]);const s=t.getEnds(),a=t.getOrientedFlatCoordinates(),l=t.getStride();this.drawFlatCoordinatess_(a,0,s,l),this.endGeometry(e)}drawMultiPolygon(t,e,n){const i=this.state,r=i.fillStyle,o=i.strokeStyle;if(void 0===r&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([uN,DF]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([cN,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,$F,0]);const s=t.getEndss(),a=t.getOrientedFlatCoordinates(),l=t.getStride();let u=0;for(let c=0,h=s.length;c<h;++c)u=this.drawFlatCoordinatess_(a,u,s[c],l);this.endGeometry(e)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(0!==t){const e=this.coordinates;for(let n=0,i=e.length;n<i;++n)e[n]=YI(e[n],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)}}function _N(t,e,n,i,r){const o=[];let s=n,a=0,l=e.slice(n,2);for(;a<t&&s+r<i;){const[n,i]=l.slice(-2),u=e[s+r],c=e[s+r+1],h=Math.sqrt((u-n)*(u-n)+(c-i)*(c-i));if(a+=h,a>=t){const e=(t-a+h)/h,d=JR(n,u,e),f=JR(i,c,e);l.push(d,f),o.push(l),l=[d,f],a==t&&(s+=r),a=0}else if(a<t)l.push(e[s+r],e[s+r+1]),s+=r;else{const t=h-a,e=JR(n,u,t/h),d=JR(i,c,t/h);l.push(e,d),o.push(l),l=[e,d],a=0,s+=r}}return a>0&&o.push(l),o}function xN(t,e,n,i,r){let o,s,a,l,u,c,h,d,f,p,g=n,m=n,y=0,v=0,_=n;for(s=n;s<i;s+=r){const n=e[s],i=e[s+1];void 0!==u&&(f=n-u,p=i-c,l=Math.sqrt(f*f+p*p),void 0!==h&&(v+=a,o=Math.acos((h*f+d*p)/(a*l)),o>t&&(v>y&&(y=v,g=_,m=s),v=0,_=s-r)),a=l,h=f,d=p),u=n,c=i}return v+=l,v>y?[_,s]:[g,m]}const bN={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},wN={Circle:vN,Default:yN,Image:class extends yN{constructor(t,e,n,i){super(t,e,n,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,e,n){if(!this.image_||this.maxExtent&&!JP(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,e,n);const i=t.getFlatCoordinates(),r=t.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(i,r);this.instructions.push([oN,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([oN,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}drawMultiPoint(t,e,n){if(!this.image_)return;this.beginGeometry(t,e,n);const i=t.getFlatCoordinates(),r=[];for(let a=0,l=i.length;a<l;a+=t.getStride())this.maxExtent&&!JP(this.maxExtent,i.slice(a,a+2))||r.push(i[a],i[a+1]);const o=this.coordinates.length,s=this.appendFlatPointCoordinates(r,2);this.instructions.push([oN,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([oN,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,e){const n=t.getAnchor(),i=t.getSize(),r=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=i[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}},LineString:class extends yN{constructor(t,e,n,i){super(t,e,n,i)}drawFlatCoordinates_(t,e,n,i){const r=this.coordinates.length,o=this.appendFlatLineCoordinates(t,e,n,i,!1,!1),s=[lN,r,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n}drawLineString(t,e,n){const i=this.state,r=i.strokeStyle,o=i.lineWidth;if(void 0===r||void 0===o)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e,n),this.hitDetectionInstructions.push([cN,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,$F,0],pN);const s=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(s,0,s.length,a),this.hitDetectionInstructions.push(fN),this.endGeometry(e)}drawMultiLineString(t,e,n){const i=this.state,r=i.strokeStyle,o=i.lineWidth;if(void 0===r||void 0===o)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e,n),this.hitDetectionInstructions.push([cN,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,$F,0],pN);const s=t.getEnds(),a=t.getFlatCoordinates(),l=t.getStride();let u=0;for(let c=0,h=s.length;c<h;++c)u=this.drawFlatCoordinates_(a,u,s[c],l);this.hitDetectionInstructions.push(fN),this.endGeometry(e)}finish(){const t=this.state;return null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(fN),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(fN),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(pN)}},Polygon:vN,Text:class extends yN{constructor(t,e,n,i){super(t,e,n,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[DF]={fillStyle:DF},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,e,n){const i=this.textFillState_,r=this.textStrokeState_,o=this.textState_;if(""===this.text_||!o||!i&&!r)return;const s=this.coordinates;let a=s.length;const l=t.getType();let u=null,c=t.getStride();if("line"!==o.placement||"LineString"!=l&&"MultiLineString"!=l&&"Polygon"!=l&&"MultiPolygon"!=l){let i=o.overflow?null:[];switch(l){case"Point":case"MultiPoint":u=t.getFlatCoordinates();break;case"LineString":u=t.getFlatMidpoint();break;case"Circle":u=t.getCenter();break;case"MultiLineString":u=t.getFlatMidpoints(),c=2;break;case"Polygon":u=t.getFlatInteriorPoint(),o.overflow||i.push(u[2]/this.resolution),c=3;break;case"MultiPolygon":const e=t.getFlatInteriorPoints();u=[];for(let t=0,n=e.length;t<n;t+=3)o.overflow||i.push(e[t+2]/this.resolution),u.push(e[t],e[t+1]);if(0===u.length)return;c=2}const r=this.appendFlatPointCoordinates(u,c);if(r===a)return;if(i&&(r-a)/2!=u.length/c){let t=a/2;i=i.filter(((e,n)=>{const i=s[2*(t+n)]===u[n*c]&&s[2*(t+n)+1]===u[n*c+1];return i||--t,i}))}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&this.updateFillStyle(this.state,this.createFill),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e,n);let h=o.padding;if(h!=HF&&(o.scale[0]<0||o.scale[1]<0)){let t=o.padding[0],e=o.padding[1],n=o.padding[2],i=o.padding[3];o.scale[0]<0&&(e=-e,i=-i),o.scale[1]<0&&(t=-t,n=-n),h=[t,e,n,i]}const d=this.pixelRatio;this.instructions.push([oN,a,r,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,h==HF?HF:h.map((function(t){return t*d})),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]);const f=1/d,p=this.state.fillStyle;o.backgroundFill&&(this.state.fillStyle=DF,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([oN,a,r,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[f,f],NaN,this.declutterMode_,this.declutterImageWithText_,h,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?DF:this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]),o.backgroundFill&&(this.state.fillStyle=p,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(e)}else{if(!ER(this.maxExtent,t.getExtent()))return;let i;if(u=t.getFlatCoordinates(),"LineString"==l)i=[u.length];else if("MultiLineString"==l)i=t.getEnds();else if("Polygon"==l)i=t.getEnds().slice(0,1);else if("MultiPolygon"==l){const e=t.getEndss();i=[];for(let t=0,n=e.length;t<n;++t)i.push(e[t][0])}this.beginGeometry(t,e,n);const r=o.repeat,h=r?void 0:o.textAlign;let d=0;for(let t=0,e=i.length;t<e;++t){let e;e=r?_N(r*this.resolution,u,d,i[t],c):[u.slice(d,i[t])];for(let n=0,r=e.length;n<r;++n){const r=e[n];let l=0,u=r.length;if(null==h){const t=xN(o.maxAngle,r,0,r.length,2);l=t[0],u=t[1]}for(let t=l;t<u;t+=c)s.push(r[t],r[t+1]);const f=s.length;d=i[t],this.drawChars_(a,f),a=f}}this.endGeometry(e)}}saveTextStates_(){const t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const r=this.textKey_;r in this.textStates||(this.textStates[r]={font:e.font,textAlign:e.textAlign||GF,justify:e.justify,textBaseline:e.textBaseline||UF,scale:e.scale});const o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))}drawChars_(t,e){const n=this.textStrokeState_,i=this.textState_,r=this.strokeKey_,o=this.textKey_,s=this.fillKey_;this.saveTextStates_();const a=this.pixelRatio,l=bN[i.textBaseline],u=this.textOffsetY_*a,c=this.text_,h=n?n.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([rN,t,e,l,i.overflow,s,i.maxAngle,a,u,r,h*a,c,o,1,this.declutterMode_]),this.hitDetectionInstructions.push([rN,t,e,l,i.overflow,s?DF:s,i.maxAngle,a,u,r,h*a,c,o,1/a,this.declutterMode_])}setTextStyle(t,e){let n,i,r;if(t){const e=t.getFill();e?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=PF(e.getColor()||DF)):(i=null,this.textFillState_=i);const o=t.getStroke();if(o){r=this.textStrokeState_,r||(r={},this.textStrokeState_=r);const t=o.getLineDash(),e=o.getLineDashOffset(),n=o.getWidth(),i=o.getMiterLimit();r.lineCap=o.getLineCap()||zF,r.lineDash=t?t.slice():$F,r.lineDashOffset=void 0===e?0:e,r.lineJoin=o.getLineJoin()||BF,r.lineWidth=void 0===n?1:n,r.miterLimit=void 0===i?10:i,r.strokeStyle=PF(o.getColor()||WF)}else r=null,this.textStrokeState_=r;n=this.textState_;const s=t.getFont()||NF;ZF(s);const a=t.getScaleArray();n.overflow=t.getOverflow(),n.font=s,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.repeat=t.getRepeat(),n.justify=t.getJustify(),n.textBaseline=t.getTextBaseline()||UF,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||HF,n.scale=void 0===a?[1,1]:a;const l=t.getOffsetX(),u=t.getOffsetY(),c=t.getRotateWithView(),h=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===l?0:l,this.textOffsetY_=void 0===u?0:u,this.textRotateWithView_=void 0!==c&&c,this.textRotation_=void 0===h?0:h,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:MP(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.repeat||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=i&&i.fillStyle?"string"==typeof i.fillStyle?i.fillStyle:"|"+MP(i.fillStyle):""}else this.text_="";this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}}};class SN{constructor(t,e,n,i){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}finish(){const t={};for(const e in this.buildersByZIndex_){t[e]=t[e]||{};const n=this.buildersByZIndex_[e];for(const i in n){const r=n[i].finish();t[e][i]=r}}return t}getBuilder(t,e){const n=void 0!==t?t.toString():"0";let i=this.buildersByZIndex_[n];void 0===i&&(i={},this.buildersByZIndex_[n]=i);let r=i[e];return void 0===r&&(r=new(0,wN[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=r),r}}class EN extends wP{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t}getFeatures(t){return EP()}getData(t){return null}prepareFrame(t){return EP()}renderFrame(t,e){return EP()}loadedTileCallback(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n}createLoadedTileFinder(t,e,n){return(i,r)=>{const o=this.loadedTileCallback.bind(this,n,i);return t.forEachLoadedTile(e,i,r,o)}}forEachFeatureAtCoordinate(t,e,n,i,r){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const e=t.target;e.getState()!==IO&&e.getState()!==OO||this.renderIfReadyAndVisible()}loadImage(t){let e=t.getState();return e!=IO&&e!=OO&&t.addEventListener(uP,this.boundHandleImageChange_),e==PO&&(t.load(),e=t.getState()),e==IO}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&"ready"===t.getSourceState()&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}}class CN extends qT{constructor(t,e,n,i){super(t),this.inversePixelTransform=e,this.frameState=n,this.context=i}}class MN{constructor(){r(this,"pushMethodArgs_",((...t)=>(this.instructions_[this.zIndex+this.offset_].push(t),this))),this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(lF(),{get:(t,e)=>{if("function"==typeof lF()[e])return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(e),this.pushMethodArgs_},set:(t,e,n)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(e,n),!0)})}pushFunction(t){this.instructions_[this.zIndex+this.offset_].push(t)}getContext(){return this.context_}draw(t){this.instructions_.forEach((e=>{for(let n=0,i=e.length;n<i;++n){const i=e[n];if("function"==typeof i){i(t);continue}const r=e[++n];if("function"==typeof t[i])t[i](...r);else{if("function"==typeof r){t[i]=r(t);continue}t[i]=r}}}))}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const kN=[];let TN=null;class PN extends EN{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=[1,0,0,1,0,0],this.pixelTransform=[1,0,0,1,0,0],this.inversePixelTransform=[1,0,0,1,0,0],this.context=null,this.deferredContext_=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(t,e,n){let i;TN||(TN=sF(1,1,void 0,{willReadFrequently:!0})),TN.clearRect(0,0,1,1);try{TN.drawImage(t,e,n,1,1,0,0,1,1),i=TN.getImageData(0,0,1,1).data}catch(r){return TN=null,null}return i}getBackground(t){let e=this.getLayer().getBackground();return"function"==typeof e&&(e=e(t.viewState.resolution)),e||void 0}useContainer(t,e,n){const i=this.getLayer().getClassName();let r,o;if(t&&t.className===i&&(!n||t&&t.style.backgroundColor&&tP(qO(t.style.backgroundColor),qO(n)))){const e=t.firstElementChild;e instanceof HTMLCanvasElement&&(o=e.getContext("2d"))}if(o&&o.canvas.style.transform===e?(this.container=t,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){r=document.createElement("div"),r.className=i;let t=r.style;t.position="absolute",t.width="100%",t.height="100%",o=sF();const e=o.canvas;r.appendChild(e),t=e.style,t.position="absolute",t.left="0",t.transformOrigin="top left",this.container=r,this.context=o}this.containerReused||!n||this.container.style.backgroundColor||(this.container.style.backgroundColor=n)}clipUnrotated(t,e,n){const i=bR(n),r=wR(n),o=pR(n),s=fR(n);DP(e.coordinateToPixelTransform,i),DP(e.coordinateToPixelTransform,r),DP(e.coordinateToPixelTransform,o),DP(e.coordinateToPixelTransform,s);const a=this.inversePixelTransform;DP(a,i),DP(a,r),DP(a,o),DP(a,s),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.clip()}prepareContainer(t,e){const n=t.extent,i=t.viewState.resolution,r=t.viewState.rotation,o=t.pixelRatio,s=Math.round(SR(n)/i*o),a=Math.round(_R(n)/i*o);zP(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/o,1/o,r,-s/2,-a/2),$P(this.inversePixelTransform,this.pixelTransform);const l="matrix("+this.pixelTransform.map(((t,e)=>Math.round(t*BP[e])/BP[e])).join(", ")+")";if(this.useContainer(e,l,this.getBackground(t)),!this.containerReused){const t=this.context.canvas;t.width!=s||t.height!=a?(t.width=s,t.height=a):this.context.clearRect(0,0,s,a),l!==t.style.transform&&(t.style.transform=l)}}dispatchRenderEvent_(t,e,n){const i=this.getLayer();if(i.hasListener(t)){const r=new CN(t,this.inversePixelTransform,n,e);i.dispatchEvent(r)}}preRender(t,e){this.frameState=e,e.declutter||this.dispatchRenderEvent_(EO,t,e)}postRender(t,e){e.declutter||this.dispatchRenderEvent_(CO,t,e)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new MN),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(EO,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(CO,this.context,t))}getRenderTransform(t,e,n,i,r,o,s){const a=r/2,l=o/2,u=i/e,c=-u,h=-t[0]+s,d=-t[1];return zP(this.tempTransform,a,l,u,c,-n,h,d)}disposeInternal(){delete this.frameState,super.disposeInternal()}}function RN(t,e,n,i,r,o,s,a,l,u,c,h){let d=t[e],f=t[e+1],p=0,g=0,m=0,y=0;function v(){p=d,g=f,d=t[e+=i],f=t[e+1],y+=m,m=Math.sqrt((d-p)*(d-p)+(f-g)*(f-g))}do{v()}while(e<n-i&&y+m<o);let _=0===m?0:(o-y)/m;const x=JR(p,d,_),b=JR(g,f,_),w=e-i,S=y,E=o+a*l(u,r,c);for(;e<n-i&&y+m<E;)v();_=0===m?0:(E-y)/m;const C=JR(p,d,_),M=JR(g,f,_);let k;if(h){const t=[x,b,C,M];AI(t,0,4,2,h,t,t),k=t[0]>t[2]}else k=x>C;const T=Math.PI,P=[],R=w+i===e;let I;if(m=0,y=S,d=t[e=w],f=t[e+1],R){v(),I=Math.atan2(f-g,d-p),k&&(I+=I>0?-T:T);const t=(C+x)/2,e=(M+b)/2;return P[0]=[t,e,(E-o)/2,I,r],P}for(let O=0,F=(r=r.replace(/\n/g," ")).length;O<F;){v();let t=Math.atan2(f-g,d-p);if(k&&(t+=t>0?-T:T),void 0!==I){let e=t-I;if(e+=e>T?-2*T:e<-T?2*T:0,Math.abs(e)>s)return null}I=t;const h=O;let x=0;for(;O<F;++O){const t=a*l(u,r[k?F-O-1:O],c);if(e+i<n&&y+m<o+x+t/2)break;x+=t}if(O===h)continue;const b=k?r.substring(F-h,F-O):r.substring(h,O);_=0===m?0:(o+x/2-y)/m;const w=JR(p,d,_),S=JR(g,f,_);P.push([w,S,x/2,t,b]),o+=x}return P}const IN=[1/0,1/0,-1/0,-1/0],ON=[],FN=[],LN=[],AN=[];function jN(t){return t[3].declutterBox}const NN=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function DN(t,e){return"start"===e?e=NN.test(t)?"right":"left":"end"===e&&(e=NN.test(t)?"left":"right"),bN[e]}function zN(t,e,n){return n>0&&t.push("\n",""),t.push(e,""),t}class $N{constructor(t,e,n,i,r){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.alignAndScaleFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=r?new MN:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,e,n,i){const r=t+e+n+i;if(this.labels_[r])return this.labels_[r];const o=i?this.strokeStates[i]:null,s=n?this.fillStates[n]:null,a=this.textStates[e],l=this.pixelRatio,u=[a.scale[0]*l,a.scale[1]*l],c=Array.isArray(t),h=a.justify?bN[a.justify]:DN(Array.isArray(t)?t[0]:t,a.textAlign||GF),d=i&&o.lineWidth?o.lineWidth:0,f=c?t:t.split("\n").reduce(zN,[]),{width:p,height:g,widths:m,heights:y,lineWidths:v}=function(t,e){const n=[],i=[],r=[];let o=0,s=0,a=0,l=0;for(let u=0,c=e.length;u<=c;u+=2){const h=e[u];if("\n"===h||u===c){o=Math.max(o,s),r.push(s),s=0,a+=l,l=0;continue}const d=e[u+1]||t.font,f=QF(d,h);n.push(f),s+=f;const p=YF(d);i.push(p),l=Math.max(l,p)}return{width:o,height:a,widths:n,heights:i,lineWidths:r}}(a,f),_=p+d,x=[],b=(_+2)*u[0],w=(g+d)*u[1],S={width:b<0?Math.floor(b):Math.ceil(b),height:w<0?Math.floor(w):Math.ceil(w),contextInstructions:x};1==u[0]&&1==u[1]||x.push("scale",u),i&&(x.push("strokeStyle",o.strokeStyle),x.push("lineWidth",d),x.push("lineCap",o.lineCap),x.push("lineJoin",o.lineJoin),x.push("miterLimit",o.miterLimit),x.push("setLineDash",[o.lineDash]),x.push("lineDashOffset",o.lineDashOffset)),n&&x.push("fillStyle",s.fillStyle),x.push("textBaseline","middle"),x.push("textAlign","center");const E=.5-h;let C=h*_+E*d;const M=[],k=[];let T,P=0,R=0,I=0,O=0;for(let F=0,L=f.length;F<L;F+=2){const t=f[F];if("\n"===t){R+=P,P=0,C=h*_+E*d,++O;continue}const e=f[F+1]||a.font;e!==T&&(i&&M.push("font",e),n&&k.push("font",e),T=e),P=Math.max(P,y[I]);const r=[t,C+E*m[I]+h*(m[I]-v[O]),.5*(d+P)+R];C+=m[I],i&&M.push("strokeText",r),n&&k.push("fillText",r),++I}return Array.prototype.push.apply(x,M),Array.prototype.push.apply(x,k),this.labels_[r]=S,S}replayTextBackground_(t,e,n,i,r,o,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignAndScaleFill_=o[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())}calculateImageOrLabelDimensions_(t,e,n,i,r,o,s,a,l,u,c,h,d,f,p,g){let m=n-(s*=h[0]),y=i-(a*=h[1]);const v=r+l>t?t-l:r,_=o+u>e?e-u:o,x=f[3]+v*h[0]+f[1],b=f[0]+_*h[1]+f[2],w=m-f[3],S=y-f[0];let E;return(p||0!==c)&&(ON[0]=w,AN[0]=w,ON[1]=S,FN[1]=S,FN[0]=w+x,LN[0]=FN[0],LN[1]=S+b,AN[1]=LN[1]),0!==c?(E=zP([1,0,0,1,0,0],n,i,1,1,c,-n,-i),DP(E,ON),DP(E,FN),DP(E,LN),DP(E,AN),nR(Math.min(ON[0],FN[0],LN[0],AN[0]),Math.min(ON[1],FN[1],LN[1],AN[1]),Math.max(ON[0],FN[0],LN[0],AN[0]),Math.max(ON[1],FN[1],LN[1],AN[1]),IN)):nR(Math.min(w,w+x),Math.min(S,S+b),Math.max(w,w+x),Math.max(S,S+b),IN),d&&(m=Math.round(m),y=Math.round(y)),{drawImageX:m,drawImageY:y,drawImageW:v,drawImageH:_,originX:l,originY:u,declutterBox:{minX:IN[0],minY:IN[1],maxX:IN[2],maxY:IN[3],value:g},canvasTransform:E,scale:h}}replayImageOrLabel_(t,e,n,i,r,o,s){const a=!(!o&&!s),l=i.declutterBox,u=s?s[2]*i.scale[0]/2:0;return l.minX-u<=e[0]&&l.maxX+u>=0&&l.minY-u<=e[1]&&l.maxY+u>=0&&(a&&this.replayTextBackground_(t,ON,FN,LN,AN,o,s),eL(t,i.canvasTransform,r,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}fill_(t){const e=this.alignAndScaleFill_;if(e){const n=DP(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.save(),t.translate(n[0]%i,n[1]%i),1!==e&&t.scale(e,e),t.rotate(this.viewRotation_)}t.fill(),e&&t.restore()}setStrokeStyle_(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.lineDashOffset=e[7],t.setLineDash(e[6])}drawLabelWithPointPlacement_(t,e,n,i){const r=this.textStates[e],o=this.createLabel(t,e,i,n),s=this.strokeStates[n],a=this.pixelRatio,l=DN(Array.isArray(t)?t[0]:t,r.textAlign||GF),u=bN[r.textBaseline||UF],c=s&&s.lineWidth?s.lineWidth:0;return{label:o,anchorX:l*(o.width/a-2*r.scale[0])+2*(.5-l)*c,anchorY:u*o.height/a+2*(.5-u)*c}}execute_(t,e,n,i,r,o,s,a){const l=this.zIndexContext_;let u;this.pixelCoordinates_&&tP(n,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=LI(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),function(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5]}(this.renderedTransform_,n));let c=0;const h=i.length;let d,f,p,g,m,y,v,_,x,b,w,S,E,C=0,M=0,k=0,T=null,P=null;const R=this.coordinateCache_,I=this.viewRotation_,O=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,F={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:I},L=this.instructions!=i||this.overlaps?0:200;let A,j,N,D;for(;c<h;){const n=i[c];switch(n[0]){case Qj:A=n[1],D=n[3],A.getGeometry()?void 0===s||ER(s,D.getExtent())?++c:c=n[2]+1:c=n[2],l&&(l.zIndex=n[4]);break;case tN:M>L&&(this.fill_(t),M=0),k>L&&(t.stroke(),k=0),M||k||(t.beginPath(),m=NaN,y=NaN),++c;break;case eN:C=n[1];const i=u[C],h=u[C+1],z=u[C+2]-i,$=u[C+3]-h,B=Math.sqrt(z*z+$*$);t.moveTo(i+B,h),t.arc(i,h,B,0,2*Math.PI,!0),++c;break;case nN:t.closePath(),++c;break;case iN:C=n[1],d=n[2];const W=n[3],G=n[4],U=n[5];F.geometry=W,F.feature=A,c in R||(R[c]=[]);const H=R[c];U?U(u,C,d,2,H):(H[0]=u[C],H[1]=u[C+1],H.length=2),l&&(l.zIndex=n[6]),G(H,F),++c;break;case oN:C=n[1],d=n[2],x=n[3],f=n[4],p=n[5];let V=n[6];const q=n[7],X=n[8],K=n[9],Z=n[10];let Y=n[11];const J=n[12];let Q=n[13];g=n[14]||"declutter";const tt=n[15];if(!x&&n.length>=20){b=n[19],w=n[20],S=n[21],E=n[22];const t=this.drawLabelWithPointPlacement_(b,w,S,E);x=t.label,n[3]=x;const e=n[23];f=(t.anchorX-e)*this.pixelRatio,n[4]=f;const i=n[24];p=(t.anchorY-i)*this.pixelRatio,n[5]=p,V=x.height,n[6]=V,Q=x.width,n[13]=Q}let et,nt,it,rt;n.length>25&&(et=n[25]),n.length>17?(nt=n[16],it=n[17],rt=n[18]):(nt=HF,it=!1,rt=!1),Z&&O?Y+=I:Z||O||(Y-=I);let ot=0;for(;C<d;C+=2){if(et&&et[ot++]<Q/this.pixelRatio)continue;const n=this.calculateImageOrLabelDimensions_(x.width,x.height,u[C],u[C+1],Q,V,f,p,X,K,Y,J,r,nt,it||rt,A),i=[t,e,x,n,q,it?T:null,rt?P:null];if(a){let t,e,r,o,s;if(tt){const n=d-C;if(!tt[n]){tt[n]={args:i,declutterMode:g};continue}const o=tt[n];t=o.args,e=o.declutterMode,delete tt[n],r=jN(t)}if(!t||"declutter"===e&&a.collides(r)||(o=!0),"declutter"===g&&a.collides(n.declutterBox)||(s=!0),"declutter"===e&&"declutter"===g){const t=o&&s;o=t,s=t}o&&("none"!==e&&a.insert(r),this.replayImageOrLabel_.apply(this,t)),s&&("none"!==g&&a.insert(n.declutterBox),this.replayImageOrLabel_.apply(this,i))}else this.replayImageOrLabel_.apply(this,i)}++c;break;case rN:const st=n[1],at=n[2],lt=n[3],ut=n[4];E=n[5];const ct=n[6],ht=n[7],dt=n[8];S=n[9];const ft=n[10];b=n[11],w=n[12];const pt=[n[13],n[13]];g=n[14]||"declutter";const gt=this.textStates[w],mt=gt.font,yt=[gt.scale[0]*ht,gt.scale[1]*ht];let vt;mt in this.widths_?vt=this.widths_[mt]:(vt={},this.widths_[mt]=vt);const _t=SF(u,st,at,2),xt=Math.abs(yt[0])*tL(mt,b,vt);if(ut||xt<=_t){const n=RN(u,st,at,2,b,(_t-xt)*DN(b,this.textStates[w].textAlign),ct,Math.abs(yt[0]),tL,mt,vt,O?0:this.viewRotation_);t:if(n){const i=[];let r,o,s,l,u;if(S)for(r=0,o=n.length;r<o;++r){u=n[r],s=u[4],l=this.createLabel(s,w,"",S),f=u[2]+(yt[0]<0?-ft:ft),p=lt*l.height+2*(.5-lt)*ft*yt[1]/yt[0]-dt;const o=this.calculateImageOrLabelDimensions_(l.width,l.height,u[0],u[1],l.width,l.height,f,p,0,0,u[3],pt,!1,HF,!1,A);if(a&&"declutter"===g&&a.collides(o.declutterBox))break t;i.push([t,e,l,o,1,null,null])}if(E)for(r=0,o=n.length;r<o;++r){u=n[r],s=u[4],l=this.createLabel(s,w,E,""),f=u[2],p=lt*l.height-dt;const o=this.calculateImageOrLabelDimensions_(l.width,l.height,u[0],u[1],l.width,l.height,f,p,0,0,u[3],pt,!1,HF,!1,A);if(a&&"declutter"===g&&a.collides(o.declutterBox))break t;i.push([t,e,l,o,1,null,null])}a&&"none"!==g&&a.load(i.map(jN));for(let t=0,e=i.length;t<e;++t)this.replayImageOrLabel_.apply(this,i[t])}}++c;break;case sN:if(void 0!==o){A=n[1];const t=o(A,D,g);if(t)return t}++c;break;case aN:L?M++:this.fill_(t),++c;break;case lN:for(C=n[1],d=n[2],j=u[C],N=u[C+1],t.moveTo(j,N),m=j+.5|0,y=N+.5|0,C+=2;C<d;C+=2)j=u[C],N=u[C+1],v=j+.5|0,_=N+.5|0,C!=d-2&&v===m&&_===y||(t.lineTo(j,N),m=v,y=_);++c;break;case uN:T=n,this.alignAndScaleFill_=n[2],M&&(this.fill_(t),M=0,k&&(t.stroke(),k=0)),t.fillStyle=n[1],++c;break;case cN:P=n,k&&(t.stroke(),k=0),this.setStrokeStyle_(t,n),++c;break;case hN:L?k++:t.stroke(),++c;break;default:++c}}M&&this.fill_(t),k&&t.stroke()}execute(t,e,n,i,r,o){this.viewRotation_=i,this.execute_(t,e,n,this.instructions,r,void 0,void 0,o)}executeHitDetection(t,e,n,i,r){return this.viewRotation_=n,this.execute_(t,[t.canvas.width,t.canvas.height],e,this.hitDetectionInstructions,!0,i,r)}}const BN=["Polygon","Circle","LineString","Image","Text","Default"],WN=["Image","Text"],GN=BN.filter((t=>!WN.includes(t)));class UN{constructor(t,e,n,i,r,o,s){this.maxExtent_=t,this.overlaps_=i,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(r,s)}clip(t,e){const n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()}createExecutors_(t,e){for(const n in t){let i=this.executorsByZIndex_[n];void 0===i&&(i={},this.executorsByZIndex_[n]=i);const r=t[n];for(const t in r){const n=r[t];i[t]=new $N(this.resolution_,this.pixelRatio_,this.overlaps_,n,e)}}}hasExecutors(t){for(const e in this.executorsByZIndex_){const n=this.executorsByZIndex_[e];for(let e=0,i=t.length;e<i;++e)if(t[e]in n)return!0}return!1}forEachFeatureAtCoordinate(t,e,n,i,r,o){const s=2*(i=Math.round(i))+1,a=zP(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=sF(s,s,void 0,{willReadFrequently:!0}));const u=this.hitDetectionContext_;let c;u.canvas.width!==s||u.canvas.height!==s?(u.canvas.width=s,u.canvas.height=s):l||u.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(c=[1/0,1/0,-1/0,-1/0],lR(c,t),KP(c,e*(this.renderBuffer_+i),c));const h=function(t){if(void 0!==HN[t])return HN[t];const e=2*t+1,n=t*t,i=new Array(n+1);for(let o=0;o<=t;++o)for(let r=0;r<=t;++r){const s=o*o+r*r;if(s>n)break;let a=i[s];a||(a=[],i[s]=a),a.push(4*((t+o)*e+(t+r))+3),o>0&&a.push(4*((t-o)*e+(t+r))+3),r>0&&(a.push(4*((t+o)*e+(t-r))+3),o>0&&a.push(4*((t-o)*e+(t-r))+3))}const r=[];for(let o=0,s=i.length;o<s;++o)i[o]&&r.push(...i[o]);return HN[t]=r,r}(i);let d;function f(t,e,n){const a=u.getImageData(0,0,s,s).data;for(let l=0,c=h.length;l<c;l++)if(a[h[l]]>0){if(!o||"none"===n||"Image"!==d&&"Text"!==d||o.includes(t)){const n=(h[l]-3)/4,o=i-n%s,a=i-(n/s|0),u=r(t,e,o*o+a*a);if(u)return u}u.clearRect(0,0,s,s);break}}const p=Object.keys(this.executorsByZIndex_).map(Number);let g,m,y,v,_;for(p.sort(ZT),g=p.length-1;g>=0;--g){const t=p[g].toString();for(y=this.executorsByZIndex_[t],m=BN.length-1;m>=0;--m)if(d=BN[m],v=y[d],void 0!==v&&(_=v.executeHitDetection(u,a,n,f,c),_))return _}}getClipCoords(t){const e=this.maxExtent_;if(!e)return null;const n=e[0],i=e[1],r=e[2],o=e[3],s=[n,i,n,o,r,o,r,i];return LI(s,0,8,2,t,s),s}isEmpty(){return aP(this.executorsByZIndex_)}execute(t,e,n,i,r,o,s){const a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(ZT),o=o||BN;const l=BN.length;let u,c,h,d,f;for(s&&a.reverse(),u=0,c=a.length;u<c;++u){const c=a[u].toString();for(f=this.executorsByZIndex_[c],h=0,d=o.length;h<d;++h){const c=o[h],d=f[c];if(void 0!==d){const o=null===s?void 0:d.getZIndexContext(),f=o?o.getContext():t,p=this.maxExtent_&&"Image"!==c&&"Text"!==c;if(p&&(f.save(),this.clip(f,n)),o&&"Text"!==c&&"Image"!==c?o.pushFunction((t=>d.execute(t,e,n,i,r,s))):d.execute(f,e,n,i,r,s),p&&f.restore(),o){o.offset();const t=a[u]*l+h;this.deferredZIndexContexts_[t]||(this.deferredZIndexContexts_[t]=[]),this.deferredZIndexContexts_[t].push(o)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const t=this.deferredZIndexContexts_,e=Object.keys(t).map(Number).sort(ZT);for(let n=0,i=e.length;n<i;++n)t[e[n]].forEach((t=>{t.draw(this.renderedContext_),t.clear()})),t[e[n]].length=0}}const HN={};class VN extends mN{constructor(t,e,n,i,r,o,s){super(),this.context_=t,this.pixelRatio_=e,this.extent_=n,this.transform_=i,this.transformRotation_=i?QR(Math.atan2(i[1],i[0]),10):0,this.viewRotation_=r,this.squaredTolerance_=o,this.userTransform_=s,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=[1,0,0,1,0,0]}drawImages_(t,e,n,i){if(!this.image_)return;const r=LI(t,e,n,i,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);let l=this.imageRotation_;0===this.transformRotation_&&(l-=this.viewRotation_),this.imageRotateWithView_&&(l+=this.viewRotation_);for(let u=0,c=r.length;u<c;u+=2){const t=r[u]-this.imageAnchorX_,e=r[u+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const n=t+this.imageAnchorX_,i=e+this.imageAnchorY_;zP(s,n,i,1,1,l,-n,-i),o.save(),o.transform.apply(o,s),o.translate(n,i),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.restore()}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,t,e,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=a)}drawText_(t,e,n,i){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const r=LI(t,e,n,i,this.transform_,this.pixelCoordinates_),o=this.context_;let s=this.textRotation_;for(0===this.transformRotation_&&(s-=this.viewRotation_),this.textRotateWithView_&&(s+=this.viewRotation_);e<n;e+=i){const t=r[e]+this.textOffsetX_,n=r[e+1]+this.textOffsetY_;0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]?(o.save(),o.translate(t-this.textOffsetX_,n-this.textOffsetY_),o.rotate(s),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.restore()):(this.textStrokeState_&&o.strokeText(this.text_,t,n),this.textFillState_&&o.fillText(this.text_,t,n))}}moveToLineTo_(t,e,n,i,r){const o=this.context_,s=LI(t,e,n,i,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);let a=s.length;r&&(a-=2);for(let l=2;l<a;l+=2)o.lineTo(s[l],s[l+1]);return r&&o.closePath(),n}drawRings_(t,e,n,i){for(let r=0,o=n.length;r<o;++r)e=this.moveToLineTo_(t,e,n[r],i,!0);return e}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),ER(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=function(t,e,n){const i=t.getFlatCoordinates();if(!i)return null;const r=t.getStride();return LI(i,0,i.length,r,e,n)}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],r=Math.sqrt(n*n+i*i),o=this.context_;o.beginPath(),o.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t)}}drawFeature(t,e){const n=e.getGeometryFunction()(t);n&&(this.setStyle(e),this.drawGeometry(n))}drawGeometryCollection(t){const e=t.getGeometriesArray();for(let n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),ER(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoint();this.drawText_(e,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getExtent();if(ER(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getFlatCoordinates();let i=0;const r=t.getEnds(),o=t.getStride();e.beginPath();for(let t=0,s=r.length;t<s;++t)i=this.moveToLineTo_(n,i,r[t],o,!1);e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoints();this.drawText_(e,0,e.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),ER(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoint();this.drawText_(e,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),ER(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getOrientedFlatCoordinates();let i=0;const r=t.getEndss(),o=t.getStride();e.beginPath();for(let t=0,s=r.length;t<s;++t){const e=r[t];i=this.drawRings_(n,i,e,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoints();this.drawText_(e,0,e.length,2)}}}setContextFillState_(t){const e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),tP(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:GF;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=i&&(n.textAlign=i,e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})}setFillStrokeStyle(t,e){if(t){const e=t.getColor();this.fillState_={fillStyle:PF(e||DF)}}else this.fillState_=null;if(e){const t=e.getColor(),n=e.getLineCap(),i=e.getLineDash(),r=e.getLineDashOffset(),o=e.getLineJoin(),s=e.getWidth(),a=e.getMiterLimit(),l=i||$F;this.strokeState_={lineCap:void 0!==n?n:zF,lineDash:1===this.pixelRatio_?l:l.map((t=>t*this.pixelRatio_)),lineDashOffset:(r||0)*this.pixelRatio_,lineJoin:void 0!==o?o:BF,lineWidth:(void 0!==s?s:1)*this.pixelRatio_,miterLimit:void 0!==a?a:10,strokeStyle:PF(t||WF)}}else this.strokeState_=null}setImageStyle(t){let e;if(!t||!(e=t.getSize()))return void(this.image_=null);const n=t.getPixelRatio(this.pixelRatio_),i=t.getAnchor(),r=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*n,this.imageAnchorY_=i[1]*n,this.imageHeight_=e[1]*n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const o=t.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/n,o[1]*this.pixelRatio_/n],this.imageWidth_=e[0]*n}setTextStyle(t){if(t){const e=t.getFill();if(e){const t=e.getColor();this.textFillState_={fillStyle:PF(t||DF)}}else this.textFillState_=null;const n=t.getStroke();if(n){const t=n.getColor(),e=n.getLineCap(),i=n.getLineDash(),r=n.getLineDashOffset(),o=n.getLineJoin(),s=n.getWidth(),a=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==e?e:zF,lineDash:i||$F,lineDashOffset:r||0,lineJoin:void 0!==o?o:BF,lineWidth:void 0!==s?s:1,miterLimit:void 0!==a?a:10,strokeStyle:PF(t||WF)}}else this.textStrokeState_=null;const i=t.getFont(),r=t.getOffsetX(),o=t.getOffsetY(),s=t.getRotateWithView(),a=t.getRotation(),l=t.getScaleArray(),u=t.getText(),c=t.getTextAlign(),h=t.getTextBaseline();this.textState_={font:void 0!==i?i:NF,textAlign:void 0!==c?c:GF,textBaseline:void 0!==h?h:UF},this.text_=void 0!==u?Array.isArray(u)?u.reduce(((t,e,n)=>t+(n%2?" ":e)),""):u:"",this.textOffsetX_=void 0!==r?this.pixelRatio_*r:0,this.textOffsetY_=void 0!==o?this.pixelRatio_*o:0,this.textRotateWithView_=void 0!==s&&s,this.textRotation_=void 0!==a?a:0,this.textScale_=[this.pixelRatio_*l[0],this.pixelRatio_*l[1]]}else this.text_=""}}const qN=.5,XN={Point:function(t,e,n,i,r,o){const s=n.getImage(),a=n.getText(),l=a&&a.getText(),u=o&&s&&l?{}:void 0;if(s){if(s.getImageState()!=IO)return;const o=t.getBuilder(n.getZIndex(),"Image");o.setImageStyle(s,u),o.drawPoint(e,i,r)}if(l){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a,u),o.drawText(e,i,r)}},LineString:function(t,e,n,i,r){const o=n.getStroke();if(o){const s=t.getBuilder(n.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawLineString(e,i,r)}const s=n.getText();if(s&&s.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(s),o.drawText(e,i,r)}},Polygon:function(t,e,n,i,r){const o=n.getFill(),s=n.getStroke();if(o||s){const a=t.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawPolygon(e,i,r)}const a=n.getText();if(a&&a.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,i,r)}},MultiPoint:function(t,e,n,i,r,o){const s=n.getImage(),a=s&&0!==s.getOpacity(),l=n.getText(),u=l&&l.getText(),c=o&&a&&u?{}:void 0;if(a){if(s.getImageState()!=IO)return;const o=t.getBuilder(n.getZIndex(),"Image");o.setImageStyle(s,c),o.drawMultiPoint(e,i,r)}if(u){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(l,c),o.drawText(e,i,r)}},MultiLineString:function(t,e,n,i,r){const o=n.getStroke();if(o){const s=t.getBuilder(n.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawMultiLineString(e,i,r)}const s=n.getText();if(s&&s.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(s),o.drawText(e,i,r)}},MultiPolygon:function(t,e,n,i,r){const o=n.getFill(),s=n.getStroke();if(s||o){const a=t.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawMultiPolygon(e,i,r)}const a=n.getText();if(a&&a.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,i,r)}},GeometryCollection:function(t,e,n,i,r,o){const s=e.getGeometriesArray();let a,l;for(a=0,l=s.length;a<l;++a)(0,XN[s[a].getType()])(t,s[a],n,i,r,o)},Circle:function(t,e,n,i,r){const o=n.getFill(),s=n.getStroke();if(o||s){const a=t.getBuilder(n.getZIndex(),"Circle");a.setFillStrokeStyle(o,s),a.drawCircle(e,i,r)}const a=n.getText();if(a&&a.getText()){const r=t.getBuilder(n.getZIndex(),"Text");r.setTextStyle(a),r.drawText(e,i)}}};function KN(t,e){return parseInt(MP(t),10)-parseInt(MP(e),10)}function ZN(t,e){const n=YN(t,e);return n*n}function YN(t,e){return.5*t/e}function JN(t,e,n,i,r,o,s,a){const l=[],u=n.getImage();if(u){let t=!0;const e=u.getImageState();e==IO||e==OO?t=!1:e==PO&&u.load(),t&&l.push(u.ready())}const c=n.getFill();c&&c.loading()&&l.push(c.ready());const h=l.length>0;return h&&Promise.all(l).then((()=>r(null))),function(t,e,n,i,r,o,s){const a=n.getGeometryFunction()(e);if(!a)return;const l=a.simplifyTransformed(i,r),u=n.getRenderer();u?QN(t,l,n,e,s):(0,XN[l.getType()])(t,l,n,e,s,o)}(t,e,n,i,o,s,a),h}function QN(t,e,n,i,r){if("GeometryCollection"!=e.getType())t.getBuilder(n.getZIndex(),"Default").drawCustom(e,i,n.getRenderer(),n.getHitDetectionRenderer(),r);else{const o=e.getGeometries();for(let e=0,s=o.length;e<s;++e)QN(t,o[e],n,i,r)}}class tD extends PN{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=[1/0,1/0,-1/0,-1/0],this.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(t,e,n){const i=e.extent,r=e.viewState,o=r.center,s=r.resolution,a=r.projection,l=r.rotation,u=a.getExtent(),c=this.getLayer().getSource(),h=this.getLayer().getDeclutter(),d=e.pixelRatio,f=e.viewHints,p=!(f[xL]||f[bL]),g=this.context,m=Math.round(SR(i)/s*d),y=Math.round(_R(i)/s*d),v=c.getWrapX()&&a.canWrapX(),_=v?SR(u):null,x=v?Math.ceil((i[2]-u[2])/_)+1:1;let b=v?Math.floor((i[0]-u[0])/_):0;do{let i=this.getRenderTransform(o,s,0,d,m,y,b*_);e.declutter&&(i=i.slice(0)),t.execute(g,[g.canvas.width,g.canvas.height],i,l,p,void 0===n?BN:n?WN:GN,n?h&&e.declutter[h]:void 0)}while(++b<x)}setDrawContext_(){1!==this.opacity_&&(this.targetContext_=this.context,this.context=sF(this.context.canvas.width,this.context.canvas.height,kN))}resetDrawContext_(){if(1!==this.opacity_){const t=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=t,uF(this.context),kN.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(t){this.replayGroup_&&this.getLayer().getDeclutter()&&this.renderWorlds(this.replayGroup_,t,!0)}renderDeferredInternal(t){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(t,e){const n=t.layerStatesArray[t.layerIndex];this.opacity_=n.opacity;const i=t.viewState;this.prepareContainer(t,e);const r=this.context,o=this.replayGroup_;let s=o&&!o.isEmpty();if(!s&&!this.getLayer().hasListener(EO)&&!this.getLayer().hasListener(CO))return null;if(this.setDrawContext_(),this.preRender(r,t),i.projection,this.clipped_=!1,s&&n.extent&&this.clipping){const e=PI(n.extent);s=ER(e,t.extent),this.clipped_=s&&!QP(e,t.extent),this.clipped_&&this.clipUnrotated(r,t,e)}return s&&this.renderWorlds(o,t,!this.getLayer().getDeclutter()&&void 0),!t.declutter&&this.clipped_&&r.restore(),this.postRender(r,t),this.renderedRotation_!==i.rotation&&(this.renderedRotation_=i.rotation,this.hitDetectionImageData_=null),t.declutter||this.resetDrawContext_(),this.container}getFeatures(t){return new Promise((e=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const t=this.frameState.size.slice(),e=this.renderedCenter_,n=this.renderedResolution_,i=this.renderedRotation_,r=this.renderedProjection_,o=this.wrappedRenderedExtent_,s=this.getLayer(),a=[],l=t[0]*qN,u=t[1]*qN;a.push(this.getRenderTransform(e,n,i,qN,l,u,0).slice());const c=s.getSource(),h=r.getExtent();if(c.getWrapX()&&r.canWrapX()&&!QP(h,o)){let t=o[0];const r=SR(h);let s,c=0;for(;t<h[0];)--c,s=r*c,a.push(this.getRenderTransform(e,n,i,qN,l,u,s).slice()),t+=r;for(c=0,t=o[2];t>h[2];)++c,s=r*c,a.push(this.getRenderTransform(e,n,i,qN,l,u,s).slice()),t-=r}this.hitDetectionImageData_=function(t,e,n,i,r,o,s,a){const l=r,u=sF(t[0]*qN,t[1]*qN);u.imageSmoothingEnabled=!1;const c=u.canvas,h=new VN(u,qN,r,null,s,a,null),d=n.length,f=Math.floor(16777215/d),p={};for(let m=1;m<=d;++m){const t=n[m-1],e=t.getStyleFunction()||i;if(!e)continue;let r=e(t,o);if(!r)continue;Array.isArray(r)||(r=[r]);const s=(m*f).toString(16).padStart(7,"#00000");for(let n=0,i=r.length;n<i;++n){const e=r[n],i=e.getGeometryFunction()(t);if(!i||!ER(l,i.getExtent()))continue;const o=e.clone(),a=o.getFill();a&&a.setColor(s);const u=o.getStroke();u&&(u.setColor(s),u.setLineDash(null)),o.setText(void 0);const c=e.getImage();if(c){const t=c.getImageSize();if(!t)continue;const e=sF(t[0],t[1],void 0,{alpha:!1}),n=e.canvas;e.fillStyle=s,e.fillRect(0,0,n.width,n.height),o.setImage(new aA({img:n,anchor:c.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:c.getOrigin(),opacity:1,size:c.getSize(),scale:c.getScale(),rotation:c.getRotation(),rotateWithView:c.getRotateWithView()}))}const h=o.getZIndex()||0;let d=p[h];d||(d={},p[h]=d,d.Polygon=[],d.Circle=[],d.LineString=[],d.Point=[]);const f=i.getType();if("GeometryCollection"===f){const t=i.getGeometriesArrayRecursive();for(let e=0,n=t.length;e<n;++e){const n=t[e];d[n.getType().replace("Multi","")].push(n,o)}}else d[f.replace("Multi","")].push(i,o)}}const g=Object.keys(p).map(Number).sort(ZT);for(let m=0,y=g.length;m<y;++m){const t=p[g[m]];for(const n in t){const i=t[n];for(let t=0,n=i.length;t<n;t+=2){h.setStyle(i[t+1]);for(let n=0,r=e.length;n<r;++n)h.setTransform(e[n]),h.drawGeometry(i[t])}}}return u.getImageData(0,0,c.width,c.height)}(t,a,this.renderedFeatures_,s.getStyleFunction(),o,n,i,ZN(n,this.renderedPixelRatio_))}e(function(t,e,n){const i=[];if(n){const r=Math.floor(Math.round(t[0])*qN),o=Math.floor(Math.round(t[1])*qN),s=4*(qR(r,0,n.width-1)+qR(o,0,n.height-1)*n.width),a=n.data[s],l=n.data[s+1],u=n.data[s+2]+256*(l+256*a),c=Math.floor(16777215/e.length);u&&u%c==0&&i.push(e[u/c-1])}return i}(t,this.renderedFeatures_,this.hitDetectionImageData_))}))}forEachFeatureAtCoordinate(t,e,n,i,r){if(!this.replayGroup_)return;const o=e.viewState.resolution,s=e.viewState.rotation,a=this.getLayer(),l={},u=function(t,e,n){const o=MP(t),s=l[o];if(s){if(!0!==s&&n<s.distanceSq){if(0===n)return l[o]=!0,r.splice(r.lastIndexOf(s),1),i(t,a,e);s.geometry=e,s.distanceSq=n}}else{if(0===n)return l[o]=!0,i(t,a,e);r.push(l[o]={feature:t,layer:a,geometry:e,distanceSq:n,callback:i})}};let c;const h=[this.replayGroup_],d=this.getLayer().getDeclutter();return h.some((i=>c=i.forEachFeatureAtCoordinate(t,o,s,n,u,d&&e.declutter[d]?e.declutter[d].all().map((t=>t.value)):null))),c}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const e=this.getLayer(),n=e.getSource();if(!n)return!1;const i=t.viewHints[xL],r=t.viewHints[bL],o=e.getUpdateWhileAnimating(),s=e.getUpdateWhileInteracting();if(this.ready&&!o&&i||!s&&r)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const a=t.extent,l=t.viewState,u=l.projection,c=l.resolution,h=t.pixelRatio,d=e.getRevision(),f=e.getRenderBuffer();let p=e.getRenderOrder();void 0===p&&(p=KN);const g=l.center.slice(),m=KP(a,f*c),y=m.slice(),v=[m.slice()],_=u.getExtent();if(n.getWrapX()&&u.canWrapX()&&!QP(_,t.extent)){const t=SR(_),e=Math.max(SR(m)/2,t);m[0]=_[0]-e,m[2]=_[2]+e,lI(g,u);const n=MR(v[0],u);n[0]<_[0]&&n[2]<_[2]?v.push([n[0]+t,n[1],n[2]+t,n[3]]):n[0]>_[0]&&n[2]>_[2]&&v.push([n[0]-t,n[1],n[2]-t,n[3]])}if(this.ready&&this.renderedResolution_==c&&this.renderedRevision_==d&&this.renderedRenderOrder_==p&&this.renderedFrameDeclutter_===!!t.declutter&&QP(this.wrappedRenderedExtent_,m))return tP(this.renderedExtent_,y)||(this.hitDetectionImageData_=null,this.renderedExtent_=y),this.renderedCenter_=g,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const x=new SN(YN(c,h),m,c,h);for(let T=0,P=v.length;T<P;++T)n.loadFeatures(v[T],c,u);const b=ZN(c,h);let w=!0;const S=(t,n)=>{let i;const r=t.getStyleFunction()||e.getStyleFunction();if(r&&(i=r(t,c)),i){const e=this.renderFeature(t,b,i,x,void 0,this.getLayer().getDeclutter(),n);w=w&&!e}},E=TI(m),C=n.getFeaturesInExtent(E);p&&C.sort(p);for(let T=0,P=C.length;T<P;++T)S(C[T],T);this.renderedFeatures_=C,this.ready=w;const M=x.finish(),k=new UN(m,c,h,n.getOverlaps(),M,e.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=c,this.renderedRevision_=d,this.renderedRenderOrder_=p,this.renderedFrameDeclutter_=!!t.declutter,this.renderedExtent_=y,this.wrappedRenderedExtent_=m,this.renderedCenter_=g,this.renderedProjection_=u,this.renderedPixelRatio_=h,this.replayGroup_=k,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,e,n,i,r,o,s){if(!n)return!1;let a=!1;if(Array.isArray(n))for(let l=0,u=n.length;l<u;++l)a=JN(i,t,n[l],e,this.boundHandleStyleImageChange_,r,o,s)||a;else a=JN(i,t,n,e,this.boundHandleStyleImageChange_,r,o,s);return a}}let eD=class extends Jj{constructor(t){super(t)}createRenderer(){return new tD(this)}};class nD{constructor(t){this.rbush_=new HL(t),this.items_={}}insert(t,e){const n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[MP(e)]=n}load(t,e){const n=new Array(e.length);for(let i=0,r=e.length;i<r;i++){const r=t[i],o=e[i],s={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:o};n[i]=s,this.items_[MP(o)]=s}this.rbush_.load(n)}remove(t){const e=MP(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)}update(t,e){const n=this.items_[MP(e)];sR([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))}getAll(){return this.rbush_.all().map((function(t){return t.value}))}getInExtent(t){const e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,e){return this.forEach_(this.getInExtent(t),e)}forEach_(t,e){let n;for(let i=0,r=t.length;i<r;i++)if(n=e(t[i]),n)return n;return n}isEmpty(){return aP(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const e=this.rbush_.toJSON();return nR(e.minX,e.minY,e.maxX,e.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const e in t.items_)this.items_[e]=t.items_[e]}}class iD extends NI{constructor(t){super(),this.geometries_=t,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(bP),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const t=this.geometries_;for(let e=0,n=t.length;e<n;++e)this.changeEventsKeys_.push(_P(t[e],uP,this.changed,this))}clone(){const t=new iD(rD(this.geometries_));return t.applyProperties(this),t}closestPointXY(t,e,n,i){if(i<YP(this.getExtent(),t,e))return i;const r=this.geometries_;for(let o=0,s=r.length;o<s;++o)i=r[o].closestPointXY(t,e,n,i);return i}containsXY(t,e){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)if(n[i].containsXY(t,e))return!0;return!1}computeExtent(t){iR(t);const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)aR(t,e[n].getExtent());return t}getGeometries(){return rD(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let t=[];const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)e[n].getType()===this.getType()?t=t.concat(e[n].getGeometriesArrayRecursive()):t.push(e[n]);return t}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=[],n=this.geometries_;let i=!1;for(let r=0,o=n.length;r<o;++r){const o=n[r],s=o.getSimplifiedGeometry(t);e.push(s),s!==o&&(i=!0)}return i?new iD(e):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getType(){return"GeometryCollection"}intersectsExtent(t){const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)if(e[n].intersectsExtent(t))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(t,e){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)n[i].rotate(t,e);this.changed()}scale(t,e,n){n||(n=gR(this.getExtent()));const i=this.geometries_;for(let r=0,o=i.length;r<o;++r)i[r].scale(t,e,n);this.changed()}setGeometries(t){this.setGeometriesArray(rD(t))}setGeometriesArray(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()}applyTransform(t){const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)e[n].applyTransform(t);this.changed()}translate(t,e){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)n[i].translate(t,e);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function rD(t){return t.map((t=>t.clone()))}class oD extends DI{constructor(t,e,n){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(t[0]))this.setCoordinates(t,e);else if(void 0!==e&&n)this.setFlatCoordinates(e,t),this.ends_=n;else{const e=t,n=[],i=[];for(let t=0,o=e.length;t<o;++t)QT(n,e[t].getFlatCoordinates()),i.push(n.length);const r=0===e.length?this.getLayout():e[0].getLayout();this.setFlatCoordinates(r,n),this.ends_=i}}appendLineString(t){QT(this.flatCoordinates,t.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new oD(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,n,i){return i<YP(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(GI(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),HI(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,i))}getCoordinateAtM(t,e,n){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:(e=void 0!==e&&e,n=void 0!==n&&n,function(t,e,n,i,r,o,s){if(s)return wF(t,e,n[n.length-1],i,r,o);let a;if(r<t[i-1])return o?(a=t.slice(0,i),a[i-1]=r,a):null;if(t[t.length-1]<r)return o?(a=t.slice(t.length-i),a[i-1]=r,a):null;for(let l=0,u=n.length;l<u;++l){const o=n[l];if(e!=o){if(r<t[e+i-1])return null;if(r<=t[o-1])return wF(t,e,o,i,r,!1);e=o}}return null}(this.flatCoordinates,0,this.ends_,this.stride,t,e,n))}getCoordinates(){return eO(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(t){return t<0||this.ends_.length<=t?null:new EF(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLineStrings(){const t=this.flatCoordinates,e=this.ends_,n=this.layout,i=[];let r=0;for(let o=0,s=e.length;o<s;++o){const s=e[o],a=new EF(t.slice(r,s),n);i.push(a),r=s}return i}getFlatMidpoints(){const t=[],e=this.flatCoordinates;let n=0;const i=this.ends_,r=this.stride;for(let o=0,s=i.length;o<s;++o){const s=i[o];QT(t,bF(e,n,s,r,.5)),n=s}return t}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=ZI(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,n),new oD(e,"XY",n)}getType(){return"MultiLineString"}intersectsExtent(t){return function(t,e,n,i,r){for(let o=0,s=n.length;o<s;++o){if(fO(t,e,n[o],i,r))return!0;e=n[o]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=qI(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}class sD extends DI{constructor(t,e){super(),e&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}appendPoint(t){QT(this.flatCoordinates,t.getFlatCoordinates()),this.changed()}clone(){const t=new sD(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,i){if(i<YP(this.getExtent(),t,e))return i;const r=this.flatCoordinates,o=this.stride;for(let s=0,a=r.length;s<a;s+=o){const a=KR(t,e,r[s],r[s+1]);if(a<i){i=a;for(let t=0;t<o;++t)n[t]=r[s+t];n.length=o}}return i}getCoordinates(){return tO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(t){const e=this.flatCoordinates.length/this.stride;return t<0||e<=t?null:new sO(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)}getPoints(){const t=this.flatCoordinates,e=this.layout,n=this.stride,i=[];for(let r=0,o=t.length;r<o;r+=n){const o=new sO(t.slice(r,r+n),e);i.push(o)}return i}getType(){return"MultiPoint"}intersectsExtent(t){const e=this.flatCoordinates,n=this.stride;for(let i=0,r=e.length;i<r;i+=n)if(tR(t,e[i],e[i+1]))return!0;return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=VI(this.flatCoordinates,0,t,this.stride),this.changed()}}function aD(t,e,n,i){const r=[];let o=[1/0,1/0,-1/0,-1/0];for(let s=0,a=n.length;s<a;++s){const a=n[s];o=oR(t,e,a[0],i),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=a[a.length-1]}return r}class lD extends DI{constructor(t,e,n){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!n&&!Array.isArray(t[0])){const i=t,r=[],o=[];for(let t=0,e=i.length;t<e;++t){const e=i[t],n=r.length,s=e.getEnds();for(let t=0,i=s.length;t<i;++t)s[t]+=n;QT(r,e.getFlatCoordinates()),o.push(s)}e=0===i.length?this.getLayout():i[0].getLayout(),t=r,n=o}void 0!==e&&n?(this.setFlatCoordinates(e,t),this.endss_=n):this.setCoordinates(t,e)}appendPolygon(t){let e;if(this.flatCoordinates){const n=this.flatCoordinates.length;QT(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(let t=0,i=e.length;t<i;++t)e[t]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()}clone(){const t=this.endss_.length,e=new Array(t);for(let i=0;i<t;++i)e[i]=this.endss_[i].slice();const n=new lD(this.flatCoordinates.slice(),this.layout,e);return n.applyProperties(this),n}closestPointXY(t,e,n,i){return i<YP(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,n,i,r){for(let o=0,s=n.length;o<s;++o){const s=n[o];r=GI(t,e,s,i,r),e=s[s.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,n,i,r,o,s,a,l,u,c){c=c||[NaN,NaN];for(let h=0,d=n.length;h<d;++h){const d=n[h];u=HI(t,e,d,i,r,o,s,a,l,u,c),e=d[d.length-1]}return u}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,i))}containsXY(t,e){return function(t,e,n,i,r,o){if(0===n.length)return!1;for(let s=0,a=n.length;s<a;++s){const a=n[s];if(uO(t,e,a,i,r,o))return!0;e=a[a.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)}getArea(){return function(t,e,n,i){let r=0;for(let o=0,s=n.length;o<s;++o){const s=n[o];r+=rO(t,e,s,i),e=s[s.length-1]}return r}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),bO(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,nO(e,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const t=aD(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=hO(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new sD(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;_O(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=bO(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=function(t,e,n,i,r,o,s,a){for(let l=0,u=n.length;l<u;++l){const u=n[l],c=[];s=QI(t,e,u,i,r,o,s,c),a.push(c),e=u[u.length-1]}return s}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,n),new lD(e,"XY",n)}getPolygon(t){if(t<0||this.endss_.length<=t)return null;let e;if(0===t)e=0;else{const n=this.endss_[t-1];e=n[n.length-1]}const n=this.endss_[t].slice(),i=n[n.length-1];if(0!==e)for(let r=0,o=n.length;r<o;++r)n[r]-=e;return new wO(this.flatCoordinates.slice(e,i),this.layout,n)}getPolygons(){const t=this.layout,e=this.flatCoordinates,n=this.endss_,i=[];let r=0;for(let o=0,s=n.length;o<s;++o){const s=n[o].slice(),a=s[s.length-1];if(0!==r)for(let t=0,e=s.length;t<e;++t)s[t]-=r;const l=new wO(e.slice(r,a),t,s);i.push(l),r=a}return i}getType(){return"MultiPolygon"}intersectsExtent(t){return function(t,e,n,i,r){for(let o=0,s=n.length;o<s;++o){const s=n[o];if(gO(t,e,s,i,r))return!0;e=s[s.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);const n=XI(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{const t=n[n.length-1];this.flatCoordinates.length=0===t.length?0:t[t.length-1]}this.changed()}}const uD=[1,0,0,1,0,0];class cD{constructor(t,e,n,i,r,o){this.styleFunction,this.extent_,this.id_=o,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n||null,this.properties_=r,this.squaredTolerance_,this.stride_=i,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?rR(this.flatCoordinates_):oR(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=gR(this.getExtent());this.flatInteriorPoints_=cO(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=function(t,e){const n=[];let i,r=0,o=0;for(let s=0,a=e.length;s<a;++s){const a=e[s],l=yO(t,r,a,2);if(void 0===i&&(i=l),l===i)n.push(e.slice(o,s+1));else{if(0===n.length)continue;n[n.length-1].push(e[o])}o=s+1,r=a}return n}(this.flatCoordinates_,this.ends_),e=aD(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=hO(this.flatCoordinates_,0,t,2,e)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=bF(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let e=0;const n=this.ends_;for(let i=0,r=n.length;i<r;++i){const r=n[i],o=bF(t,e,r,2,.5);QT(this.flatMidpoints_,o),e=r}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,e){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){const e=(t=mI(t)).getExtent(),n=t.getWorldExtent();if(e&&n){const t=_R(n)/_R(e);zP(uD,n[0],n[3],t,-t,0,0,0),LI(this.flatCoordinates_,0,this.flatCoordinates_.length,2,uD,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var t;return new cD(this.type_,this.flatCoordinates_.slice(),null==(t=this.ends_)?void 0:t.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=rP(((t,e)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),e&&this.simplifiedGeometry_.applyTransform(e);const n=this.simplifiedGeometry_.getFlatCoordinates();let i;switch(this.type_){case"LineString":n.length=KI(n,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,n,0),i=[n.length];break;case"MultiLineString":i=[],n.length=ZI(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,n,0,i);break;case"Polygon":i=[],n.length=QI(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),n,0,i)}return i&&(this.simplifiedGeometry_=new cD(this.type_,n,i,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_})),this}}cD.prototype.getFlatCoordinates=cD.prototype.getOrientedFlatCoordinates;class hD extends TP{constructor(t){super(),this.projection=mI(t.projection),this.attributions_=dD(t.attributions),this.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,this.loading=!1,this.state_=void 0!==t.state?t.state:"ready",this.wrapX_=void 0!==t.wrapX&&t.wrapX,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const e=this;this.viewPromise_=new Promise((function(t,n){e.viewResolver=t,e.viewRejector=n}))}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=dD(t),this.changed()}setState(t){this.state_=t,this.changed()}}function dD(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}const fD="addfeature",pD="changefeature",gD="clear",mD="removefeature",yD="featuresloadstart",vD="featuresloadend",_D="featuresloaderror";function xD(t,e){return[[-1/0,-1/0,1/0,1/0]]}function bD(t,e){return function(n,i,r,o,s){const a=this;!function(t,e,n,i,r,o,s){const a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(n,i,r):t,!0),"arraybuffer"==e.getType()&&(a.responseType="arraybuffer"),a.withCredentials=!1,a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){const t=e.getType();try{let i;"text"==t||"json"==t?i=a.responseText:"xml"==t?i=a.responseXML||a.responseText:"arraybuffer"==t&&(i=a.response),i?o(e.readFeatures(i,{extent:n,featureProjection:r}),e.readProjection(i)):s()}catch{s()}}else s()},a.onerror=s,a.send()}(t,e,n,i,r,(function(t,e){a.addFeatures(t),void 0!==o&&o(t)}),s||iP)}}class wD extends qT{constructor(t,e,n){super(t),this.feature=e,this.features=n}}class SD extends hD{constructor(t){super({attributions:(t=t||{}).attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.on,this.once,this.un,this.loader_=iP,this.format_=t.format,this.overlaps_=void 0===t.overlaps||t.overlaps,this.url_=t.url,void 0!==t.loader?this.loader_=t.loader:void 0!==this.url_&&(LP(this.format_,"`format` must be set when `url` is set"),this.loader_=bD(this.url_,this.format_)),this.strategy_=void 0!==t.strategy?t.strategy:xD;const e=void 0===t.useSpatialIndex||t.useSpatialIndex;let n,i;this.featuresRtree_=e?new nD:null,this.loadedExtentsRtree_=new nD,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(t.features)?i=t.features:t.features&&(n=t.features,i=n.getArray()),e||void 0!==n||(n=new FP(i)),void 0!==i&&this.addFeaturesInternal(i),void 0!==n&&this.bindFeaturesCollection_(n)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const e=MP(t);if(!this.addToIndex_(e,t))return void(this.featuresCollection_&&this.featuresCollection_.remove(t));this.setupChangeEvents_(e,t);const n=t.getGeometry();if(n){const e=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(e,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new wD(fD,t))}setupChangeEvents_(t,e){e instanceof cD||(this.featureChangeKeys_[t]=[_P(e,uP,this.handleFeatureChange_,this),_P(e,XT,this.handleFeatureChange_,this)])}addToIndex_(t,e){let n=!0;if(void 0!==e.getId()){const t=String(e.getId());if(t in this.idIndex_)if(e instanceof cD){const i=this.idIndex_[t];i instanceof cD?Array.isArray(i)?i.push(e):this.idIndex_[t]=[i,e]:n=!1}else n=!1;else this.idIndex_[t]=e}return n&&(LP(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=e),n}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const e=[],n=[],i=[];for(let r=0,o=t.length;r<o;r++){const e=t[r],i=MP(e);this.addToIndex_(i,e)&&n.push(e)}for(let r=0,o=n.length;r<o;r++){const t=n[r],o=MP(t);this.setupChangeEvents_(o,t);const s=t.getGeometry();if(s){const n=s.getExtent();e.push(n),i.push(t)}else this.nullGeometryFeatures_[o]=t}if(this.featuresRtree_&&this.featuresRtree_.load(e,i),this.hasListener(fD))for(let r=0,o=n.length;r<o;r++)this.dispatchEvent(new wD(fD,n[r]))}bindFeaturesCollection_(t){let e=!1;this.addEventListener(fD,(function(n){e||(e=!0,t.push(n.feature),e=!1)})),this.addEventListener(mD,(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),t.addEventListener(PP,(t=>{e||(e=!0,this.addFeature(t.element),e=!1)})),t.addEventListener(RP,(t=>{e||(e=!0,this.removeFeature(t.element),e=!1)})),this.featuresCollection_=t}clear(t){if(t){for(const t in this.featureChangeKeys_)this.featureChangeKeys_[t].forEach(bP);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const t=t=>{this.removeFeatureInternal(t)};this.featuresRtree_.forEach(t);for(const e in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[e])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const e=new wD(gD);this.dispatchEvent(e),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,e){const n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,(function(n){const i=n.getGeometry();if(i instanceof cD||i.intersectsCoordinate(t))return e(n)}))}forEachFeatureInExtent(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureIntersectingExtent(t,e){return this.forEachFeatureInExtent(t,(function(n){const i=n.getGeometry();if(i instanceof cD||i.intersectsExtent(t)){const t=e(n);if(t)return t}}))}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),aP(this.nullGeometryFeatures_)||QT(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e}getFeaturesInExtent(t,e){if(this.featuresRtree_){if(!(e&&e.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const n=kR(t,e);return[].concat(...n.map((t=>this.featuresRtree_.getInExtent(t))))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,e){const n=t[0],i=t[1];let r=null;const o=[NaN,NaN];let s=1/0;const a=[-1/0,-1/0,1/0,1/0];return e=e||eP,this.featuresRtree_.forEachInExtent(a,(function(t){if(e(t)){const e=t.getGeometry(),l=s;if(s=e instanceof cD?0:e.closestPointXY(n,i,o,s),s<l){r=t;const e=Math.sqrt(s);a[0]=n-e,a[1]=i-e,a[2]=n+e,a[3]=i+e}}})),r}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const e=this.idIndex_[t.toString()];return void 0!==e?e:null}getFeatureByUid(t){const e=this.uidIndex_[t];return void 0!==e?e:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const e=t.target,n=MP(e),i=e.getGeometry();if(i){const t=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(t,e)):this.featuresRtree_&&this.featuresRtree_.update(t,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);const r=e.getId();if(void 0!==r){const t=r.toString();this.idIndex_[t]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[t]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new wD(pD,e))}hasFeature(t){const e=t.getId();return void 0!==e?e in this.idIndex_:MP(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&aP(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(t,e,n){const i=this.loadedExtentsRtree_,r=this.strategy_(t,e,n);for(let o=0,s=r.length;o<s;++o){const t=r[o];i.forEachInExtent(t,(function(e){return QP(e.extent,t)}))||(++this.loadingExtentsCount_,this.dispatchEvent(new wD(yD)),this.loader_.call(this,t,e,n,(t=>{--this.loadingExtentsCount_,this.dispatchEvent(new wD(vD,void 0,t))}),(()=>{--this.loadingExtentsCount_,this.dispatchEvent(new wD(_D))})),i.insert(t,{extent:t.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const e=this.loadedExtentsRtree_;let n;e.forEachInExtent(t,(function(e){if(sR(e.extent,t))return n=e,!0})),n&&e.remove(n)}removeFeatures(t){const e=[];for(let n=0,i=t.length;n<i;++n){const i=t[n],r=this.removeFeatureInternal(i);r&&e.push(r)}e.length>0&&this.changed()}removeFeature(t){t&&this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const e=MP(t);if(!(e in this.uidIndex_))return;e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t);const n=this.featureChangeKeys_[e];null==n||n.forEach(bP),delete this.featureChangeKeys_[e];const i=t.getId();if(void 0!==i){const e=i.toString(),n=this.idIndex_[e];n===t?delete this.idIndex_[e]:Array.isArray(n)&&(n.splice(n.indexOf(t),1),1===n.length&&(this.idIndex_[e]=n[0]))}return delete this.uidIndex_[e],this.hasListener(mD)&&this.dispatchEvent(new wD(mD,t)),t}removeFromIdIndex_(t){let e=!1;for(const n in this.idIndex_){const i=this.idIndex_[n];if(t instanceof cD&&Array.isArray(i)&&i.includes(t))i.splice(i.indexOf(t),1);else if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}}return e}setLoader(t){this.loader_=t}setUrl(t){LP(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader(bD(t,this.format_))}}const ED=0,CD=1,MD=2,kD=3,TD=4;class PD extends lP{constructor(t,e,n){super(),n=n||{},this.tileCoord=t,this.state=e,this.interimTile=null,this.key="",this.transition_=void 0===n.transition?250:n.transition,this.transitionStarts_={},this.interpolate=!!n.interpolate}changed(){this.dispatchEvent(uP)}release(){this.state===kD&&this.setState(TD)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){let t=this.interimTile;if(!t)return this;do{if(t.getState()==MD)return this.transition_=0,t;t=t.interimTile}while(t);return this}refreshInterimChain(){let t=this.interimTile;if(!t)return;let e=this;do{if(t.getState()==MD){t.interimTile=null;break}t.getState()==CD?e=t:t.getState()==ED?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==kD&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}load(){EP()}getAlpha(t,e){if(!this.transition_)return 1;let n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;const i=e-n+1e3/60;return i>=this.transition_?1:IL(i/this.transition_)}inTransition(t){return!!this.transition_&&-1!==this.transitionStarts_[t]}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}}class RD extends PD{constructor(t,e,n,i,r,o){super(t,e,o),this.crossOrigin_=i,this.src_=n,this.key=n,this.image_=new Image,null!==i&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=r}getImage(){return this.image_}setImage(t){this.image_=t,this.state=MD,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=kD,this.unlistenImage_(),this.image_=function(){const t=sF(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=MD:this.state=TD,this.unlistenImage_(),this.changed()}load(){this.state==kD&&(this.state=ED,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==ED&&(this.state=CD,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=function(t,e,n){const i=t;let r=!0,o=!1,s=!1;const a=[xP(i,mP,(function(){s=!0,o||e()}))];return i.src&&iF?(o=!0,i.decode().then((function(){r&&e()})).catch((function(t){r&&(s?e():n())}))):a.push(xP(i,cP,n)),function(){r=!1,a.forEach(bP)}}(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}class ID{constructor(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,e){this.points_.push(t,e,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;let n=e-3;for(;n>0&&this.points_[n+2]>t;)n-=3;const i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;const r=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class OD extends KT{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,e){EP()}calculateMatrices2D(t){const e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;zP(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),$P(i,n)}forEachFeatureAtCoordinate(t,e,n,i,r,o,s,a){let l;const u=e.viewState;function c(t,e,n,i){return r.call(o,e,t?n:null,i)}const h=u.projection,d=lI(t.slice(),h),f=[[0,0]];if(h.canWrapX()&&i){const t=SR(h.getExtent());f.push([-t,0],[t,0])}const p=e.layerStatesArray,g=p.length,m=[],y=[];for(let _=0;_<f.length;_++)for(let i=g-1;i>=0;--i){const r=p[i],o=r.layer;if(o.hasRenderer()&&$L(r,u)&&s.call(a,o)){const i=o.getRenderer(),s=o.getSource();if(i&&s){const o=s.getWrapX()?d:t,a=c.bind(null,r.managed);y[0]=o[0]+f[_][0],y[1]=o[1]+f[_][1],l=i.forEachFeatureAtCoordinate(y,e,n,a,m)}if(l)return l}}if(0===m.length)return;const v=1/m.length;return m.forEach(((t,e)=>t.distanceSq+=e*v)),m.sort(((t,e)=>t.distanceSq-e.distanceSq)),m.some((t=>l=t.callback(t.feature,t.layer,t.geometry))),l}hasFeatureAtCoordinate(t,e,n,i,r,o){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,i,eP,this,r,o)}getMap(){return this.map_}renderFrame(t){EP()}scheduleExpireIconCache(t){mF.canExpireCache()&&t.postRenderFunctions.push(FD)}}function FD(t,e){mF.expire()}class LD extends OD{constructor(t){super(t),this.fontChangeListenerKey_=_P(VF,XT,t.redrawText.bind(t)),this.element_=document.createElement("div");const e=this.element_.style;e.position="absolute",e.width="100%",e.height="100%",e.zIndex="0",this.element_.className=IF+" ol-layers";const n=t.getViewport();n.insertBefore(this.element_,n.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,e){const n=this.getMap();if(n.hasListener(t)){const i=new CN(t,void 0,e);n.dispatchEvent(i)}}disposeInternal(){bP(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(t){if(!t)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(t),this.dispatchRenderEvent(MO,t);const e=t.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex}));e.some((t=>t.layer instanceof Jj&&t.layer.getDeclutter()))&&(t.declutter={});const n=t.viewState;this.children_.length=0;const i=[];let r=null;for(let o=0,s=e.length;o<s;++o){const s=e[o];t.layerIndex=o;const a=s.layer,l=a.getSourceState();if(!$L(s,n)||"ready"!=l&&"undefined"!=l){a.unrender();continue}const u=a.render(t,r);u&&(u!==r&&(this.children_.push(u),r=u),i.push(s))}this.declutter(t,i),function(t,e){const n=t.childNodes;for(let i=0;;++i){const r=n[i],o=e[i];if(!r&&!o)break;r!==o&&(r?o?t.insertBefore(o,r):(t.removeChild(r),--i):t.appendChild(o))}}(this.element_,this.children_),this.dispatchRenderEvent(kO,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,e){if(t.declutter){for(let n=e.length-1;n>=0;--n){const i=e[n],r=i.layer;r.getDeclutter()&&r.renderDeclutter(t,i)}e.forEach((e=>e.layer.renderDeferred(t)))}}}class AD extends qT{constructor(t,e){super(t),this.layer=e}}const jD="layers";class ND extends _L{constructor(t){t=t||{};const e=Object.assign({},t);delete e.layers;let n=t.layers;super(e),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(jD,this.handleLayersChanged_),n?Array.isArray(n)?n=new FP(n.slice(),{unique:!0}):LP("function"==typeof n.getArray,"Expected `layers` to be an array or a `Collection`"):n=new FP(void 0,{unique:!0}),this.setLayers(n)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(bP),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(_P(t,PP,this.handleLayersAdd_,this),_P(t,RP,this.handleLayersRemove_,this));for(const n in this.listenerKeys_)this.listenerKeys_[n].forEach(bP);sP(this.listenerKeys_);const e=t.getArray();for(let n=0,i=e.length;n<i;n++){const t=e[n];this.registerLayerListeners_(t),this.dispatchEvent(new AD("addlayer",t))}this.changed()}registerLayerListeners_(t){const e=[_P(t,XT,this.handleLayerChange_,this),_P(t,uP,this.handleLayerChange_,this)];t instanceof ND&&e.push(_P(t,"addlayer",this.handleLayerGroupAdd_,this),_P(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[MP(t)]=e}handleLayerGroupAdd_(t){this.dispatchEvent(new AD("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new AD("removelayer",t.layer))}handleLayersAdd_(t){const e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new AD("addlayer",e)),this.changed()}handleLayersRemove_(t){const e=t.element,n=MP(e);this.listenerKeys_[n].forEach(bP),delete this.listenerKeys_[n],this.dispatchEvent(new AD("removelayer",e)),this.changed()}getLayers(){return this.get(jD)}setLayers(t){const e=this.getLayers();if(e){const t=e.getArray();for(let e=0,n=t.length;e<n;++e)this.dispatchEvent(new AD("removelayer",t[e]))}this.set(jD,t)}getLayersArray(t){return t=void 0!==t?t:[],this.getLayers().forEach((function(e){e.getLayersArray(t)})),t}getLayerStatesArray(t){const e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));const i=this.getLayerState();let r=i.zIndex;t||void 0!==i.zIndex||(r=0);for(let o=n,s=e.length;o<s;o++){const t=e[o];t.opacity*=i.opacity,t.visible=t.visible&&i.visible,t.maxResolution=Math.min(t.maxResolution,i.maxResolution),t.minResolution=Math.max(t.minResolution,i.minResolution),t.minZoom=Math.max(t.minZoom,i.minZoom),t.maxZoom=Math.min(t.maxZoom,i.maxZoom),void 0!==i.extent&&(void 0!==t.extent?t.extent=xR(t.extent,i.extent):t.extent=i.extent),void 0===t.zIndex&&(t.zIndex=r)}return e}getSourceState(){return"ready"}}class DD extends qT{constructor(t,e,n){super(t),this.map=e,this.frameState=void 0!==n?n:null}}class zD extends DD{constructor(t,e,n,i,r,o){super(t,e,r),this.originalEvent=n,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==i&&i,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const $D={SINGLECLICK:"singleclick",CLICK:dP,DBLCLICK:fP,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},BD="pointermove",WD="pointerdown",GD="pointerout";class UD extends lP{constructor(t,e){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===e?1:e,this.down_=null;const n=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=n,this.pointerdownListenerKey_=_P(n,WD,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=_P(n,BD,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(yP,this.boundHandleTouchMove_,!!oF&&{passive:!1})}emulateClick_(t){let e=new zD($D.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new zD($D.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout((()=>{this.clickTimeoutId_=void 0;const e=new zD($D.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}),250)}updateActivePointers_(t){const e=t,n=e.pointerId;if(e.type==$D.POINTERUP||e.type==$D.POINTERCANCEL){delete this.trackedTouches_[n];for(const t in this.trackedTouches_)if(this.trackedTouches_[t].target!==e.target){delete this.trackedTouches_[t];break}}else e.type!=$D.POINTERDOWN&&e.type!=$D.POINTERMOVE||(this.trackedTouches_[n]=e);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const e=new zD($D.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(bP),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return 0===t.button}handlePointerDown_(t){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(t);const e=new zD($D.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(e),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),0===this.dragListenerKeys_.length){const t=this.map_.getOwnerDocument();this.dragListenerKeys_.push(_P(t,$D.POINTERMOVE,this.handlePointerMove_,this),_P(t,$D.POINTERUP,this.handlePointerUp_,this),_P(this.element_,$D.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==t&&this.dragListenerKeys_.push(_P(this.element_.getRootNode(),$D.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const e=new zD($D.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(e)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new zD($D.POINTERMOVE,this.map_,t,e))}handleTouchMove_(t){const e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||"boolean"==typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(bP(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(yP,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(bP(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(bP),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const HD="postrender",VD="movestart",qD="moveend",XD="loadstart",KD="loadend",ZD="layergroup",YD="size",JD="target",QD="view",tz=1/0;class ez{constructor(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,sP(this.queuedElements_)}dequeue(){const t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));const i=this.keyFunction_(n);return delete this.queuedElements_[i],n}enqueue(t){LP(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const e=this.priorityFunction_(t);return e!=tz&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(t){return 2*t+1}getRightChildIndex_(t){return 2*t+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return 0===this.elements_.length}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const e=this.elements_,n=this.priorities_,i=e.length,r=e[t],o=n[t],s=t;for(;t<i>>1;){const r=this.getLeftChildIndex_(t),o=this.getRightChildIndex_(t),s=o<i&&n[o]<n[r]?o:r;e[t]=e[s],n[t]=n[s],t=s}e[t]=r,n[t]=o,this.siftDown_(s,t)}siftDown_(t,e){const n=this.elements_,i=this.priorities_,r=n[e],o=i[e];for(;e>t;){const t=this.getParentIndex_(e);if(!(i[t]>o))break;n[e]=n[t],i[e]=i[t],e=t}n[e]=r,i[e]=o}reprioritize(){const t=this.priorityFunction_,e=this.elements_,n=this.priorities_;let i=0;const r=e.length;let o,s,a;for(s=0;s<r;++s)o=e[s],a=t(o),a==tz?delete this.queuedElements_[this.keyFunction_(o)]:(n[i]=a,e[i++]=o);e.length=i,n.length=i,this.heapify_()}}class nz extends ez{constructor(t,e){super((function(e){return t.apply(null,e)}),(function(t){return t[0].getKey()})),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const e=super.enqueue(t);return e&&t[0].addEventListener(uP,this.boundHandleTileChange_),e}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const e=t.target,n=e.getState();if(n===MD||n===kD||n===TD){n!==kD&&e.removeEventListener(uP,this.boundHandleTileChange_);const t=e.getKey();t in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[t],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,e){let n,i,r,o=0;for(;this.tilesLoading_<t&&o<e&&this.getCount()>0;)i=this.dequeue()[0],r=i.getKey(),n=i.getState(),n!==ED||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++o,i.load())}}class iz extends TP{constructor(t){super();const e=t.element;!e||t.target||e.style.pointerEvents||(e.style.pointerEvents="auto"),this.element=e||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){hF(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&hF(this.element);for(let e=0,n=this.listenerKeys.length;e<n;++e)bP(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,t&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==iP&&this.listenerKeys.push(_P(t,HD,this.render,this)),t.render())}render(t){}setTarget(t){this.target_="string"==typeof t?document.getElementById(t):t}}class rz extends iz{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===t.collapsed||t.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==t.collapsible,this.collapsible_=void 0===t.collapsible||t.collapsible,this.collapsible_||(this.collapsed_=!1);const e=void 0!==t.className?t.className:"ol-attribution",n=void 0!==t.tipLabel?t.tipLabel:"Attributions",i=void 0!==t.expandClassName?t.expandClassName:e+"-expand",r=void 0!==t.collapseLabel?t.collapseLabel:"â€º",o=void 0!==t.collapseClassName?t.collapseClassName:e+"-collapse";"string"==typeof r?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r,this.collapseLabel_.className=o):this.collapseLabel_=r;const s=void 0!==t.label?t.label:"i";"string"==typeof s?(this.label_=document.createElement("span"),this.label_.textContent=s,this.label_.className=i):this.label_=s;const a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=n,this.toggleButton_.appendChild(a),this.toggleButton_.addEventListener(dP,this.handleClick_.bind(this),!1);const l=e+" "+IF+" "+OF+(this.collapsed_&&this.collapsible_?" "+FF:"")+(this.collapsible_?"":" ol-uncollapsible"),u=this.element;u.className=l,u.appendChild(this.toggleButton_),u.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const e=Array.from(new Set(this.getMap().getAllLayers().flatMap((e=>e.getAttributions(t))))),n=!this.getMap().getAllLayers().some((t=>t.getSource()&&!1===t.getSource().getAttributionsCollapsible()));return this.overrideCollapsible_||this.setCollapsible(n),e}async updateElement_(t){if(!t)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const e=await Promise.all(this.collectSourceAttributions_(t).map((t=>oP((()=>t))))),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!tP(e,this.renderedAttributions_)){!function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}(this.ulElement_);for(let t=0,n=e.length;t<n;++t){const n=document.createElement("li");n.innerHTML=e[t],this.ulElement_.appendChild(n)}this.renderedAttributions_=e}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(FF),this.collapsed_?cF(this.collapseLabel_,this.label_):cF(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}class oz extends iz{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const e=void 0!==t.className?t.className:"ol-rotate",n=void 0!==t.label?t.label:"â‡§",i=void 0!==t.compassClassName?t.compassClassName:"ol-compass";this.label_=null,"string"==typeof n?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=n):(this.label_=n,this.label_.classList.add(i));const r=t.tipLabel?t.tipLabel:"Reset rotation",o=document.createElement("button");o.className=e+"-reset",o.setAttribute("type","button"),o.title=r,o.appendChild(this.label_),o.addEventListener(dP,this.handleClick_.bind(this),!1);const s=e+" "+IF+" "+OF,a=this.element;a.className=s,a.appendChild(o),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=void 0!==t.duration?t.duration:250,this.autoHide_=void 0===t.autoHide||t.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(RF)}handleClick_(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:OL}):t.setRotation(0))}render(t){const e=t.frameState;if(!e)return;const n=e.viewState.rotation;if(n!=this.rotation_){const t="rotate("+n+"rad)";if(this.autoHide_){const t=this.element.classList.contains(RF);t||0!==n?t&&0!==n&&this.element.classList.remove(RF):this.element.classList.add(RF)}this.label_.style.transform=t}this.rotation_=n}}class sz extends iz{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const e=void 0!==t.className?t.className:"ol-zoom",n=void 0!==t.delta?t.delta:1,i=void 0!==t.zoomInClassName?t.zoomInClassName:e+"-in",r=void 0!==t.zoomOutClassName?t.zoomOutClassName:e+"-out",o=void 0!==t.zoomInLabel?t.zoomInLabel:"+",s=void 0!==t.zoomOutLabel?t.zoomOutLabel:"â€“",a=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",l=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=i,u.setAttribute("type","button"),u.title=a,u.appendChild("string"==typeof o?document.createTextNode(o):o),u.addEventListener(dP,this.handleClick_.bind(this,n),!1);const c=document.createElement("button");c.className=r,c.setAttribute("type","button"),c.title=l,c.appendChild("string"==typeof s?document.createTextNode(s):s),c.addEventListener(dP,this.handleClick_.bind(this,-n),!1);const h=e+" "+IF+" "+OF,d=this.element;d.className=h,d.appendChild(u),d.appendChild(c),this.duration_=void 0!==t.duration?t.duration:250}handleClick_(t,e){e.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const e=this.getMap().getView();if(!e)return;const n=e.getZoom();if(void 0!==n){const i=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:i,duration:this.duration_,easing:OL})):e.setZoom(i)}}}function az(t){t=t||{};const e=new FP;return(void 0===t.zoom||t.zoom)&&e.push(new sz(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&e.push(new oz(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&e.push(new rz(t.attributionOptions)),e}const lz="active";class uz extends TP{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(lz)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(lz,t)}setMap(t){this.map_=t}}function cz(t,e,n,i){const r=t.getZoom();if(void 0===r)return;const o=t.getConstrainedZoom(r+e),s=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:s,anchor:n,duration:void 0!==i?i:250,easing:OL})}class hz extends uz{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:250}handleEvent(t){let e=!1;if(t.type==$D.DBLCLICK){const n=t.originalEvent,i=t.map,r=t.coordinate,o=n.shiftKey?-this.delta_:this.delta_;cz(i.getView(),o,r,this.duration_),n.preventDefault(),e=!0}return!e}}class dz extends uz{constructor(t){super(t=t||{}),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==$D.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==$D.POINTERUP){const e=this.handleUpEvent(t);this.handlingDownUpSequence=e&&this.targetPointers.length>0}}else if(t.type==$D.POINTERDOWN){const n=this.handleDownEvent(t);this.handlingDownUpSequence=n,e=this.stopDown(n)}else t.type==$D.POINTERMOVE&&this.handleMoveEvent(t);return!e}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}}function fz(t){const e=t.length;let n=0,i=0;for(let r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return{clientX:n/e,clientY:i/e}}function pz(t){const e=arguments;return function(t){let n=!0;for(let i=0,r=e.length;i<r&&(n=n&&e[i](t),n);++i);return n}}const gz=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},mz=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){const e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)}(t)},yz=eP,vz=function(t){const e=t.originalEvent;return 0==e.button&&!(QO&&tF&&e.ctrlKey)},_z=nP,xz=function(t){return t.type==$D.SINGLECLICK},bz=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},wz=function(t){const e=t.originalEvent;return!e.altKey&&(tF?e.metaKey:e.ctrlKey)&&!e.shiftKey},Sz=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Ez=function(t){const e=t.originalEvent,n=e.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!e.target.isContentEditable},Cz=function(t){const e=t.originalEvent;return LP(void 0!==e,"mapBrowserEvent must originate from a pointer event"),"mouse"==e.pointerType},Mz=function(t){const e=t.originalEvent;return LP(void 0!==e,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&0===e.button};class kz extends dz{constructor(t){super({stopDown:nP}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const e=t.condition?t.condition:pz(bz,Mz);this.condition_=t.onFocusOnly?pz(mz,e):e,this.noKinetic_=!1}handleDragEvent(t){const e=t.map;this.panning_||(this.panning_=!0,e.getView().beginInteraction());const n=this.targetPointers,i=e.getEventPixel(fz(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const e=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],n=t.map.getView();r=e,o=n.getResolution(),r[0]*=o,r[1]*=o,aI(e,n.getRotation()),n.adjustCenterInternal(e)}}else this.kinetic_&&this.kinetic_.begin();var r,o;this.lastCentroid=i,this.lastPointersCount_=n.length,t.originalEvent.preventDefault()}handleUpEvent(t){const e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const t=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),r=n.getCenterInternal(),o=e.getPixelFromCoordinateInternal(r),s=e.getCoordinateFromPixelInternal([o[0]-t*Math.cos(i),o[1]-t*Math.sin(i)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:OL})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class Tz extends dz{constructor(t){t=t||{},super({stopDown:nP}),this.condition_=t.condition?t.condition:gz,this.lastAngle_=void 0,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){if(!Cz(t))return;const e=t.map,n=e.getView();if(n.getConstraints().rotation===PL)return;const i=e.getSize(),r=t.pixel,o=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);if(void 0!==this.lastAngle_){const t=o-this.lastAngle_;n.adjustRotationInternal(-t)}this.lastAngle_=o}handleUpEvent(t){return!Cz(t)||(t.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(t){return!!Cz(t)&&(!(!vz(t)||!this.condition_(t))&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))}}class Pz extends KT{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,e=this.endPixel_,n="px",i=this.element_.style;i.left=Math.min(t[0],e[0])+n,i.top=Math.min(t[1],e[1])+n,i.width=Math.abs(e[0]-t[0])+n,i.height=Math.abs(e[1]-t[1])+n}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new wO([n])}getGeometry(){return this.geometry_}}const Rz="boxstart",Iz="boxdrag",Oz="boxend",Fz="boxcancel";class Lz extends qT{constructor(t,e,n){super(t),this.coordinate=e,this.mapBrowserEvent=n}}class Az extends dz{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.box_=new Pz(t.className||"ol-dragbox"),this.minArea_=void 0!==t.minArea?t.minArea:64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition?t.condition:vz,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(t,e,n){const i=n[0]-e[0],r=n[1]-e[1];return i*i+r*r>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.startPixel_&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Lz(Iz,t.coordinate,t)))}handleUpEvent(t){if(!this.startPixel_)return!1;this.box_.setMap(null);const e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new Lz(e?Oz:Fz,t.coordinate,t)),!1}handleDownEvent(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Lz(Rz,t.coordinate,t)),!0)}onBoxEnd(t){}setActive(t){t||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Lz(Fz,this.startPixel_,null)),this.startPixel_=null)),super.setActive(t)}}class jz extends Az{constructor(t){super({condition:(t=t||{}).condition?t.condition:Sz,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=void 0!==t.duration?t.duration:200,this.out_=void 0!==t.out&&t.out}onBoxEnd(t){const e=this.getMap().getView();let n=this.getGeometry();if(this.out_){const t=e.rotatedExtentForGeometry(n),i=e.getResolutionForExtentInternal(t),r=e.getResolution()/i;n=n.clone(),n.scale(r*r)}e.fitInternal(n,{duration:this.duration_,easing:OL})}}const Nz="ArrowLeft",Dz="ArrowUp",zz="ArrowRight",$z="ArrowDown";class Bz extends uz{constructor(t){super(),t=t||{},this.defaultCondition_=function(t){return bz(t)&&Ez(t)},this.condition_=void 0!==t.condition?t.condition:this.defaultCondition_,this.duration_=void 0!==t.duration?t.duration:100,this.pixelDelta_=void 0!==t.pixelDelta?t.pixelDelta:128}handleEvent(t){let e=!1;if(t.type==pP){const n=t.originalEvent,i=n.key;if(this.condition_(t)&&(i==$z||i==Nz||i==zz||i==Dz)){const r=t.map.getView(),o=r.getResolution()*this.pixelDelta_;let s=0,a=0;i==$z?a=-o:i==Nz?s=-o:i==zz?s=o:a=o;const l=[s,a];aI(l,r.getRotation()),function(t,e,n){const i=t.getCenterInternal();if(i){const r=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:LL,center:t.getConstrainedCenter(r)})}}(r,l,this.duration_),n.preventDefault(),e=!0}}return!e}}class Wz extends uz{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(t){return!function(t){const e=t.originalEvent;return tF?e.metaKey:e.ctrlKey}(t)&&Ez(t)},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:100}handleEvent(t){let e=!1;if(t.type==pP||t.type==gP){const n=t.originalEvent,i=n.key;if(this.condition_(t)&&("+"===i||"-"===i)){const r=t.map,o="+"===i?this.delta_:-this.delta_;cz(r.getView(),o,void 0,this.duration_),n.preventDefault(),e=!0}}return!e}}class Gz extends uz{constructor(t){super(t=t||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==t.maxDelta?t.maxDelta:1,this.duration_=void 0!==t.duration?t.duration:250,this.timeout_=void 0!==t.timeout?t.timeout:80,this.useAnchor_=void 0===t.useAnchor||t.useAnchor,this.constrainResolution_=void 0!==t.constrainResolution&&t.constrainResolution;const e=t.condition?t.condition:yz;this.condition_=t.onFocusOnly?pz(mz,e):e,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();t&&t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(t){if(!this.condition_(t))return!0;if(t.type!==vP)return!0;const e=t.map,n=t.originalEvent;let i;if(n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==vP&&(i=n.deltaY,YO&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(i/=eF),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(i*=40)),0===i)return!1;this.lastDelta_=i;const r=Date.now();void 0===this.startTime_&&(this.startTime_=r),(!this.mode_||r-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(i)<4?"trackpad":"wheel");const o=e.getView();if("trackpad"===this.mode_&&!o.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-i/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=r,!1;this.totalDelta_+=i;const s=Math.max(this.timeout_-(r-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,e),s),!1}handleWheelZoom_(t){const e=t.getView();e.getAnimating()&&e.cancelAnimations();let n=-qR(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),cz(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}class Uz extends dz{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=nP),super(e),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==t.threshold?t.threshold:.3,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){let e=0;const n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){const t=r-this.lastAngle_;this.rotationDelta_+=t,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=t}this.lastAngle_=r;const o=t.map,s=o.getView();s.getConstraints().rotation!==PL&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(fz(this.targetPointers))),this.rotating_&&(o.render(),s.adjustRotationInternal(e,this.anchor_)))}handleUpEvent(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}class Hz extends dz{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=nP),super(e),this.anchor_=null,this.duration_=void 0!==t.duration?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let e=1;const n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,o=n.clientY-i.clientY,s=Math.sqrt(r*r+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;const a=t.map,l=a.getView();1!=e&&(this.lastScaleDelta_=e),this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(fz(this.targetPointers))),a.render(),l.adjustResolutionInternal(e,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}function Vz(t){t=t||{};const e=new FP,n=new ID(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new Tz),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new hz({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&e.push(new kz({onFocusOnly:t.onFocusOnly,kinetic:n})),(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new Uz),(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new Hz({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(e.push(new Bz),e.push(new Wz({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new Gz({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new jz({duration:t.zoomDuration})),e}function qz(t){t instanceof zL?t.setMapInternal(null):t instanceof ND&&t.getLayers().forEach(qz)}function Xz(t,e){if(t instanceof zL)t.setMapInternal(e);else if(t instanceof ND){const n=t.getLayers().getArray();for(let t=0,i=n.length;t<i;++t)Xz(n[t],e)}}let Kz=class extends TP{constructor(t){super(),t=t||{},this.on,this.once,this.un;const e=function(t){let e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},i=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new ND({layers:t.layers});let r,o,s;return n[ZD]=i,n[JD]=t.target,n[QD]=t.view instanceof AL?t.view:new AL,void 0!==t.controls&&(Array.isArray(t.controls)?r=new FP(t.controls.slice()):(LP("function"==typeof t.controls.getArray,"Expected `controls` to be an array or an `ol/Collection.js`"),r=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?o=new FP(t.interactions.slice()):(LP("function"==typeof t.interactions.getArray,"Expected `interactions` to be an array or an `ol/Collection.js`"),o=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?s=new FP(t.overlays.slice()):(LP("function"==typeof t.overlays.getArray,"Expected `overlays` to be an array or an `ol/Collection.js`"),s=t.overlays):s=new FP,{controls:r,interactions:o,keyboardEventTarget:e,overlays:s,values:n}}(t);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==t.maxTilesLoading?t.maxTilesLoading:16,this.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:eF,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=e.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver((()=>this.updateSize())),this.controls=e.controls||az(),this.interactions=e.interactions||Vz({onFocusOnly:!0}),this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new nz(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(ZD,this.handleLayerGroupChanged_),this.addChangeListener(QD,this.handleViewChanged_),this.addChangeListener(YD,this.handleSizeChanged_),this.addChangeListener(JD,this.handleTargetChanged_),this.setProperties(e.values);const n=this;!t.view||t.view instanceof AL||t.view.then((function(t){n.setView(new AL(t))})),this.controls.addEventListener(PP,(t=>{t.element.setMap(this)})),this.controls.addEventListener(RP,(t=>{t.element.setMap(null)})),this.interactions.addEventListener(PP,(t=>{t.element.setMap(this)})),this.interactions.addEventListener(RP,(t=>{t.element.setMap(null)})),this.overlays_.addEventListener(PP,(t=>{this.addOverlayInternal_(t.element)})),this.overlays_.addEventListener(RP,(t=>{const e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)})),this.controls.forEach((t=>{t.setMap(this)})),this.interactions.forEach((t=>{t.setMap(this)})),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){Xz(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,e,n){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(t),r=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,o=void 0!==n.layerFilter?n.layerFilter:eP,s=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,r,s,e,null,o,null)}getFeaturesAtPixel(t,e){const n=[];return this.forEachFeatureAtPixel(t,(function(t){n.push(t)}),e),n}getAllLayers(){const t=[];return function e(n){n.forEach((function(n){n instanceof ND?e(n.getLayers()):t.push(n)}))}(this.getLayers()),t}hasFeatureAtPixel(t,e){if(!this.frameState_||!this.renderer_)return!1;const n=this.getCoordinateFromPixelInternal(t),i=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:eP,r=void 0!==e.hitTolerance?e.hitTolerance:0,o=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,o,i,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const e=this.viewport_.getBoundingClientRect(),n=this.getSize(),i=e.width/n[0],r=e.height/n[1],o="changedTouches"in t?t.changedTouches[0]:t;return[(o.clientX-e.left)/i,(o.clientY-e.top)/r]}getTarget(){return this.get(JD)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return MI(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const e=this.frameState_;return e?DP(e.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(ZD)}setLayers(t){const e=this.getLayerGroup();if(t instanceof FP)return void e.setLayers(t);const n=e.getLayers();n.clear(),n.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,n=t.length;e<n;++e){const n=t[e];if(!n.visible)continue;const i=n.layer.getRenderer();if(i&&!i.ready)return!0;const r=n.layer.getSource();if(r&&r.loading)return!0}return!1}getPixelFromCoordinate(t){const e=kI(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)}getPixelFromCoordinateInternal(t){const e=this.frameState_;return e?DP(e.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(YD)}getView(){return this.get(QD)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,e,n,i){return function(t,e,n,i,r){if(!t||!(n in t.wantedTiles))return tz;if(!t.wantedTiles[n][e.getKey()])return tz;const o=t.viewState.center,s=i[0]-o[0],a=i[1]-o[1];return 65536*Math.log(r)+Math.sqrt(s*s+a*a)/r}(this.frameState_,t,e,n,i)}handleBrowserEvent(t,e){e=e||t.type;const n=new zD(e,this,t);this.handleMapBrowserEvent(n)}handleMapBrowserEvent(t){if(!this.frameState_)return;const e=t.originalEvent,n=e.type;if(n===WD||n===vP||n===pP){const t=this.getOwnerDocument(),n=this.viewport_.getRootNode?this.viewport_.getRootNode():t,i=e.target;if(this.overlayContainerStopEvent_.contains(i)||!(n===t?t.documentElement:n).contains(i))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t)){const e=this.getInteractions().getArray().slice();for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.getMap()===this&&i.getActive()&&this.getTargetElement()&&(!i.handleEvent(t)||t.propagationStopped))break}}}handlePostRender(){const t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){let n=this.maxTilesLoading_,i=n;if(t){const e=t.viewHints;if(e[xL]||e[bL]){const e=Date.now()-t.time>8;n=e?0:8,i=e?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}t&&this.renderer_&&!t.animate&&(!0===this.renderComplete_?(this.hasListener(TO)&&this.renderer_.dispatchRenderEvent(TO,t),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new DD(KD,this,t)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new DD(XD,this,t))));const n=this.postRenderFunctions_;for(let i=0,r=n.length;i<r;++i)n[i](this,t);n.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)bP(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(hP,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(vP,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,hF(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const t=this.targetElement_.getRootNode();t instanceof ShadowRoot&&this.resizeObserver_.unobserve(t.host),this.setSize(void 0)}const t=this.getTarget(),e="string"==typeof t?document.getElementById(t):t;if(this.targetElement_=e,e){e.appendChild(this.viewport_),this.renderer_||(this.renderer_=new LD(this)),this.mapBrowserEventHandler_=new UD(this,this.moveTolerance_);for(const e in $D)this.mapBrowserEventHandler_.addEventListener($D[e],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(hP,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(vP,this.boundHandleBrowserEvent_,!!oF&&{passive:!1});const t=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.targetChangeHandlerKeys_=[_P(t,pP,this.handleBrowserEvent,this),_P(t,gP,this.handleBrowserEvent,this)];const n=e.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.observe(n.host),this.resizeObserver_.observe(e)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(bP(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(bP(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=_P(t,XT,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=_P(t,uP,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(bP),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new AD("addlayer",t)),this.layerGroupPropertyListenerKeys_=[_P(t,XT,this.render,this),_P(t,uP,this.render,this),_P(t,"addlayer",this.handleLayerAdd_,this),_P(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,n=t.length;e<n;++e){const n=t[e].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){qz(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const e=this.getSize(),n=this.getView(),i=this.frameState_;let r=null;if(void 0!==e&&MF(e)&&n&&n.isDef()){const i=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),o=n.getState();if(r={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:yR(o.center,o.resolution,o.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:o,viewHints:i,wantedTiles:{},mapId:MP(this),renderTargets:{}},o.nextCenter&&o.nextResolution){const t=isNaN(o.nextRotation)?o.rotation:o.nextRotation;r.nextExtent=yR(o.nextCenter,o.nextResolution,t,e)}}this.frameState_=r,this.renderer_.renderFrame(r),r&&(r.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,r.postRenderFunctions),i&&(!this.previousExtent_||!CR(this.previousExtent_)&&!sR(r.extent,this.previousExtent_))&&(this.dispatchEvent(new DD(VD,this,i)),this.previousExtent_=iR(this.previousExtent_)),this.previousExtent_&&!r.viewHints[xL]&&!r.viewHints[bL]&&!sR(r.extent,this.previousExtent_)&&(this.dispatchEvent(new DD(qD,this,r)),ZP(r.extent,this.previousExtent_))),this.dispatchEvent(new DD(HD,this,r)),this.renderComplete_=this.hasListener(XD)||this.hasListener(KD)||this.hasListener(TO)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()}),0))}setLayerGroup(t){const e=this.getLayerGroup();e&&this.handleLayerRemove_(new AD("removelayer",e)),this.set(ZD,t)}setSize(t){this.set(YD,t)}setTarget(t){this.set(JD,t)}setView(t){if(!t||t instanceof AL)return void this.set(QD,t);this.set(QD,new AL);const e=this;t.then((function(t){e.setView(new AL(t))}))}updateSize(){const t=this.getTargetElement();let e;if(t){const n=getComputedStyle(t),i=t.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),r=t.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(i)||isNaN(r)||(e=[i,r],!MF(e)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&hI("No map visible because the map container's width or height are 0."))}const n=this.getSize();!e||n&&tP(e,n)||(this.setSize(e),this.updateViewportSize_(e))}updateViewportSize_(t){const e=this.getView();e&&e.setViewportSize(t)}};class Zz{constructor(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let e=this.oldest_;for(;e;)t(e.value_,e.key_,this),e=e.newer}get(t,e){const n=this.entries_[t];return LP(void 0!==n,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_}remove(t){const e=this.entries_[t];return LP(void 0!==e,"Tried to get a value for a key that does not exist in the cache"),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let e,n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.key_;return t}getValues(){const t=new Array(this.count_);let e,n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){var e;return null==(e=this.entries_[t])?void 0:e.value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,e){this.get(t),this.entries_[t].value_=e}set(t,e){LP(!(t in this.entries_),"Tried to set a value for a key that is used already");const n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_}setSize(t){this.highWaterMark=t}}function Yz(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function Jz(t,e,n){return t+"/"+e+"/"+n}function Qz(t){return Jz(t[0],t[1],t[2])}class t$ extends Zz{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()}pruneExceptNewestZ(){if(0===this.getCount())return;const t=function(t){return t.split("/").map(Number)}(this.peekFirstKey()),e=t[0];this.forEach((t=>{t.tileCoord[0]!==e&&(this.remove(Qz(t.tileCoord)),t.release())}))}}class e${constructor(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function n$(t,e,n,i,r){return void 0!==r?(r.minX=t,r.maxX=e,r.minY=n,r.maxY=i,r):new e$(t,e,n,i)}const i$=new U.createContext;var r$=6378137,o$=.0066943799901413165,s$=484813681109536e-20,a$=Math.PI/2,l$=1e-10,u$=.017453292519943295,c$=57.29577951308232,h$=Math.PI/4,d$=2*Math.PI,f$=3.14159265359,p$={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};const g$={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var m$=/[\s_\-\/\(\)]/g;function y$(t,e){if(t[e])return t[e];for(var n,i=Object.keys(t),r=e.toLowerCase().replace(m$,""),o=-1;++o<i.length;)if((n=i[o]).toLowerCase().replace(m$,"")===r)return t[n]}function v$(t){var e,n,i,r={},o=t.split("+").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t}),{}),s={proj:"projName",datum:"datumCode",rf:function(t){r.rf=parseFloat(t)},lat_0:function(t){r.lat0=t*u$},lat_1:function(t){r.lat1=t*u$},lat_2:function(t){r.lat2=t*u$},lat_ts:function(t){r.lat_ts=t*u$},lon_0:function(t){r.long0=t*u$},lon_1:function(t){r.long1=t*u$},lon_2:function(t){r.long2=t*u$},alpha:function(t){r.alpha=parseFloat(t)*u$},gamma:function(t){r.rectified_grid_angle=parseFloat(t)},lonc:function(t){r.longc=t*u$},x_0:function(t){r.x0=parseFloat(t)},y_0:function(t){r.y0=parseFloat(t)},k_0:function(t){r.k0=parseFloat(t)},k:function(t){r.k0=parseFloat(t)},a:function(t){r.a=parseFloat(t)},b:function(t){r.b=parseFloat(t)},r_a:function(){r.R_A=!0},zone:function(t){r.zone=parseInt(t,10)},south:function(){r.utmSouth=!0},towgs84:function(t){r.datum_params=t.split(",").map((function(t){return parseFloat(t)}))},to_meter:function(t){r.to_meter=parseFloat(t)},units:function(t){r.units=t;var e=y$(g$,t);e&&(r.to_meter=e.to_meter)},from_greenwich:function(t){r.from_greenwich=t*u$},pm:function(t){var e=y$(p$,t);r.from_greenwich=(e||parseFloat(t))*u$},nadgrids:function(t){"@null"===t?r.datumCode="none":r.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(r.axis=t)},approx:function(){r.approx=!0}};for(e in o)n=o[e],e in s?"function"==typeof(i=s[e])?i(n):r[i]=n:r[e]=n;return"string"==typeof r.datumCode&&"WGS84"!==r.datumCode&&(r.datumCode=r.datumCode.toLowerCase()),r}var _$,x$=/\s/,b$=/[A-Za-z]/,w$=/[A-Za-z84_]/,S$=/[,\]]/,E$=/[\d\.E\-\+]/;function C$(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}function M$(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var i=e?{}:t,r=n.reduce((function(t,e){return k$(e,t),t}),i);e&&(t[e]=r)}function k$(t,e){if(Array.isArray(t)){var n=t.shift();if("PARAMETER"===n&&(n=t.shift()),1===t.length)return Array.isArray(t[0])?(e[n]={},void k$(t[0],e[n])):void(e[n]=t[0]);if(t.length)if("TOWGS84"!==n){if("AXIS"===n)return n in e||(e[n]=[]),void e[n].push(t);var i;switch(Array.isArray(n)||(e[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[n]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&k$(t[2],e[n]));case"SPHEROID":case"ELLIPSOID":return e[n]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&k$(t[3],e[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void M$(e,n,t);default:for(i=-1;++i<t.length;)if(!Array.isArray(t[i]))return k$(t,e[n]);return M$(e,n,t)}}else e[n]=t;else e[n]=!0}else e[t]=!0}function T$(t){return.017453292519943295*t}function P$(t){var e=new C$(t).output(),n=e.shift(),i=e.shift();e.unshift(["name",i]),e.unshift(["type",n]);var r={};return k$(e,r),function(t){if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",n=0,i=t.AXIS.length;n<i;++n){var r=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];-1!==r[0].indexOf("north")||("y"===r[0]||"lat"===r[0])&&"north"===r[1]?e+="n":-1!==r[0].indexOf("south")||("y"===r[0]||"lat"===r[0])&&"south"===r[1]?e+="s":-1!==r[0].indexOf("east")||("x"===r[0]||"lon"===r[0])&&"east"===r[1]?e+="e":-1===r[0].indexOf("west")&&("x"!==r[0]&&"lon"!==r[0]||"west"!==r[1])||(e+="w")}2===e.length&&(e+="u"),3===e.length&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var o=t.GEOGCS;function s(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(o=t),o&&(o.DATUM?t.datumCode=o.DATUM.name.toLowerCase():t.datumCode=o.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"!==t.datumCode&&"world_geodetic_system_1984"!==t.datumCode||("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),o.DATUM&&o.DATUM.SPHEROID&&(t.ellps=o.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=o.DATUM.SPHEROID.a,t.rf=parseFloat(o.DATUM.SPHEROID.rf,10)),o.DATUM&&o.DATUM.TOWGS84&&(t.datum_params=o.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",T$],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",T$],["x0","false_easting",s],["y0","false_northing",s],["long0","central_meridian",T$],["lat0","latitude_of_origin",T$],["lat0","standard_parallel_1",T$],["lat1","standard_parallel_1",T$],["lat2","standard_parallel_2",T$],["azimuth","Azimuth"],["alpha","azimuth",T$],["srsCode","name"]].forEach((function(e){return n=t,r=(i=e)[0],o=i[1],void(!(r in n)&&o in n&&(n[r]=n[o],3===i.length&&(n[r]=i[2](n[r]))));var n,i,r,o})),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName?!t.lat_ts&&t.lat0&&"Polar_Stereographic"===t.projName&&(t.lat_ts=t.lat0,t.lat0=T$(t.lat0>0?90:-90)):(t.lat0=T$(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(r),r}function R$(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?R$[t]=v$(arguments[1]):R$[t]=P$(arguments[1]):R$[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?R$.apply(e,t):R$(t)}));if("string"==typeof t){if(t in R$)return R$[t]}else"EPSG"in t?R$["EPSG:"+t.EPSG]=t:"ESRI"in t?R$["ESRI:"+t.ESRI]=t:"IAU2000"in t?R$["IAU2000:"+t.IAU2000]=t:console.log(t);return}}C$.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;x$.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case 1:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},C$.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(S$.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},C$.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=1)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},C$.prototype.number=function(t){if(!E$.test(t)){if(S$.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},C$.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},C$.prototype.keyword=function(t){if(w$.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=1)}if(!S$.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},C$.prototype.neutral=function(t){if(b$.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(E$.test(t))return this.word=t,void(this.state=3);if(!S$.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},C$.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)},(_$=R$)("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),_$("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),_$("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),_$.WGS84=_$["EPSG:4326"],_$["EPSG:3785"]=_$["EPSG:3857"],_$.GOOGLE=_$["EPSG:3857"],_$["EPSG:900913"]=_$["EPSG:3857"],_$["EPSG:102113"]=_$["EPSG:3857"];var I$=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],O$=["3857","900913","3785","102113"];function F$(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in R$}(t))return R$[t];if(function(t){return I$.some((function(e){return t.indexOf(e)>-1}))}(t)){var e=P$(t);if(function(t){var e=y$(t,"authority");if(e){var n=y$(e,"epsg");return n&&O$.indexOf(n)>-1}}(e))return R$["EPSG:3857"];var n=function(t){var e=y$(t,"extension");if(e)return y$(e,"proj4")}(e);return n?v$(n):e}return function(t){return"+"===t[0]}(t)?v$(t):void 0}function L$(t,e){var n,i;if(t=t||{},!e)return t;for(i in e)void 0!==(n=e[i])&&(t[i]=n);return t}function A$(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)}function j$(t){return t<0?-1:1}function N$(t){return Math.abs(t)<=f$?t:t-j$(t)*d$}function D$(t,e,n){var i=t*n,r=.5*t;return i=Math.pow((1-i)/(1+i),r),Math.tan(.5*(a$-e))/i}function z$(t,e){for(var n,i,r=.5*t,o=a$-2*Math.atan(e),s=0;s<=15;s++)if(n=t*Math.sin(o),o+=i=a$-2*Math.atan(e*Math.pow((1-n)/(1+n),r))-o,Math.abs(i)<=1e-10)return o;return-9999}function $$(t){return t}var B$=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=A$(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,n,i=t.x,r=t.y;if(r*c$>90&&r*c$<-90&&i*c$>180&&i*c$<-180)return null;if(Math.abs(Math.abs(r)-a$)<=l$)return null;if(this.sphere)e=this.x0+this.a*this.k0*N$(i-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(h$+.5*r));else{var o=Math.sin(r),s=D$(this.e,r,o);e=this.x0+this.a*this.k0*N$(i-this.long0),n=this.y0-this.a*this.k0*Math.log(s)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,i=t.x-this.x0,r=t.y-this.y0;if(this.sphere)n=a$-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var o=Math.exp(-r/(this.a*this.k0));if(-9999===(n=z$(this.e,o)))return null}return e=N$(this.long0+i/(this.a*this.k0)),t.x=e,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:$$,inverse:$$,names:["longlat","identity"]}],W$={},G$=[];function U$(t,e){var n=G$.length;return t.names?(G$[n]=t,t.names.forEach((function(t){W$[t.toLowerCase()]=n})),this):(console.log(e),!0)}const H$={start:function(){B$.forEach(U$)},add:U$,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==W$[e]&&G$[W$[e]]?G$[W$[e]]:void 0}};var V$={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:6378249.2,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},q$=V$.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};V$.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"},(t={}).wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},t.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},t.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},t.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},t.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},t.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},t.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},t.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},t.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},t.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},t.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},t.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},t.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},t.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},t.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},t.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},t.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var X$={};function K$(t){if(0===t.length)return null;var e="@"===t[0];return e&&(t=t.slice(1)),"null"===t?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:X$[t]||null,isNull:!1}}function Z$(t){return t/3600*Math.PI/180}function Y$(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function J$(t){return t.map((function(t){return[Z$(t.longitudeShift),Z$(t.latitudeShift)]}))}function Q$(t,e,n){return{name:Y$(t,e+8,e+16).trim(),parent:Y$(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function tB(t,e,n,i){for(var r=e+176,o=[],s=0;s<n.gridNodeCount;s++){var a={latitudeShift:t.getFloat32(r+16*s,i),longitudeShift:t.getFloat32(r+16*s+4,i),latitudeAccuracy:t.getFloat32(r+16*s+8,i),longitudeAccuracy:t.getFloat32(r+16*s+12,i)};o.push(a)}return o}function eB(e,n){if(!(this instanceof eB))return new eB(e);n=n||function(t){if(t)throw t};var i=F$(e);if("object"==typeof i){var r=eB.projections.get(i.projName);if(r){if(i.datumCode&&"none"!==i.datumCode){var o=y$(t,i.datumCode);o&&(i.datum_params=i.datum_params||(o.towgs84?o.towgs84.split(","):null),i.ellps=o.ellipse,i.datumName=o.datumName?o.datumName:i.datumCode)}i.k0=i.k0||1,i.axis=i.axis||"enu",i.ellps=i.ellps||"wgs84",i.lat1=i.lat1||i.lat0;var s=function(t,e,n,i,r){if(!t){var o=y$(V$,i);o||(o=q$),t=o.a,e=o.b,n=o.rf}return n&&!e&&(e=(1-1/n)*t),(0===n||Math.abs(t-e)<l$)&&(r=!0,e=t),{a:t,b:e,rf:n,sphere:r}}(i.a,i.b,i.rf,i.ellps,i.sphere),a=function(t,e,n,i){var r=t*t,o=e*e,s=(r-o)/r,a=0;return i?(r=(t*=1-s*(.16666666666666666+s*(.04722222222222222+.022156084656084655*s)))*t,s=0):a=Math.sqrt(s),{es:s,e:a,ep2:(r-o)/o}}(s.a,s.b,s.rf,i.R_A),l=function(t){return void 0===t?null:t.split(",").map(K$)}(i.nadgrids),u=i.datum||function(t,e,n,i,r,o,s){var a={};return a.datum_type=void 0===t||"none"===t?5:4,e&&(a.datum_params=e.map(parseFloat),0===a.datum_params[0]&&0===a.datum_params[1]&&0===a.datum_params[2]||(a.datum_type=1),a.datum_params.length>3&&(0===a.datum_params[3]&&0===a.datum_params[4]&&0===a.datum_params[5]&&0===a.datum_params[6]||(a.datum_type=2,a.datum_params[3]*=s$,a.datum_params[4]*=s$,a.datum_params[5]*=s$,a.datum_params[6]=a.datum_params[6]/1e6+1))),s&&(a.datum_type=3,a.grids=s),a.a=n,a.b=i,a.es=r,a.ep2=o,a}(i.datumCode,i.datum_params,s.a,s.b,a.es,a.ep2,l);L$(this,i),L$(this,r),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=a.es,this.e=a.e,this.ep2=a.ep2,this.datum=u,this.init(),n(null,this)}else n(e)}else n(e)}function nB(t,e,n){var i,r,o,s,a=t.x,l=t.y,u=t.z?t.z:0;if(l<-a$&&l>-1.001*a$)l=-a$;else if(l>a$&&l<1.001*a$)l=a$;else{if(l<-a$)return{x:-1/0,y:-1/0,z:t.z};if(l>a$)return{x:1/0,y:1/0,z:t.z}}return a>Math.PI&&(a-=2*Math.PI),r=Math.sin(l),s=Math.cos(l),o=r*r,{x:((i=n/Math.sqrt(1-e*o))+u)*s*Math.cos(a),y:(i+u)*s*Math.sin(a),z:(i*(1-e)+u)*r}}function iB(t,e,n,i){var r,o,s,a,l,u,c,h,d,f,p,g,m,y,v,_=1e-12,x=t.x,b=t.y,w=t.z?t.z:0;if(r=Math.sqrt(x*x+b*b),o=Math.sqrt(x*x+b*b+w*w),r/n<_){if(y=0,o/n<_)return v=-i,{x:t.x,y:t.y,z:t.z}}else y=Math.atan2(b,x);s=w/o,h=(a=r/o)*(1-e)*(l=1/Math.sqrt(1-e*(2-e)*a*a)),d=s*l,m=0;do{m++,u=e*(c=n/Math.sqrt(1-e*d*d))/(c+(v=r*h+w*d-c*(1-e*d*d))),g=(p=s*(l=1/Math.sqrt(1-u*(2-u)*a*a)))*h-(f=a*(1-u)*l)*d,h=f,d=p}while(g*g>1e-24&&m<30);return{x:y,y:Math.atan(p/Math.abs(f)),z:v}}function rB(t){return 1===t||2===t}function oB(t,e,n){if(function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(1===t.datum_type?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:2!==t.datum_type||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e))return n;if(5===t.datum_type||5===e.datum_type)return n;var i=t.a,r=t.es;if(3===t.datum_type){if(0!==sB(t,!1,n))return;i=r$,r=o$}var o=e.a,s=e.b,a=e.es;return 3===e.datum_type&&(o=r$,s=6356752.314,a=o$),r!==a||i!==o||rB(t.datum_type)||rB(e.datum_type)?(n=nB(n,r,i),rB(t.datum_type)&&(n=function(t,e,n){if(1===e)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(2===e){var i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],l=n[5],u=n[6];return{x:u*(t.x-l*t.y+a*t.z)+i,y:u*(l*t.x+t.y-s*t.z)+r,z:u*(-a*t.x+s*t.y+t.z)+o}}}(n,t.datum_type,t.datum_params)),rB(e.datum_type)&&(n=function(t,e,n){if(1===e)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(2===e){var i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],l=n[5],u=n[6],c=(t.x-i)/u,h=(t.y-r)/u,d=(t.z-o)/u;return{x:c+l*h-a*d,y:-l*c+h+s*d,z:a*c-s*h+d}}}(n,e.datum_type,e.datum_params)),n=iB(n,a,o,s),3!==e.datum_type||0===sB(e,!0,n)?n:void 0):n}function sB(t,e,n){if(null===t.grids||0===t.grids.length)return console.log("Grid shift grids not found"),-1;for(var i={x:-n.x,y:n.y},r={x:Number.NaN,y:Number.NaN},o=[],s=0;s<t.grids.length;s++){var a=t.grids[s];if(o.push(a.name),a.isNull){r=i;break}if(a.mandatory,null!==a.grid){var l=a.grid.subgrids[0],u=(Math.abs(l.del[1])+Math.abs(l.del[0]))/1e4,c=l.ll[0]-u,h=l.ll[1]-u,d=l.ll[0]+(l.lim[0]-1)*l.del[0]+u,f=l.ll[1]+(l.lim[1]-1)*l.del[1]+u;if(!(h>i.y||c>i.x||f<i.y||d<i.x||(r=aB(i,e,l),isNaN(r.x))))break}else if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1}return isNaN(r.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*c$+" "+i.y*c$+" tried: '"+o+"'"),-1):(n.x=-r.x,n.y=r.y,0)}function aB(t,e,n){var i={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return i;var r={x:t.x,y:t.y};r.x-=n.ll[0],r.y-=n.ll[1],r.x=N$(r.x-Math.PI)+Math.PI;var o=lB(r,n);if(e){if(isNaN(o.x))return i;o.x=r.x-o.x,o.y=r.y-o.y;var s,a,l=9;do{if(a=lB(o,n),isNaN(a.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}s={x:r.x-(a.x+o.x),y:r.y-(a.y+o.y)},o.x+=s.x,o.y+=s.y}while(l--&&Math.abs(s.x)>1e-12&&Math.abs(s.y)>1e-12);if(l<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=N$(o.x+n.ll[0]),i.y=o.y+n.ll[1]}else isNaN(o.x)||(i.x=t.x+o.x,i.y=t.y+o.y);return i}function lB(t,e){var n,i={x:t.x/e.del[0],y:t.y/e.del[1]},r=Math.floor(i.x),o=Math.floor(i.y),s=i.x-1*r,a=i.y-1*o,l={x:Number.NaN,y:Number.NaN};if(r<0||r>=e.lim[0])return l;if(o<0||o>=e.lim[1])return l;n=o*e.lim[0]+r;var u=e.cvs[n][0],c=e.cvs[n][1];n++;var h=e.cvs[n][0],d=e.cvs[n][1];n+=e.lim[0];var f=e.cvs[n][0],p=e.cvs[n][1];n--;var g=e.cvs[n][0],m=e.cvs[n][1],y=s*a,v=s*(1-a),_=(1-s)*(1-a),x=(1-s)*a;return l.x=_*u+v*h+x*g+y*f,l.y=_*c+v*d+x*m+y*p,l}function uB(t,e,n){var i,r,o,s=n.x,a=n.y,l=n.z||0,u={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(i=s,r=-1!=="ew".indexOf(t.axis[o])?"x":"y"):1===o?(i=a,r=-1!=="ns".indexOf(t.axis[o])?"y":"x"):(i=l,r="z"),t.axis[o]){case"e":case"n":u[r]=i;break;case"w":case"s":u[r]=-i;break;case"u":void 0!==n[r]&&(u.z=i);break;case"d":void 0!==n[r]&&(u.z=-i);break;default:return null}return u}function cB(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function hB(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function dB(t,e,n,i){var r,o=void 0!==(n=Array.isArray(n)?cB(n):{x:n.x,y:n.y,z:n.z,m:n.m}).z;if(function(t){hB(t.x),hB(t.y)}(n),t.datum&&e.datum&&function(t,e){return(1===t.datum.datum_type||2===t.datum.datum_type||3===t.datum.datum_type)&&"WGS84"!==e.datumCode||(1===e.datum.datum_type||2===e.datum.datum_type||3===e.datum.datum_type)&&"WGS84"!==t.datumCode}(t,e)&&(n=dB(t,r=new eB("WGS84"),n,i),t=r),i&&"enu"!==t.axis&&(n=uB(t,!1,n)),"longlat"===t.projName)n={x:n.x*u$,y:n.y*u$,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),!(n=t.inverse(n)))return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=oB(t.datum,e.datum,n))return e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),"longlat"===e.projName?n={x:n.x*c$,y:n.y*c$,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),i&&"enu"!==e.axis?uB(e,!0,n):(o||delete n.z,n)}eB.projections=H$,eB.projections.start();var fB=eB("WGS84");function pB(t,e,n,i){var r,o,s;return Array.isArray(n)?(r=dB(t,e,n,i)||{x:NaN,y:NaN},n.length>2?void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name?"number"==typeof r.z?[r.x,r.y,r.z].concat(n.splice(3)):[r.x,r.y,n[2]].concat(n.splice(3)):[r.x,r.y].concat(n.splice(2)):[r.x,r.y]):(o=dB(t,e,n,i),2===(s=Object.keys(n)).length||s.forEach((function(i){if(void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name){if("x"===i||"y"===i||"z"===i)return}else if("x"===i||"y"===i)return;o[i]=n[i]})),o)}function gB(t){return t instanceof eB?t:t.oProj?t.oProj:eB(t)}function mB(t,e,n){t=gB(t);var i,r=!1;return void 0===e?(e=t,t=fB,r=!0):(void 0!==e.x||Array.isArray(e))&&(n=e,e=t,t=fB,r=!0),e=gB(e),n?pB(t,e,n):(i={forward:function(n,i){return pB(t,e,n,i)},inverse:function(n,i){return pB(e,t,n,i)}},r&&(i.oProj=e),i)}var yB="AJSAJS",vB="AFAFAF",_B=65,xB=73,bB=79,wB=86,SB=90;const EB={forward:CB,inverse:function(t){var e=PB(OB(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},toPoint:MB};function CB(t,e){return e=e||5,function(t,e){var n,i,r,o,s,a,l,u,c,h,d,f,p,g,m="00000"+t.easting,y="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(c=t.easting,h=t.northing,d=t.zoneNumber,f=IB(d),p=Math.floor(c/1e5),g=Math.floor(h/1e5)%20,n=p,i=g,o=yB.charCodeAt(r=f-1),s=vB.charCodeAt(r),u=!1,(a=o+n-1)>SB&&(a=a-SB+_B-1,u=!0),(a===xB||o<xB&&a>xB||(a>xB||o<xB)&&u)&&a++,(a===bB||o<bB&&a>bB||(a>bB||o<bB)&&u)&&++a===xB&&a++,a>SB&&(a=a-SB+_B-1),(l=s+i)>wB?(l=l-wB+_B-1,u=!0):u=!1,(l===xB||s<xB&&l>xB||(l>xB||s<xB)&&u)&&l++,(l===bB||s<bB&&l>bB||(l>bB||s<bB)&&u)&&++l===xB&&l++,l>wB&&(l=l-wB+_B-1),String.fromCharCode(a)+String.fromCharCode(l))+m.substr(m.length-5,e)+y.substr(y.length-5,e)}(function(t){var e,n,i,r,o,s,a,l,u=t.lat,c=t.lon,h=6378137,d=.00669438,f=.9996,p=kB(u),g=kB(c);l=Math.floor((c+180)/6)+1,180===c&&(l=60),u>=56&&u<64&&c>=3&&c<12&&(l=32),u>=72&&u<84&&(c>=0&&c<9?l=31:c>=9&&c<21?l=33:c>=21&&c<33?l=35:c>=33&&c<42&&(l=37)),a=kB(6*(l-1)-180+3),e=d/(1-d),n=h/Math.sqrt(1-d*Math.sin(p)*Math.sin(p)),i=Math.tan(p)*Math.tan(p),r=e*Math.cos(p)*Math.cos(p),o=Math.cos(p)*(g-a),s=h*((1-d/4-3*d*d/64-5*d*d*d/256)*p-(3*d/8+3*d*d/32+45*d*d*d/1024)*Math.sin(2*p)+(15*d*d/256+45*d*d*d/1024)*Math.sin(4*p)-35*d*d*d/3072*Math.sin(6*p));var m=f*n*(o+(1-i+r)*o*o*o/6+(5-18*i+i*i+72*r-58*e)*o*o*o*o*o/120)+5e5,y=f*(s+n*Math.tan(p)*(o*o/2+(5-i+9*r+4*r*r)*o*o*o*o/24+(61-58*i+i*i+600*r-330*e)*o*o*o*o*o*o/720));return u<0&&(y+=1e7),{northing:Math.round(y),easting:Math.round(m),zoneNumber:l,zoneLetter:RB(u)}}({lat:t[1],lon:t[0]}),e)}function MB(t){var e=PB(OB(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function kB(t){return t*(Math.PI/180)}function TB(t){return t/Math.PI*180}function PB(t){var e=t.northing,n=t.easting,i=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var o,s,a,l,u,c,h,d,f,p=.9996,g=6378137,m=.00669438,y=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),v=n-5e5,_=e;i<"N"&&(_-=1e7),h=6*(r-1)-180+3,o=.006739496752268451,f=(d=_/p/6367449.145945056)+(3*y/2-27*y*y*y/32)*Math.sin(2*d)+(21*y*y/16-55*y*y*y*y/32)*Math.sin(4*d)+151*y*y*y/96*Math.sin(6*d),s=g/Math.sqrt(1-m*Math.sin(f)*Math.sin(f)),a=Math.tan(f)*Math.tan(f),l=o*Math.cos(f)*Math.cos(f),u=.99330562*g/Math.pow(1-m*Math.sin(f)*Math.sin(f),1.5),c=v/(s*p);var x=f-s*Math.tan(f)/u*(c*c/2-(5+3*a+10*l-4*l*l-9*o)*c*c*c*c/24+(61+90*a+298*l+45*a*a-1.6983531815716497-3*l*l)*c*c*c*c*c*c/720);x=TB(x);var b,w=(c-(1+2*a+l)*c*c*c/6+(5-2*l+28*a-3*l*l+8*o+24*a*a)*c*c*c*c*c/120)/Math.cos(f);if(w=h+TB(w),t.accuracy){var S=PB({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});b={top:S.lat,right:S.lon,bottom:x,left:w}}else b={lat:x,lon:w};return b}function RB(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function IB(t){var e=t%6;return 0===e&&(e=6),e}function OB(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,i=null,r="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,o++}var s=parseInt(r,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(o++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;i=t.substring(o,o+=2);for(var l=IB(s),u=function(t,e){for(var n=yB.charCodeAt(e-1),i=1e5,r=!1;n!==t.charCodeAt(0);){if(++n===xB&&n++,n===bB&&n++,n>SB){if(r)throw"Bad character: "+t;n=_B,r=!0}i+=1e5}return i}(i.charAt(0),l),c=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=vB.charCodeAt(e-1),i=0,r=!1;n!==t.charCodeAt(0);){if(++n===xB&&n++,n===bB&&n++,n>wB){if(r)throw"Bad character: "+t;n=_B,r=!0}i+=1e5}return i}(i.charAt(1),l);c<FB(a);)c+=2e6;var h=n-o;if(h%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var d,f,p,g=h/2,m=0,y=0;return g>0&&(d=1e5/Math.pow(10,g),f=t.substring(o,o+g),m=parseFloat(f)*d,p=t.substring(o+g),y=parseFloat(p)*d),{easting:m+u,northing:y+c,zoneLetter:a,zoneNumber:s,accuracy:d}}function FB(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function LB(t,e,n){if(!(this instanceof LB))return new LB(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}LB.fromMGRS=function(t){return new LB(MB(t))},LB.prototype.toMGRS=function(t){return CB([this.x,this.y],t)};var AB=.046875,jB=.01953125,NB=.01068115234375;function DB(t){var e=[];e[0]=1-t*(.25+t*(AB+t*(jB+t*NB))),e[1]=t*(.75-t*(AB+t*(jB+t*NB)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),n*=t,e[3]=n*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e}function zB(t,e,n,i){return n*=e,e*=e,i[0]*t-n*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}function $B(t,e,n){for(var i=1/(1-e),r=t,o=20;o;--o){var s=Math.sin(r),a=1-e*s*s;if(r-=a=(zB(r,s,Math.cos(r),n)-t)*(a*Math.sqrt(a))*i,Math.abs(a)<l$)return r}return r}const BB={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=DB(this.es),this.ml0=zB(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,n,i,r=t.x,o=t.y,s=N$(r-this.long0),a=Math.sin(o),l=Math.cos(o);if(this.es){var u=l*s,c=Math.pow(u,2),h=this.ep2*Math.pow(l,2),d=Math.pow(h,2),f=Math.abs(l)>l$?Math.tan(o):0,p=Math.pow(f,2),g=Math.pow(p,2);e=1-this.es*Math.pow(a,2),u/=Math.sqrt(e);var m=zB(o,a,l,this.en);n=this.a*(this.k0*u*(1+c/6*(1-p+h+c/20*(5-18*p+g+14*h-58*p*h+c/42*(61+179*g-g*p-479*p)))))+this.x0,i=this.a*(this.k0*(m-this.ml0+a*s*u/2*(1+c/12*(5-p+9*h+4*d+c/30*(61+g-58*p+270*h-330*p*h+c/56*(1385+543*g-g*p-3111*p))))))+this.y0}else{var y=l*Math.sin(s);if(Math.abs(Math.abs(y)-1)<l$)return 93;if(n=.5*this.a*this.k0*Math.log((1+y)/(1-y))+this.x0,i=l*Math.cos(s)/Math.sqrt(1-Math.pow(y,2)),(y=Math.abs(i))>=1){if(y-1>l$)return 93;i=0}else i=Math.acos(i);o<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return t.x=n,t.y=i,t},inverse:function(t){var e,n,i,r,o=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(this.es)if(n=$B(e=this.ml0+s/this.k0,this.es,this.en),Math.abs(n)<a$){var a=Math.sin(n),l=Math.cos(n),u=Math.abs(l)>l$?Math.tan(n):0,c=this.ep2*Math.pow(l,2),h=Math.pow(c,2),d=Math.pow(u,2),f=Math.pow(d,2);e=1-this.es*Math.pow(a,2);var p=o*Math.sqrt(e)/this.k0,g=Math.pow(p,2);i=n-(e*=u)*g/(1-this.es)*.5*(1-g/12*(5+3*d-9*c*d+c-4*h-g/30*(61+90*d-252*c*d+45*f+46*c-g/56*(1385+3633*d+4095*f+1574*f*d)))),r=N$(this.long0+p*(1-g/6*(1+2*d+c-g/20*(5+28*d+24*f+8*c*d+6*c-g/42*(61+662*d+1320*f+720*f*d))))/l)}else i=a$*j$(s),r=0;else{var m=Math.exp(o/this.k0),y=.5*(m-1/m),v=this.lat0+s/this.k0,_=Math.cos(v);e=Math.sqrt((1-Math.pow(_,2))/(1+Math.pow(y,2))),i=Math.asin(e),s<0&&(i=-i),r=0===y&&0===_?0:N$(Math.atan2(y,_)+this.long0)}return t.x=r,t.y=i,t},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]};function WB(t){var e=Math.exp(t);return e=(e-1/e)/2}function GB(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),i=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))}function UB(t){var e=Math.abs(t);return e=function(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}(e*(1+e/(GB(1,e)+1))),t<0?-e:e}function HB(t,e){for(var n,i=2*Math.cos(2*e),r=t.length-1,o=t[r],s=0;--r>=0;)n=i*o-s+t[r],s=o,o=n;return e+n*Math.sin(2*e)}function VB(t,e,n){for(var i,r,o=Math.sin(e),s=Math.cos(e),a=WB(n),l=function(t){var e=Math.exp(t);return(e+1/e)/2}(n),u=2*s*l,c=-2*o*a,h=t.length-1,d=t[h],f=0,p=0,g=0;--h>=0;)i=p,r=f,d=u*(p=d)-i-c*(f=g)+t[h],g=c*p-r+u*f;return[(u=o*l)*d-(c=s*a)*g,u*g+c*d]}const qB={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(BB.init.apply(this),this.forward=BB.forward,this.inverse=BB.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),n*=e,this.cgb[1]=n*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n*=e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),n*=e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),n*=e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n*=e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),n*=e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n*=e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n*=e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n*=e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=.6650675310896665*n;var i=HB(this.cbg,this.lat0);this.Zb=-this.Qn*(i+function(t,e){for(var n,i=2*Math.cos(e),r=t.length-1,o=t[r],s=0;--r>=0;)n=i*o-s+t[r],s=o,o=n;return Math.sin(e)*n}(this.gtu,2*i))},forward:function(t){var e=N$(t.x-this.long0),n=t.y;n=HB(this.cbg,n);var i=Math.sin(n),r=Math.cos(n),o=Math.sin(e),s=Math.cos(e);n=Math.atan2(i,s*r),e=Math.atan2(o*r,GB(i,r*s)),e=UB(Math.tan(e));var a,l,u=VB(this.gtu,2*n,2*e);return n+=u[0],e+=u[1],Math.abs(e)<=2.623395162778?(a=this.a*(this.Qn*e)+this.x0,l=this.a*(this.Qn*n+this.Zb)+this.y0):(a=1/0,l=1/0),t.x=a,t.y=l,t},inverse:function(t){var e,n,i=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);if(r=(r-this.Zb)/this.Qn,i/=this.Qn,Math.abs(i)<=2.623395162778){var o=VB(this.utg,2*r,2*i);r+=o[0],i+=o[1],i=Math.atan(WB(i));var s=Math.sin(r),a=Math.cos(r),l=Math.sin(i),u=Math.cos(i);r=Math.atan2(s*u,GB(l,u*a)),e=N$((i=Math.atan2(l,u*a))+this.long0),n=HB(this.cgb,r)}else e=1/0,n=1/0;return t.x=e,t.y=n,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]},XB={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(N$(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*u$,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,qB.init.apply(this),this.forward=qB.forward,this.inverse=qB.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function KB(t,e){return Math.pow((1-t)/(1+t),e)}const ZB={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+h$)/(Math.pow(Math.tan(.5*this.lat0+h$),this.C)*KB(this.e*t,this.ratexp))},forward:function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+h$),this.C)*KB(this.e*Math.sin(n),this.ratexp))-a$,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,n=t.y,i=Math.pow(Math.tan(.5*n+h$)/this.K,1/this.C),r=20;r>0&&(n=2*Math.atan(i*KB(this.e*Math.sin(t.y),-.5*this.e))-a$,!(Math.abs(n-t.y)<1e-14));--r)t.y=n;return r?(t.x=e,t.y=n,t):null},names:["gauss"]},YB={init:function(){ZB.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,n,i,r;return t.x=N$(t.x-this.long0),ZB.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*i),t.x=r*n*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*n*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,n,i,r,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var s=2*Math.atan2(o,this.R2);e=Math.sin(s),n=Math.cos(s),r=Math.asin(n*this.sinc0+t.y*e*this.cosc0/o),i=Math.atan2(t.x*e,o*this.cosc0*n-t.y*this.sinc0*e)}else r=this.phic0,i=0;return t.x=i,t.y=r,ZB.inverse.apply(this,[t]),t.x=N$(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},JB={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=l$&&(this.k0=.5*(1+j$(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=l$&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=l$&&(this.k0=.5*this.cons*A$(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/D$(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=A$(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-a$,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,n,i,r,o,s,a=t.x,l=t.y,u=Math.sin(l),c=Math.cos(l),h=N$(a-this.long0);return Math.abs(Math.abs(a-this.long0)-Math.PI)<=l$&&Math.abs(l+this.lat0)<=l$?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*u+this.coslat0*c*Math.cos(h)),t.x=this.a*e*c*Math.sin(h)+this.x0,t.y=this.a*e*(this.coslat0*u-this.sinlat0*c*Math.cos(h))+this.y0,t):(n=2*Math.atan(this.ssfn_(l,u,this.e))-a$,r=Math.cos(n),i=Math.sin(n),Math.abs(this.coslat0)<=l$?(o=D$(this.e,l*this.con,this.con*u),s=2*this.a*this.k0*o/this.cons,t.x=this.x0+s*Math.sin(a-this.long0),t.y=this.y0-this.con*s*Math.cos(a-this.long0),t):(Math.abs(this.sinlat0)<l$?(e=2*this.a*this.k0/(1+r*Math.cos(h)),t.y=e*i):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*r*Math.cos(h))),t.y=e*(this.cosX0*i-this.sinX0*r*Math.cos(h))+this.y0),t.x=e*r*Math.sin(h)+this.x0,t))},inverse:function(t){var e,n,i,r,o;t.x-=this.x0,t.y-=this.y0;var s=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var a=2*Math.atan(s/(2*this.a*this.k0));return e=this.long0,n=this.lat0,s<=l$?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(a)*this.sinlat0+t.y*Math.sin(a)*this.coslat0/s),e=Math.abs(this.coslat0)<l$?this.lat0>0?N$(this.long0+Math.atan2(t.x,-1*t.y)):N$(this.long0+Math.atan2(t.x,t.y)):N$(this.long0+Math.atan2(t.x*Math.sin(a),s*this.coslat0*Math.cos(a)-t.y*this.sinlat0*Math.sin(a))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=l$){if(s<=l$)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,i=s*this.cons/(2*this.a*this.k0),n=this.con*z$(this.e,i),e=this.con*N$(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else r=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=l$?o=this.X0:(o=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/s),e=N$(this.long0+Math.atan2(t.x*Math.sin(r),s*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))),n=-1*z$(this.e,Math.tan(.5*(a$+o)));return t.x=e,t.y=n,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,n){return e*=n,Math.tan(.5*(a$+t))*Math.pow((1-e)/(1+e),.5*n)}},QB={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=1/this.rf,r=2*i-Math.pow(i,2),o=this.e=Math.sqrt(r);this.R=this.k0*n*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+o*e)/(1-o*e));this.K=s-this.alpha*a+this.alpha*o/2*l},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+n)+this.K,r=2*(Math.atan(Math.exp(i))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*s+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,n=t.y-this.y0,i=e/this.R,r=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(i)),s=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(r))),a=this.lambda0+s/this.alpha,l=0,u=o,c=-1e3,h=0;Math.abs(u-c)>1e-7;){if(++h>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),c=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=a,t.y=u,t},names:["somerc"]};var tW=1e-7;const eW={init:function(){var t,e,n,i,r,o,s,a,l,u,c,h,d,f=0,p=0,g=0,m=0,y=0,v=0,_=0;this.no_off=(d="object"==typeof(h=this).PROJECTION?Object.keys(h.PROJECTION)[0]:h.PROJECTION,"no_uoff"in h||"no_off"in h||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(d)),this.no_rot="no_rot"in this;var x=!1;"alpha"in this&&(x=!0);var b=!1;if("rectified_grid_angle"in this&&(b=!0),x&&(_=this.alpha),b&&(f=this.rectified_grid_angle*u$),x||b)p=this.longc;else if(g=this.long1,y=this.lat1,m=this.long2,v=this.lat2,Math.abs(y-v)<=tW||(t=Math.abs(y))<=tW||Math.abs(t-a$)<=tW||Math.abs(Math.abs(this.lat0)-a$)<=tW||Math.abs(Math.abs(v)-a$)<=tW)throw new Error;var w=1-this.es;e=Math.sqrt(w),Math.abs(this.lat0)>l$?(a=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*a*a,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/w),this.A=this.B*this.k0*e/t,(r=(i=this.B*e/(n*Math.sqrt(t)))*i-1)<=0?r=0:(r=Math.sqrt(r),this.lat0<0&&(r=-r)),this.E=r+=i,this.E*=Math.pow(D$(this.e,this.lat0,a),this.B)):(this.B=1/e,this.A=this.k0,this.E=i=r=1),x||b?(x?(c=Math.asin(Math.sin(_)/i),b||(f=_)):(c=f,_=Math.asin(i*Math.sin(c))),this.lam0=p-Math.asin(.5*(r-1/r)*Math.tan(c))/this.B):(o=Math.pow(D$(this.e,y,Math.sin(y)),this.B),s=Math.pow(D$(this.e,v,Math.sin(v)),this.B),r=this.E/o,l=(s-o)/(s+o),u=((u=this.E*this.E)-s*o)/(u+s*o),(t=g-m)<-Math.pi?m-=d$:t>Math.pi&&(m+=d$),this.lam0=N$(.5*(g+m)-Math.atan(u*Math.tan(.5*this.B*(g-m))/l)/this.B),c=Math.atan(2*Math.sin(this.B*N$(g-this.lam0))/(r-1/r)),f=_=Math.asin(i*Math.sin(c))),this.singam=Math.sin(c),this.cosgam=Math.cos(c),this.sinrot=Math.sin(f),this.cosrot=Math.cos(f),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(_))),this.lat0<0&&(this.u_0=-this.u_0)),r=.5*c,this.v_pole_n=this.ArB*Math.log(Math.tan(h$-r)),this.v_pole_s=this.ArB*Math.log(Math.tan(h$+r))},forward:function(t){var e,n,i,r,o,s,a,l,u={};if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-a$)>l$){if(e=.5*((o=this.E/Math.pow(D$(this.e,t.y,Math.sin(t.y)),this.B))-(s=1/o)),n=.5*(o+s),r=Math.sin(this.B*t.x),i=(e*this.singam-r*this.cosgam)/n,Math.abs(Math.abs(i)-1)<l$)throw new Error;l=.5*this.ArB*Math.log((1-i)/(1+i)),s=Math.cos(this.B*t.x),a=Math.abs(s)<tW?this.A*t.x:this.ArB*Math.atan2(e*this.cosgam+r*this.singam,s)}else l=t.y>0?this.v_pole_n:this.v_pole_s,a=this.ArB*t.y;return this.no_rot?(u.x=a,u.y=l):(a-=this.u_0,u.x=l*this.cosrot+a*this.sinrot,u.y=a*this.cosrot-l*this.sinrot),u.x=this.a*u.x+this.x0,u.y=this.a*u.y+this.y0,u},inverse:function(t){var e,n,i,r,o,s,a,l={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),r=.5*((i=Math.exp(-this.BrA*n))-1/i),o=.5*(i+1/i),a=((s=Math.sin(this.BrA*e))*this.cosgam+r*this.singam)/o,Math.abs(Math.abs(a)-1)<l$)l.x=0,l.y=a<0?-a$:a$;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=z$(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(r*this.cosgam-s*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]},nW={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<l$)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),i=A$(this.e,e,n),r=D$(this.e,this.lat1,e),o=Math.sin(this.lat2),s=Math.cos(this.lat2),a=A$(this.e,o,s),l=D$(this.e,this.lat2,o),u=D$(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>l$?this.ns=Math.log(i/a)/Math.log(r/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=l$&&(n=j$(n)*(a$-2e-10));var i,r,o=Math.abs(Math.abs(n)-a$);if(o>l$)i=D$(this.e,n,Math.sin(n)),r=this.a*this.f0*Math.pow(i,this.ns);else{if((o=n*this.ns)<=0)return null;r=0}var s=this.ns*N$(e-this.long0);return t.x=this.k0*(r*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-r*Math.cos(s))+this.y0,t},inverse:function(t){var e,n,i,r,o,s=(t.x-this.x0)/this.k0,a=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+a*a),n=1):(e=-Math.sqrt(s*s+a*a),n=-1);var l=0;if(0!==e&&(l=Math.atan2(n*s,n*a)),0!==e||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),-9999===(r=z$(this.e,i)))return null}else r=-a$;return o=N$(l/this.ns+this.long0),t.x=o,t.y=r,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]},iW={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,n,i,r,o,s,a,l=t.x,u=t.y,c=N$(l-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),i=-c*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),o=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(r)),s=this.n*o,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=a*Math.cos(s)/1,t.x=a*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,n,i,r,o,s,a,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),r=Math.atan2(t.y,t.x)/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(e)),t.x=this.long0-n/this.alfa,s=e,a=0;var u=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(a=1),s=t.y,u+=1}while(0===a&&u<15);return u>=15?null:t},names:["Krovak","krovak"]};function rW(t,e,n,i,r){return t*r-e*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)}function oW(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function sW(t){return.375*t*(1+.25*t*(1+.46875*t))}function aW(t){return.05859375*t*t*(1+.75*t)}function lW(t){return t*t*t*(35/3072)}function uW(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)}function cW(t){return Math.abs(t)<a$?t:t-j$(t)*Math.PI}function hW(t,e,n,i,r){var o,s;o=t/e;for(var a=0;a<15;a++)if(o+=s=(t-(e*o-n*Math.sin(2*o)+i*Math.sin(4*o)-r*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*i*Math.cos(4*o)-6*r*Math.cos(6*o)),Math.abs(s)<=1e-10)return o;return NaN}const dW={init:function(){this.sphere||(this.e0=oW(this.es),this.e1=sW(this.es),this.e2=aW(this.es),this.e3=lW(this.es),this.ml0=this.a*rW(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,n,i=t.x,r=t.y;if(i=N$(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var o=Math.sin(r),s=Math.cos(r),a=uW(this.a,this.e,o),l=Math.tan(r)*Math.tan(r),u=i*Math.cos(r),c=u*u,h=this.es*s*s/(1-this.es);e=a*u*(1-c*l*(1/6-(8-l+8*h)*c/120)),n=this.a*rW(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+a*o/s*c*(.5+(5-l+6*h)*c/24)}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i=t.x/this.a,r=t.y/this.a;if(this.sphere){var o=r+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(i)),n=Math.atan2(Math.tan(i),Math.cos(o))}else{var s=hW(this.ml0/this.a+r,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-a$)<=l$)return t.x=this.long0,t.y=a$,r<0&&(t.y*=-1),t;var a=uW(this.a,this.e,Math.sin(s)),l=a*a*a/this.a/this.a*(1-this.es),u=Math.pow(Math.tan(s),2),c=i*this.a/a,h=c*c;e=s-a*Math.tan(s)/l*c*c*(.5-(1+3*u)*c*c/24),n=c*(1-h*(u/3+(1+3*u)*u*h/15))/Math.cos(s)}return t.x=N$(n+this.long0),t.y=cW(e),t},names:["Cassini","Cassini_Soldner","cass"]};function fW(t,e){var n;return t>1e-7?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e}var pW=.3333333333333333,gW=.17222222222222222,mW=.10257936507936508,yW=.06388888888888888,vW=.0664021164021164,_W=.016415012942191543;const xW={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-a$)<l$?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<l$?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=fW(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,n=[];return n[0]=t*pW,e=t*t,n[0]+=e*gW,n[1]=e*yW,e*=t,n[0]+=e*mW,n[1]+=e*vW,n[2]=e*_W,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=fW(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,n,i,r,o,s,a,l,u,c,h=t.x,d=t.y;if(h=N$(h-this.long0),this.sphere){if(o=Math.sin(d),c=Math.cos(d),i=Math.cos(h),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+c*i:1+this.sinph0*o+this.cosph0*c*i)<=l$)return null;e=(n=Math.sqrt(2/n))*c*Math.sin(h),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*c*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(d+this.lat0)<l$)return null;n=h$-.5*d,e=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(h),n*=i}}else{switch(a=0,l=0,u=0,i=Math.cos(h),r=Math.sin(h),o=Math.sin(d),s=fW(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(a=s/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:u=1+this.sinb1*a+this.cosb1*l*i;break;case this.EQUIT:u=1+l*i;break;case this.N_POLE:u=a$+d,s=this.qp-s;break;case this.S_POLE:u=d-a$,s=this.qp+s}if(Math.abs(u)<l$)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),n=this.mode===this.OBLIQ?this.ymf*u*(this.cosb1*a-this.sinb1*l*i):(u=Math.sqrt(2/(1+l*i)))*a*this.ymf,e=this.xmf*u*l*r;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(u=Math.sqrt(s))*r,n=i*(this.mode===this.S_POLE?u:-u)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,r,o,s,a,l,u,c,h=t.x/this.a,d=t.y/this.a;if(this.sphere){var f,p=0,g=0;if((n=.5*(f=Math.sqrt(h*h+d*d)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(g=Math.sin(n),p=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(f)<=l$?0:Math.asin(d*g/f),h*=g,d=p*f;break;case this.OBLIQ:n=Math.abs(f)<=l$?this.lat0:Math.asin(p*this.sinph0+d*g*this.cosph0/f),h*=g*this.cosph0,d=(p-Math.sin(n)*this.sinph0)*f;break;case this.N_POLE:d=-d,n=a$-n;break;case this.S_POLE:n-=a$}e=0!==d||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(h,d):0}else{if(a=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(h/=this.dd,d*=this.dd,(s=Math.sqrt(h*h+d*d))<l$)return t.x=this.long0,t.y=this.lat0,t;r=2*Math.asin(.5*s/this.rq),i=Math.cos(r),h*=r=Math.sin(r),this.mode===this.OBLIQ?(a=i*this.sinb1+d*r*this.cosb1/s,o=this.qp*a,d=s*this.cosb1*i-d*this.sinb1*r):(a=d*r/s,o=this.qp*a,d=s*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(d=-d),!(o=h*h+d*d))return t.x=this.long0,t.y=this.lat0,t;a=1-o/this.qp,this.mode===this.S_POLE&&(a=-a)}e=Math.atan2(h,d),l=Math.asin(a),u=this.apa,c=l+l,n=l+u[0]*Math.sin(c)+u[1]*Math.sin(c+c)+u[2]*Math.sin(c+c+c)}return t.x=N$(this.long0+e),t.y=n,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function bW(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}const wW={init:function(){Math.abs(this.lat1+this.lat2)<l$||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=A$(this.e3,this.sin_po,this.cos_po),this.qs1=fW(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=A$(this.e3,this.sin_po,this.cos_po),this.qs2=fW(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=fW(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>l$?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=fW(this.e3,this.sin_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,o=this.ns0*N$(e-this.long0),s=r*Math.sin(o)+this.x0,a=this.rh-r*Math.cos(o)+this.y0;return t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r,o,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),r=0,0!==e&&(r=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,s=this.phi1z(this.e3,n)),o=N$(r/this.ns0+this.long0),t.x=o,t.y=s,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var n,i,r,o,s=bW(.5*e);if(t<l$)return s;for(var a=t*t,l=1;l<=25;l++)if(s+=o=.5*(r=1-(i=t*(n=Math.sin(s)))*i)*r/Math.cos(s)*(e/(1-a)-n/r+.5/t*Math.log((1-i)/(1+i))),Math.abs(o)<=1e-7)return s;return null}},SW={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,n,i,r,o,s,a,l=t.x,u=t.y;return i=N$(l-this.long0),e=Math.sin(u),n=Math.cos(u),r=Math.cos(i),(o=this.sin_p14*e+this.cos_p14*n*r)>0||Math.abs(o)<=l$?(s=this.x0+1*this.a*n*Math.sin(i)/o,a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*r)/o):(s=this.x0+this.infinity_dist*n*Math.sin(i),a=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*r)),t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r,o,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),n=Math.sin(r),s=bW((i=Math.cos(r))*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n),o=N$(this.long0+o)):(s=this.phic0,o=0),t.x=o,t.y=s,t},names:["gnom"]},EW={init:function(){this.sphere||(this.k0=A$(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,n,i=t.x,r=t.y,o=N$(i-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var s=fW(this.e,Math.sin(r));e=this.x0+this.a*this.k0*o,n=this.y0+this.a*s*.5/this.k0}return t.x=e,t.y=n,t},inverse:function(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=N$(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*a$:a$;for(var i,r,o,s,a=Math.asin(.5*e),l=0;l<30;l++)if(r=Math.sin(a),o=Math.cos(a),s=t*r,a+=i=Math.pow(1-s*s,2)/(2*o)*(e/(1-t*t)-r/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),Math.abs(i)<=1e-10)return a;return NaN}(this.e,2*t.y*this.k0/this.a),e=N$(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},names:["cea"]},CW={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,n=t.y,i=N$(e-this.long0),r=cW(n-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*r,t},inverse:function(t){var e=t.x,n=t.y;return t.x=N$(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=cW(this.lat0+(n-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},MW={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=oW(this.es),this.e1=sW(this.es),this.e2=aW(this.es),this.e3=lW(this.es),this.ml0=this.a*rW(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,n,i,r=t.x,o=t.y,s=N$(r-this.long0);if(i=s*Math.sin(o),this.sphere)Math.abs(o)<=l$?(e=this.a*s,n=-1*this.a*this.lat0):(e=this.a*Math.sin(i)/Math.tan(o),n=this.a*(cW(o-this.lat0)+(1-Math.cos(i))/Math.tan(o)));else if(Math.abs(o)<=l$)e=this.a*s,n=-1*this.ml0;else{var a=uW(this.a,this.e,Math.sin(o))/Math.tan(o);e=a*Math.sin(i),n=this.a*rW(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+a*(1-Math.cos(i))}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){var e,n,i,r,o,s,a,l,u;if(i=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=l$)e=N$(i/this.a+this.long0),n=0;else{var c;for(s=this.lat0+r/this.a,a=i*i/this.a/this.a+s*s,l=s,o=20;o;--o)if(l+=u=-1*(s*(l*(c=Math.tan(l))+1)-l-.5*(l*l+a)*c)/((l-s)/c-1),Math.abs(u)<=l$){n=l;break}e=N$(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(r+this.ml0)<=l$)n=0,e=N$(this.long0+i/this.a);else{var h,d,f,p,g;for(s=(this.ml0+r)/this.a,a=i*i/this.a/this.a+s*s,l=s,o=20;o;--o)if(g=this.e*Math.sin(l),h=Math.sqrt(1-g*g)*Math.tan(l),d=this.a*rW(this.e0,this.e1,this.e2,this.e3,l),f=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=u=(s*(h*(p=d/this.a)+1)-p-.5*h*(p*p+a))/(this.es*Math.sin(2*l)*(p*p+a-2*s*p)/(4*h)+(s-p)*(h*f-2/Math.sin(2*l))-f),Math.abs(u)<=l$){n=l;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=N$(this.long0+Math.asin(i*h/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},names:["Polyconic","poly"]},kW={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,n=t.x,i=t.y-this.lat0,r=n-this.long0,o=i/s$*1e-5,s=r,a=1,l=0;for(e=1;e<=10;e++)a*=o,l+=this.A[e]*a;var u,c=l,h=s,d=1,f=0,p=0,g=0;for(e=1;e<=6;e++)u=f*c+d*h,d=d*c-f*h,f=u,p=p+this.B_re[e]*d-this.B_im[e]*f,g=g+this.B_im[e]*d+this.B_re[e]*f;return t.x=g*this.a+this.x0,t.y=p*this.a+this.y0,t},inverse:function(t){var e,n,i=t.x,r=t.y,o=i-this.x0,s=(r-this.y0)/this.a,a=o/this.a,l=1,u=0,c=0,h=0;for(e=1;e<=6;e++)n=u*s+l*a,l=l*s-u*a,u=n,c=c+this.C_re[e]*l-this.C_im[e]*u,h=h+this.C_im[e]*l+this.C_re[e]*u;for(var d=0;d<this.iterations;d++){var f,p=c,g=h,m=s,y=a;for(e=2;e<=6;e++)f=g*c+p*h,p=p*c-g*h,g=f,m+=(e-1)*(this.B_re[e]*p-this.B_im[e]*g),y+=(e-1)*(this.B_im[e]*p+this.B_re[e]*g);p=1,g=0;var v=this.B_re[1],_=this.B_im[1];for(e=2;e<=6;e++)f=g*c+p*h,p=p*c-g*h,g=f,v+=e*(this.B_re[e]*p-this.B_im[e]*g),_+=e*(this.B_im[e]*p+this.B_re[e]*g);var x=v*v+_*_;c=(m*v+y*_)/x,h=(y*v-m*_)/x}var b=c,w=h,S=1,E=0;for(e=1;e<=9;e++)S*=b,E+=this.D[e]*S;var C=this.lat0+E*s$*1e5,M=this.long0+w;return t.x=M,t.y=C,t},names:["New_Zealand_Map_Grid","nzmg"]},TW={init:function(){},forward:function(t){var e=t.x,n=t.y,i=N$(e-this.long0),r=this.x0+this.a*i,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=r,t.y=o,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=N$(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},names:["Miller_Cylindrical","mill"]},PW={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=DB(this.es)},forward:function(t){var e,n,i=t.x,r=t.y;if(i=N$(i-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(r),s=20;s;--s){var a=(this.m*r+Math.sin(r)-o)/(this.m+Math.cos(r));if(r-=a,Math.abs(a)<l$)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*i*(this.m+Math.cos(r)),n=this.a*this.C_y*r}else{var l=Math.sin(r),u=Math.cos(r);n=this.a*zB(r,l,u,this.en),e=this.a*i*u/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,i;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,n/=this.C_x*(this.m+Math.cos(e)),this.m?e=bW((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=bW(Math.sin(e)/this.n)),n=N$(n+this.long0),e=cW(e)):(e=$B(t.y/this.a,this.es,this.en),(i=Math.abs(e))<a$?(i=Math.sin(e),n=N$(this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)))):i-l$<a$&&(n=this.long0)),t.x=n,t.y=e,t},names:["Sinusoidal","sinu"]},RW={init:function(){},forward:function(t){for(var e=t.x,n=t.y,i=N$(e-this.long0),r=n,o=Math.PI*Math.sin(n);;){var s=-(r+Math.sin(r)-o)/(1+Math.cos(r));if(r+=s,Math.abs(s)<l$)break}r/=2,Math.PI/2-Math.abs(n)<l$&&(i=0);var a=.900316316158*this.a*i*Math.cos(r)+this.x0,l=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=a,t.y=l,t},inverse:function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var i=N$(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var r=Math.asin(n);return t.x=i,t.y=r,t},names:["Mollweide","moll"]},IW={init:function(){Math.abs(this.lat1+this.lat2)<l$||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=oW(this.es),this.e1=sW(this.es),this.e2=aW(this.es),this.e3=lW(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=A$(this.e,this.sinphi,this.cosphi),this.ml1=rW(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<l$?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=A$(this.e,this.sinphi,this.cosphi),this.ml2=rW(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=rW(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,n=t.x,i=t.y;if(this.sphere)e=this.a*(this.g-i);else{var r=rW(this.e0,this.e1,this.e2,this.e3,i);e=this.a*(this.g-r)}var o=this.ns*N$(n-this.long0),s=this.x0+e*Math.sin(o),a=this.y0+this.rh-e*Math.cos(o);return t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;return 0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere?(r=N$(this.long0+o/this.ns),i=cW(this.g-n/this.a),t.x=r,t.y=i,t):(i=hW(this.g-n/this.a,this.e0,this.e1,this.e2,this.e3),r=N$(this.long0+o/this.ns),t.x=r,t.y=i,t)},names:["Equidistant_Conic","eqdc"]},OW={init:function(){this.R=this.a},forward:function(t){var e,n,i=t.x,r=t.y,o=N$(i-this.long0);Math.abs(r)<=l$&&(e=this.x0+this.R*o,n=this.y0);var s=bW(2*Math.abs(r/Math.PI));(Math.abs(o)<=l$||Math.abs(Math.abs(r)-a$)<=l$)&&(e=this.x0,n=r>=0?this.y0+Math.PI*this.R*Math.tan(.5*s):this.y0+Math.PI*this.R*-Math.tan(.5*s));var a=.5*Math.abs(Math.PI/o-o/Math.PI),l=a*a,u=Math.sin(s),c=Math.cos(s),h=c/(u+c-1),d=h*h,f=h*(2/u-1),p=f*f,g=Math.PI*this.R*(a*(h-p)+Math.sqrt(l*(h-p)*(h-p)-(p+l)*(d-p)))/(p+l);o<0&&(g=-g),e=this.x0+g;var m=l+h;return g=Math.PI*this.R*(f*m-a*Math.sqrt((p+l)*(l+1)-m*m))/(p+l),n=r>=0?this.y0+g:this.y0-g,t.x=e,t.y=n,t},inverse:function(t){var e,n,i,r,o,s,a,l,u,c,h,d;return t.x-=this.x0,t.y-=this.y0,h=Math.PI*this.R,o=(i=t.x/h)*i+(r=t.y/h)*r,h=3*(r*r/(l=-2*(s=-Math.abs(r)*(1+o))+1+2*r*r+o*o)+(2*(a=s-2*r*r+i*i)*a*a/l/l/l-9*s*a/l/l)/27)/(u=(s-a*a/3/l)/l)/(c=2*Math.sqrt(-u/3)),Math.abs(h)>1&&(h=h>=0?1:-1),d=Math.acos(h)/3,n=t.y>=0?(-c*Math.cos(d+Math.PI/3)-a/3/l)*Math.PI:-(-c*Math.cos(d+Math.PI/3)-a/3/l)*Math.PI,e=Math.abs(i)<l$?this.long0:N$(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(i*i-r*r)+o*o))/2/i),t.x=e,t.y=n,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},FW={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,n,i,r,o,s,a,l,u,c,h,d,f,p,g,m,y,v,_,x,b,w,S=t.x,E=t.y,C=Math.sin(t.y),M=Math.cos(t.y),k=N$(S-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=l$?(t.x=this.x0+this.a*(a$-E)*Math.sin(k),t.y=this.y0-this.a*(a$-E)*Math.cos(k),t):Math.abs(this.sin_p12+1)<=l$?(t.x=this.x0+this.a*(a$+E)*Math.sin(k),t.y=this.y0+this.a*(a$+E)*Math.cos(k),t):(v=this.sin_p12*C+this.cos_p12*M*Math.cos(k),y=(m=Math.acos(v))?m/Math.sin(m):1,t.x=this.x0+this.a*y*M*Math.sin(k),t.y=this.y0+this.a*y*(this.cos_p12*C-this.sin_p12*M*Math.cos(k)),t):(e=oW(this.es),n=sW(this.es),i=aW(this.es),r=lW(this.es),Math.abs(this.sin_p12-1)<=l$?(o=this.a*rW(e,n,i,r,a$),s=this.a*rW(e,n,i,r,E),t.x=this.x0+(o-s)*Math.sin(k),t.y=this.y0-(o-s)*Math.cos(k),t):Math.abs(this.sin_p12+1)<=l$?(o=this.a*rW(e,n,i,r,a$),s=this.a*rW(e,n,i,r,E),t.x=this.x0+(o+s)*Math.sin(k),t.y=this.y0+(o+s)*Math.cos(k),t):(a=C/M,l=uW(this.a,this.e,this.sin_p12),u=uW(this.a,this.e,C),c=Math.atan((1-this.es)*a+this.es*l*this.sin_p12/(u*M)),_=0===(h=Math.atan2(Math.sin(k),this.cos_p12*Math.tan(c)-this.sin_p12*Math.cos(k)))?Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.abs(Math.abs(h)-Math.PI)<=l$?-Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.asin(Math.sin(k)*Math.cos(c)/Math.sin(h)),d=this.e*this.sin_p12/Math.sqrt(1-this.es),m=l*_*(1-(x=_*_)*(g=(f=this.e*this.cos_p12*Math.cos(h)/Math.sqrt(1-this.es))*f)*(1-g)/6+(b=x*_)/8*(p=d*f)*(1-2*g)+(w=b*_)/120*(g*(4-7*g)-3*d*d*(1-7*g))-w*_/48*p),t.x=this.x0+m*Math.sin(h),t.y=this.y0+m*Math.cos(h),t))},inverse:function(t){var e,n,i,r,o,s,a,l,u,c,h,d,f,p,g,m,y,v,_,x,b,w,S;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*a$*this.a)return;return n=e/this.a,i=Math.sin(n),r=Math.cos(n),o=this.long0,Math.abs(e)<=l$?s=this.lat0:(s=bW(r*this.sin_p12+t.y*i*this.cos_p12/e),a=Math.abs(this.lat0)-a$,o=Math.abs(a)<=l$?this.lat0>=0?N$(this.long0+Math.atan2(t.x,-t.y)):N$(this.long0-Math.atan2(-t.x,t.y)):N$(this.long0+Math.atan2(t.x*i,e*this.cos_p12*r-t.y*this.sin_p12*i))),t.x=o,t.y=s,t}return l=oW(this.es),u=sW(this.es),c=aW(this.es),h=lW(this.es),Math.abs(this.sin_p12-1)<=l$?(s=hW(((d=this.a*rW(l,u,c,h,a$))-(e=Math.sqrt(t.x*t.x+t.y*t.y)))/this.a,l,u,c,h),o=N$(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=s,t):Math.abs(this.sin_p12+1)<=l$?(d=this.a*rW(l,u,c,h,a$),s=hW(((e=Math.sqrt(t.x*t.x+t.y*t.y))-d)/this.a,l,u,c,h),o=N$(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=s,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),g=Math.atan2(t.x,t.y),f=uW(this.a,this.e,this.sin_p12),m=Math.cos(g),v=-(y=this.e*this.cos_p12*m)*y/(1-this.es),_=3*this.es*(1-v)*this.sin_p12*this.cos_p12*m/(1-this.es),w=1-v*(b=(x=e/f)-v*(1+v)*Math.pow(x,3)/6-_*(1+3*v)*Math.pow(x,4)/24)*b/2-x*b*b*b/6,p=Math.asin(this.sin_p12*Math.cos(b)+this.cos_p12*Math.sin(b)*m),o=N$(this.long0+Math.asin(Math.sin(g)*Math.sin(b)/Math.cos(p))),S=Math.sin(p),s=Math.atan2((S-this.es*w*this.sin_p12)*Math.tan(p),S*(1-this.es)),t.x=o,t.y=s,t)},names:["Azimuthal_Equidistant","aeqd"]},LW={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,n,i,r,o,s,a,l=t.x,u=t.y;return i=N$(l-this.long0),e=Math.sin(u),n=Math.cos(u),r=Math.cos(i),((o=this.sin_p14*e+this.cos_p14*n*r)>0||Math.abs(o)<=l$)&&(s=1*this.a*n*Math.sin(i),a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*r)),t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r,o,s,a;return t.x-=this.x0,t.y-=this.y0,n=bW((e=Math.sqrt(t.x*t.x+t.y*t.y))/this.a),i=Math.sin(n),r=Math.cos(n),s=this.long0,Math.abs(e)<=l$?(a=this.lat0,t.x=s,t.y=a,t):(a=bW(r*this.sin_p14+t.y*i*this.cos_p14/e),o=Math.abs(this.lat0)-a$,Math.abs(o)<=l$?(s=this.lat0>=0?N$(this.long0+Math.atan2(t.x,-t.y)):N$(this.long0-Math.atan2(-t.x,t.y)),t.x=s,t.y=a,t):(s=N$(this.long0+Math.atan2(t.x*i,e*this.cos_p14*r-t.y*this.sin_p14*i)),t.x=s,t.y=a,t))},names:["ortho"]};var AW=1,jW=2,NW=3,DW=4,zW=5,$W=6,BW=1,WW=2,GW=3,UW=4;function HW(t,e,n,i){var r;return t<l$?(i.value=BW,r=0):(r=Math.atan2(e,n),Math.abs(r)<=h$?i.value=BW:r>h$&&r<=a$+h$?(i.value=WW,r-=a$):r>a$+h$||r<=-(a$+h$)?(i.value=GW,r=r>=0?r-f$:r+f$):(i.value=UW,r+=a$)),r}function VW(t,e){var n=t+e;return n<-f$?n+=d$:n>+f$&&(n-=d$),n}const qW={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=a$-h$/2?this.face=zW:this.lat0<=-(a$-h$/2)?this.face=$W:Math.abs(this.long0)<=h$?this.face=AW:Math.abs(this.long0)<=a$+h$?this.face=this.long0>0?jW:DW:this.face=NW,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,n,i,r,o,s,a={x:0,y:0},l={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,this.face===zW)r=a$-e,n>=h$&&n<=a$+h$?(l.value=BW,i=n-a$):n>a$+h$||n<=-(a$+h$)?(l.value=WW,i=n>0?n-f$:n+f$):n>-(a$+h$)&&n<=-h$?(l.value=GW,i=n+a$):(l.value=UW,i=n);else if(this.face===$W)r=a$+e,n>=h$&&n<=a$+h$?(l.value=BW,i=-n+a$):n<h$&&n>=-h$?(l.value=WW,i=-n):n<-h$&&n>=-(a$+h$)?(l.value=GW,i=-n-a$):(l.value=UW,i=n>0?-n+f$:-n-f$);else{var u,c,h,d,f,p;this.face===jW?n=VW(n,+a$):this.face===NW?n=VW(n,+f$):this.face===DW&&(n=VW(n,-a$)),d=Math.sin(e),f=Math.cos(e),p=Math.sin(n),u=f*Math.cos(n),c=f*p,h=d,this.face===AW?i=HW(r=Math.acos(u),h,c,l):this.face===jW?i=HW(r=Math.acos(c),h,-u,l):this.face===NW?i=HW(r=Math.acos(-u),h,-c,l):this.face===DW?i=HW(r=Math.acos(-c),h,u,l):(r=i=0,l.value=BW)}return s=Math.atan(12/f$*(i+Math.acos(Math.sin(i)*Math.cos(h$))-a$)),o=Math.sqrt((1-Math.cos(r))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(i))))),l.value===WW?s+=a$:l.value===GW?s+=f$:l.value===UW&&(s+=1.5*f$),a.x=o*Math.cos(s),a.y=o*Math.sin(s),a.x=a.x*this.a+this.x0,a.y=a.y*this.a+this.y0,t.x=a.x,t.y=a.y,t},inverse:function(t){var e,n,i,r,o,s,a,l,u,c,h,d,f={lam:0,phi:0},p={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?p.value=BW:t.y>=0&&t.y>=Math.abs(t.x)?(p.value=WW,e-=a$):t.x<0&&-t.x>=Math.abs(t.y)?(p.value=GW,e=e<0?e+f$:e-f$):(p.value=UW,e+=a$),u=f$/12*Math.tan(e),o=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),s=Math.atan(o),(a=1-(i=Math.cos(e))*i*(r=Math.tan(n))*r*(1-Math.cos(Math.atan(1/Math.cos(s)))))<-1?a=-1:a>1&&(a=1),this.face===zW)l=Math.acos(a),f.phi=a$-l,p.value===BW?f.lam=s+a$:p.value===WW?f.lam=s<0?s+f$:s-f$:p.value===GW?f.lam=s-a$:f.lam=s;else if(this.face===$W)l=Math.acos(a),f.phi=l-a$,p.value===BW?f.lam=-s+a$:p.value===WW?f.lam=-s:p.value===GW?f.lam=-s-a$:f.lam=s<0?-s-f$:-s+f$;else{var g,m,y;u=(g=a)*g,m=(u+=(y=u>=1?0:Math.sqrt(1-u)*Math.sin(s))*y)>=1?0:Math.sqrt(1-u),p.value===WW?(u=m,m=-y,y=u):p.value===GW?(m=-m,y=-y):p.value===UW&&(u=m,m=y,y=-u),this.face===jW?(u=g,g=-m,m=u):this.face===NW?(g=-g,m=-m):this.face===DW&&(u=g,g=m,m=-u),f.phi=Math.acos(-y)-a$,f.lam=Math.atan2(m,g),this.face===jW?f.lam=VW(f.lam,-a$):this.face===NW?f.lam=VW(f.lam,-f$):this.face===DW&&(f.lam=VW(f.lam,+a$))}return 0!==this.es&&(c=f.phi<0?1:0,h=Math.tan(f.phi),d=this.b/Math.sqrt(h*h+this.one_minus_f_squared),f.phi=Math.atan(Math.sqrt(this.a*this.a-d*d)/(this.one_minus_f*d)),c&&(f.phi=-f.phi)),f.lam+=this.long0,t.x=f.lam,t.y=f.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]};var XW=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],KW=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],ZW=.8487,YW=1.3523,JW=c$/5,QW=1/JW,tG=18,eG=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))};const nG={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=N$(t.x-this.long0),n=Math.abs(t.y),i=Math.floor(n*JW);i<0?i=0:i>=tG&&(i=17);var r={x:eG(XW[i],n=c$*(n-QW*i))*e,y:eG(KW[i],n)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*ZW+this.x0,r.y=r.y*this.a*YW+this.y0,r},inverse:function(t){var e={x:(t.x-this.x0)/(this.a*ZW),y:Math.abs(t.y-this.y0)/(this.a*YW)};if(e.y>=1)e.x/=XW[18][0],e.y=t.y<0?-a$:a$;else{var n=Math.floor(e.y*tG);for(n<0?n=0:n>=tG&&(n=17);;)if(KW[n][0]>e.y)--n;else{if(!(KW[n+1][0]<=e.y))break;++n}var i=KW[n],r=5*(e.y-i[0])/(KW[n+1][0]-i[0]);r=function(t,e,n,i){for(var r=e;i;--i){var o=t(r);if(r-=o,Math.abs(o)<n)break}return r}((function(t){return(eG(i,t)-e.y)/function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])}(i,t)}),r,l$,100),e.x/=eG(XW[n],r),e.y=(5*n+r)*u$,t.y<0&&(e.y=-e.y)}return e.x=N$(e.x+this.long0),e},names:["Robinson","robin"]},iG={init:function(){this.name="geocent"},forward:function(t){return nB(t,this.es,this.a)},inverse:function(t){return iB(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};var rG=0,oG=1,sG=2,aG=3,lG={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};const uG={init:function(){if(Object.keys(lG).forEach(function(t){if(void 0===this[t])this[t]=lG[t].def;else{if(lG[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);lG[t].num&&(this[t]=parseFloat(this[t]))}lG[t].degrees&&(this[t]=this[t]*u$)}.bind(this)),Math.abs(Math.abs(this.lat0)-a$)<l$?this.mode=this.lat0<0?oG:rG:Math.abs(this.lat0)<l$?this.mode=sG:(this.mode=aG,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)},forward:function(t){t.x-=this.long0;var e,n,i,r,o=Math.sin(t.y),s=Math.cos(t.y),a=Math.cos(t.x);switch(this.mode){case aG:n=this.sinph0*o+this.cosph0*s*a;break;case sG:n=s*a;break;case oG:n=-o;break;case rG:n=o}switch(e=(n=this.pn1/(this.p-n))*s*Math.sin(t.x),this.mode){case aG:n*=this.cosph0*o-this.sinph0*s*a;break;case sG:n*=o;break;case rG:n*=-s*a;break;case oG:n*=s*a}return r=1/((i=n*this.cg+e*this.sg)*this.sw*this.h1+this.cw),e=(e*this.cg-n*this.sg)*this.cw*r,n=i*r,t.x=e*this.a,t.y=n*this.a,t},inverse:function(t){t.x/=this.a,t.y/=this.a;var e,n,i,r={x:t.x,y:t.y};i=1/(this.pn1-t.y*this.sw),e=this.pn1*t.x*i,n=this.pn1*t.y*this.cw*i,t.x=e*this.cg+n*this.sg,t.y=n*this.cg-e*this.sg;var o=GB(t.x,t.y);if(Math.abs(o)<l$)r.x=0,r.y=t.y;else{var s,a;switch(a=1-o*o*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/o+o/this.pn1),s=Math.sqrt(1-a*a),this.mode){case aG:r.y=Math.asin(s*this.sinph0+t.y*a*this.cosph0/o),t.y=(s-this.sinph0*Math.sin(r.y))*o,t.x*=a*this.cosph0;break;case sG:r.y=Math.asin(t.y*a/o),t.y=s*o,t.x*=a;break;case rG:r.y=Math.asin(s),t.y=-t.y;break;case oG:r.y=-Math.asin(s)}r.x=Math.atan2(t.x,t.y)}return t.x=r.x+this.long0,t.y=r.y,t},names:["Tilted_Perspective","tpers"]},cG={init:function(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function(t){var e,n,i,r,o=t.x,s=t.y;if(o-=this.long0,"ellipse"===this.shape){s=Math.atan(this.radius_p2*Math.tan(s));var a=this.radius_p/GB(this.radius_p*Math.cos(s),Math.sin(s));if(n=a*Math.cos(o)*Math.cos(s),i=a*Math.sin(o)*Math.cos(s),r=a*Math.sin(s),(this.radius_g-n)*n-i*i-r*r*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;e=this.radius_g-n,this.flip_axis?(t.x=this.radius_g_1*Math.atan(i/GB(r,e)),t.y=this.radius_g_1*Math.atan(r/e)):(t.x=this.radius_g_1*Math.atan(i/e),t.y=this.radius_g_1*Math.atan(r/GB(i,e)))}else"sphere"===this.shape&&(e=Math.cos(s),n=Math.cos(o)*e,i=Math.sin(o)*e,r=Math.sin(s),e=this.radius_g-n,this.flip_axis?(t.x=this.radius_g_1*Math.atan(i/GB(r,e)),t.y=this.radius_g_1*Math.atan(r/e)):(t.x=this.radius_g_1*Math.atan(i/e),t.y=this.radius_g_1*Math.atan(r/GB(i,e))));return t.x=t.x*this.a,t.y=t.y*this.a,t},inverse:function(t){var e,n,i,r,o=-1,s=0,a=0;if(t.x=t.x/this.a,t.y=t.y/this.a,"ellipse"===this.shape){this.flip_axis?(a=Math.tan(t.y/this.radius_g_1),s=Math.tan(t.x/this.radius_g_1)*GB(1,a)):(s=Math.tan(t.x/this.radius_g_1),a=Math.tan(t.y/this.radius_g_1)*GB(1,s));var l=a/this.radius_p;if(e=s*s+l*l+o*o,(i=(n=2*this.radius_g*o)*n-4*e*this.C)<0)return t.x=Number.NaN,t.y=Number.NaN,t;r=(-n-Math.sqrt(i))/(2*e),o=this.radius_g+r*o,s*=r,a*=r,t.x=Math.atan2(s,o),t.y=Math.atan(a*Math.cos(t.x)/o),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if("sphere"===this.shape){if(this.flip_axis?(a=Math.tan(t.y/this.radius_g_1),s=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+a*a)):(s=Math.tan(t.x/this.radius_g_1),a=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+s*s)),e=s*s+a*a+o*o,(i=(n=2*this.radius_g*o)*n-4*e*this.C)<0)return t.x=Number.NaN,t.y=Number.NaN,t;r=(-n-Math.sqrt(i))/(2*e),o=this.radius_g+r*o,s*=r,a*=r,t.x=Math.atan2(s,o),t.y=Math.atan(a*Math.cos(t.x)/o)}return t.x=t.x+this.long0,t},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]};var hG;mB.defaultDatum="WGS84",mB.Proj=eB,mB.WGS84=new mB.Proj("WGS84"),mB.Point=LB,mB.toPoint=cB,mB.defs=R$,mB.nadgrid=function(t,e){var n=new DataView(e),i=function(t){var e=t.getInt32(8,!1);return 11!==e&&(11!==(e=t.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}(n),r=function(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:Y$(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}(n,i);r.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var o=function(t,e,n){for(var i=176,r=[],o=0;o<e.nSubgrids;o++){var s=Q$(t,i,n),a=tB(t,i,s,n),l=Math.round(1+(s.upperLongitude-s.lowerLongitude)/s.longitudeInterval),u=Math.round(1+(s.upperLatitude-s.lowerLatitude)/s.latitudeInterval);r.push({ll:[Z$(s.lowerLongitude),Z$(s.lowerLatitude)],del:[Z$(s.longitudeInterval),Z$(s.latitudeInterval)],lim:[l,u],count:s.gridNodeCount,cvs:J$(a)})}return r}(n,r,i),s={header:r,subgrids:o};return X$[t]=s,s},mB.transform=dB,mB.mgrs=EB,mB.version="__VERSION__",(hG=mB).Proj.projections.add(BB),hG.Proj.projections.add(qB),hG.Proj.projections.add(XB),hG.Proj.projections.add(YB),hG.Proj.projections.add(JB),hG.Proj.projections.add(QB),hG.Proj.projections.add(eW),hG.Proj.projections.add(nW),hG.Proj.projections.add(iW),hG.Proj.projections.add(dW),hG.Proj.projections.add(xW),hG.Proj.projections.add(wW),hG.Proj.projections.add(SW),hG.Proj.projections.add(EW),hG.Proj.projections.add(CW),hG.Proj.projections.add(MW),hG.Proj.projections.add(kW),hG.Proj.projections.add(TW),hG.Proj.projections.add(PW),hG.Proj.projections.add(RW),hG.Proj.projections.add(IW),hG.Proj.projections.add(OW),hG.Proj.projections.add(FW),hG.Proj.projections.add(LW),hG.Proj.projections.add(qW),hG.Proj.projections.add(nG),hG.Proj.projections.add(iG),hG.Proj.projections.add(uG),hG.Proj.projections.add(cG);const dG=[0,0,0];class fG{constructor(t){let e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,LP(function(t,e){const n=e||ZT;return t.every((function(e,i){if(0===i)return!0;const r=n(t[i-1],e);return!(r>0||0===r)}))}(this.resolutions_,((t,e)=>e-t)),"`resolutions` must be sorted in descending order"),!t.origins)for(let i=0,r=this.resolutions_.length-1;i<r;++i)if(e){if(this.resolutions_[i]/this.resolutions_[i+1]!==e){e=void 0;break}}else e=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,LP(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const n=t.extent;void 0===n||this.origin_||this.origins_||(this.origin_=bR(n)),LP(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,LP(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:SL,LP(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=void 0!==n?n:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(((t,e)=>{const i=new e$(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(n){const t=this.getTileRangeForExtentAndZ(n,e);i.minX=Math.max(t.minX,i.minX),i.maxX=Math.min(t.maxX,i.maxX),i.minY=Math.max(t.minY,i.minY),i.maxY=Math.min(t.maxY,i.maxY)}return i})):n&&this.calculateTileRanges_(n)}forEachTileCoord(t,e,n){const i=this.getTileRangeForExtentAndZ(t,e);for(let r=i.minX,o=i.maxX;r<=o;++r)for(let t=i.minY,s=i.maxY;t<=s;++t)n([e,r,t])}forEachTileCoordParentTileRange(t,e,n,i){let r,o,s,a=null,l=t[0]-1;for(2===this.zoomFactor_?(o=t[1],s=t[2]):a=this.getTileCoordExtent(t,i);l>=this.minZoom;){if(void 0!==o&&void 0!==s?(o=Math.floor(o/2),s=Math.floor(s/2),r=n$(o,o,s,s,n)):r=this.getTileRangeForExtentAndZ(a,l,n),e(l,r))return!0;--l}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){const n=2*t[1],i=2*t[2];return n$(n,n+1,i,i+1,e)}const i=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,t[0]+1,e)}return null}getTileRangeForTileCoordAndZ(t,e,n){if(e>this.maxZoom||e<this.minZoom)return null;const i=t[0],r=t[1],o=t[2];if(e===i)return n$(r,o,r,o,n);if(this.zoomFactor_){const t=Math.pow(this.zoomFactor_,e-i),s=Math.floor(r*t),a=Math.floor(o*t);return e<i?n$(s,s,a,a,n):n$(s,Math.floor(t*(r+1))-1,a,Math.floor(t*(o+1))-1,n)}const s=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,e,n)}getTileRangeForExtentAndZ(t,e,n){this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,dG);const i=dG[1],r=dG[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,dG),n$(i,dG[1],r,dG[2],n)}getTileCoordCenter(t){const e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=kF(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]-(t[2]+.5)*i[1]*n]}getTileCoordExtent(t,e){const n=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=kF(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*r[0]*i,s=n[1]-(t[2]+1)*r[1]*i;return nR(o,s,o+r[0]*i,s+r[1]*i,e)}getTileCoordForCoordAndResolution(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)}getTileCoordForXYAndResolution_(t,e,n,i,r){const o=this.getZForResolution(n),s=n/this.getResolution(o),a=this.getOrigin(o),l=kF(this.getTileSize(o),this.tmpSize_);let u=s*(t-a[0])/n/l[0],c=s*(a[1]-e)/n/l[1];return i?(u=nI(u,5)-1,c=nI(c,5)-1):(u=eI(u,5),c=eI(c,5)),Yz(o,u,c,r)}getTileCoordForXYAndZ_(t,e,n,i,r){const o=this.getOrigin(n),s=this.getResolution(n),a=kF(this.getTileSize(n),this.tmpSize_);let l=(t-o[0])/s/a[0],u=(o[1]-e)/s/a[1];return i?(l=nI(l,5)-1,u=nI(u,5)-1):(l=eI(l,5),u=eI(u,5)),Yz(n,l,u,r)}getTileCoordForCoordAndZ(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,e){return qR(YT(this.resolutions_,t,e||0),this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,e){return pO(e,0,e.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const e=this.resolutions_.length,n=new Array(e);for(let i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n}}const pG="preload",gG="useInterimTilesOnError";class mG extends zL{constructor(t){t=t||{};const e=Object.assign({},t);delete e.preload,delete e.useInterimTilesOnError,super(e),this.on,this.once,this.un,this.setPreload(void 0!==t.preload?t.preload:0),this.setUseInterimTilesOnError(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError)}getPreload(){return this.get(pG)}setPreload(t){this.set(pG,t)}getUseInterimTilesOnError(){return this.get(gG)}setUseInterimTilesOnError(t){this.set(gG,t)}getData(t){return super.getData(t)}}class yG{constructor(t,e,n,i,r,o){this.sourceProj_=t,this.targetProj_=e;let s={};const a=EI(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){const e=t[0]+"/"+t[1];return s[e]||(s[e]=a(t)),s[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&SR(i)>=SR(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?SR(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?SR(this.targetProj_.getExtent()):null;const l=bR(n),u=wR(n),c=pR(n),h=fR(n),d=this.transformInv_(l),f=this.transformInv_(u),p=this.transformInv_(c),g=this.transformInv_(h),m=10+(o?Math.max(0,Math.ceil(Math.log2(dR(n)/(o*o*256*256)))):0);if(this.addQuad_(l,u,c,h,d,f,p,g,m),this.wrapsXInSource_){let t=1/0;this.triangles_.forEach((function(e,n,i){t=Math.min(t,e.source[0][0],e.source[1][0],e.source[2][0])})),this.triangles_.forEach((e=>{if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-t>this.sourceWorldWidth_/2){const n=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];n[0][0]-t>this.sourceWorldWidth_/2&&(n[0][0]-=this.sourceWorldWidth_),n[1][0]-t>this.sourceWorldWidth_/2&&(n[1][0]-=this.sourceWorldWidth_),n[2][0]-t>this.sourceWorldWidth_/2&&(n[2][0]-=this.sourceWorldWidth_);const i=Math.min(n[0][0],n[1][0],n[2][0]);Math.max(n[0][0],n[1][0],n[2][0])-i<this.sourceWorldWidth_/2&&(e.source=n)}}))}s={}}addTriangle_(t,e,n,i,r,o){this.triangles_.push({source:[i,r,o],target:[t,e,n]})}addQuad_(t,e,n,i,r,o,s,a,l){const u=XP([r,o,s,a]),c=this.sourceWorldWidth_?SR(u)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&c>.5&&c<1;let f=!1;if(l>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(f=SR(XP([t,e,n,i]))/this.targetWorldWidth_>.25||f),!d&&this.sourceProj_.isGlobal()&&c&&(f=c>.25||f)),!f&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!ER(u,this.maxSourceExtent_))return;let p=0;if(!(f||isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])))if(l>0)f=!0;else if(p=(isFinite(r[0])&&isFinite(r[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(s[0])&&isFinite(s[1])?0:2)+(isFinite(a[0])&&isFinite(a[1])?0:1),1!=p&&2!=p&&4!=p&&8!=p)return;if(l>0){if(!f){const e=[(t[0]+n[0])/2,(t[1]+n[1])/2],i=this.transformInv_(e);let o;o=d?(YR(r[0],h)+YR(s[0],h))/2-YR(i[0],h):(r[0]+s[0])/2-i[0];const a=(r[1]+s[1])/2-i[1];f=o*o+a*a>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){const u=[(e[0]+n[0])/2,(e[1]+n[1])/2],c=this.transformInv_(u),h=[(i[0]+t[0])/2,(i[1]+t[1])/2],d=this.transformInv_(h);this.addQuad_(t,e,u,h,r,o,c,d,l-1),this.addQuad_(h,u,n,i,d,c,s,a,l-1)}else{const u=[(t[0]+e[0])/2,(t[1]+e[1])/2],c=this.transformInv_(u),h=[(n[0]+i[0])/2,(n[1]+i[1])/2],d=this.transformInv_(h);this.addQuad_(t,u,h,i,r,c,d,a,l-1),this.addQuad_(u,e,n,h,c,o,s,d,l-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}11&p||this.addTriangle_(t,n,i,r,s,a),14&p||this.addTriangle_(t,n,e,r,s,o),p&&(13&p||this.addTriangle_(e,i,t,o,a,r),7&p||this.addTriangle_(e,i,n,o,a,s))}calculateSourceExtent(){const t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach((function(e,n,i){const r=e.source;lR(t,r[0]),lR(t,r[1]),lR(t,r[2])})),t}getTriangles(){return this.triangles_}}let vG;const _G=[];function xG(t,e,n,i,r){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,r),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,r)),t.restore()}function bG(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function wG(t,e,n,i){const r=CI(n,e,t);let o=yI(e,i,n);const s=e.getMetersPerUnit();void 0!==s&&(o*=s);const a=t.getMetersPerUnit();void 0!==a&&(o/=a);const l=t.getExtent();if(!l||JP(l,r)){const e=yI(t,o,r)/o;isFinite(e)&&e>0&&(o/=e)}return o}function SG(t,e,n,i,r,o,s,a,l,u,c,h,d,f){const p=sF(Math.round(n*t),Math.round(n*e),_G);if(h||(p.imageSmoothingEnabled=!1),0===l.length)return p.canvas;function g(t){return Math.round(t*n)/n}p.scale(n,n),p.globalCompositeOperation="lighter";const m=[1/0,1/0,-1/0,-1/0];let y;l.forEach((function(t,e,n){aR(m,t.extent)}));const v=n/i,_=(h?1:1+Math.pow(2,-24))/v;if(!d||1!==l.length||0!==u){if(y=sF(Math.round(SR(m)*v),Math.round(_R(m)*v),_G),h||(y.imageSmoothingEnabled=!1),r&&f){const t=(r[0]-m[0])*v,e=-(r[3]-m[3])*v,n=SR(r)*v,i=_R(r)*v;y.rect(t,e,n,i),y.clip()}l.forEach((function(t,e,n){if(t.image.width>0&&t.image.height>0){if(t.clipExtent){y.save();const e=(t.clipExtent[0]-m[0])*v,n=-(t.clipExtent[3]-m[3])*v,i=SR(t.clipExtent)*v,r=_R(t.clipExtent)*v;y.rect(h?e:Math.round(e),h?n:Math.round(n),h?i:Math.round(e+i)-Math.round(e),h?r:Math.round(n+r)-Math.round(n)),y.clip()}const e=(t.extent[0]-m[0])*v,n=-(t.extent[3]-m[3])*v,i=SR(t.extent)*v,r=_R(t.extent)*v;y.drawImage(t.image,u,u,t.image.width-2*u,t.image.height-2*u,h?e:Math.round(e),h?n:Math.round(n),h?i:Math.round(e+i)-Math.round(e),h?r:Math.round(n+r)-Math.round(n)),t.clipExtent&&y.restore()}}))}const x=bR(s);return a.getTriangles().forEach((function(t,e,n){const i=t.source,r=t.target;let s=i[0][0],a=i[0][1],u=i[1][0],c=i[1][1],d=i[2][0],f=i[2][1];const v=g((r[0][0]-x[0])/o),b=g(-(r[0][1]-x[1])/o),w=g((r[1][0]-x[0])/o),S=g(-(r[1][1]-x[1])/o),E=g((r[2][0]-x[0])/o),C=g(-(r[2][1]-x[1])/o),M=s,k=a;s=0,a=0,u-=M,c-=k,d-=M,f-=k;const T=function(t){const e=t.length;for(let i=0;i<e;i++){let n=i,r=Math.abs(t[i][i]);for(let s=i+1;s<e;s++){const e=Math.abs(t[s][i]);e>r&&(r=e,n=s)}if(0===r)return null;const o=t[n];t[n]=t[i],t[i]=o;for(let s=i+1;s<e;s++){const n=-t[s][i]/t[i][i];for(let r=i;r<e+1;r++)i==r?t[s][r]=0:t[s][r]+=n*t[i][r]}}const n=new Array(e);for(let i=e-1;i>=0;i--){n[i]=t[i][e]/t[i][i];for(let r=i-1;r>=0;r--)t[r][e]-=t[r][i]*n[i]}return n}([[u,c,0,0,w-v],[d,f,0,0,E-v],[0,0,u,c,S-b],[0,0,d,f,C-b]]);if(!T)return;if(p.save(),p.beginPath(),function(){if(void 0===vG){const t=sF(6,6,_G);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",xG(t,4,5,4,0),xG(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;vG=bG(e,0)||bG(e,4)||bG(e,8),uF(t),_G.push(t.canvas)}return vG}()||!h){p.moveTo(w,S);const t=4,e=v-w,n=b-S;for(let i=0;i<t;i++)p.lineTo(w+g((i+1)*e/t),S+g(i*n/(t-1))),i!=t-1&&p.lineTo(w+g((i+1)*e/t),S+g((i+1)*n/(t-1)));p.lineTo(E,C)}else p.moveTo(w,S),p.lineTo(v,b),p.lineTo(E,C);let P;if(p.clip(),p.transform(T[0],T[2],T[1],T[3],v,b),p.translate(m[0]-M,m[3]-k),y)P=y.canvas,p.scale(_,-_);else{const t=l[0],e=t.extent;P=t.image,p.scale(SR(e)/P.width,-_R(e)/P.height)}p.drawImage(P,0,0),p.restore()})),y&&(uF(y),_G.push(y.canvas)),c&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,a.getTriangles().forEach((function(t,e,n){const i=t.target,r=(i[0][0]-x[0])/o,s=-(i[0][1]-x[1])/o,a=(i[1][0]-x[0])/o,l=-(i[1][1]-x[1])/o,u=(i[2][0]-x[0])/o,c=-(i[2][1]-x[1])/o;p.beginPath(),p.moveTo(a,l),p.lineTo(r,s),p.lineTo(u,c),p.closePath(),p.stroke()})),p.restore()),p.canvas}class EG extends PD{constructor(t,e,n,i,r,o,s,a,l,u,c,h){super(r,ED,h),this.renderEdges_=void 0!==c&&c,this.pixelRatio_=s,this.gutter_=a,this.canvas_=null,this.sourceTileGrid_=e,this.targetTileGrid_=i,this.wrappedTileCoord_=o||r,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t.getExtent():void 0;const d=i.getTileCoordExtent(this.wrappedTileCoord_),f=this.targetTileGrid_.getExtent();let p=this.sourceTileGrid_.getExtent();const g=f?xR(d,f):d;if(0===dR(g))return void(this.state=TD);const m=t.getExtent();m&&(p=p?xR(p,m):m);const y=i.getResolution(this.wrappedTileCoord_[0]),v=function(t,e,n,i){const r=gR(n);let o=wG(t,e,r,i);return(!isFinite(o)||o<=0)&&hR(n,(function(n){return o=wG(t,e,n,i),isFinite(o)&&o>0})),o}(t,n,g,y);if(!isFinite(v)||v<=0)return void(this.state=TD);const _=void 0!==u?u:.5;if(this.triangulation_=new yG(t,n,g,p,v*_,y),0===this.triangulation_.getTriangles().length)return void(this.state=TD);this.sourceZ_=e.getZForResolution(v);let x=this.triangulation_.calculateSourceExtent();if(p&&(t.canWrapX()?(x[1]=qR(x[1],p[1],p[3]),x[3]=qR(x[3],p[1],p[3])):x=xR(x,p)),dR(x)){let n=0,i=0;t.canWrapX()&&(n=SR(m),i=Math.floor((x[0]-m[0])/n)),kR(x.slice(),t,!0).forEach((t=>{const r=e.getTileRangeForExtentAndZ(t,this.sourceZ_);for(let e=r.minX;e<=r.maxX;e++)for(let t=r.minY;t<=r.maxY;t++){const r=l(this.sourceZ_,e,t,s);if(r){const t=i*n;this.sourceTiles_.push({tile:r,offset:t})}}++i})),0===this.sourceTiles_.length&&(this.state=TD)}else this.state=TD}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach((e=>{var n;const i=e.tile;if(i&&i.getState()==MD){const r=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);r[0]+=e.offset,r[2]+=e.offset;const o=null==(n=this.clipExtent_)?void 0:n.slice();o&&(o[0]+=e.offset,o[2]+=e.offset),t.push({extent:r,clipExtent:o,image:i.getImage()})}})),this.sourceTiles_.length=0,0===t.length)this.state=kD;else{const e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),i="number"==typeof n?n:n[0],r="number"==typeof n?n:n[1],o=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=SG(i,r,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),o,a,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=MD}this.changed()}load(){if(this.state==ED){this.state=CD,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((({tile:e})=>{const n=e.getState();if(n==ED||n==CD){t++;const n=_P(e,uP,(function(i){const r=e.getState();r!=MD&&r!=kD&&r!=TD||(bP(n),t--,0===t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(n)}})),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function({tile:t},e,n){t.getState()==ED&&t.load()}))}}unlistenSources_(){this.sourcesListenerKeys_.forEach(bP),this.sourcesListenerKeys_=null}release(){this.canvas_&&(uF(this.canvas_.getContext("2d")),_G.push(this.canvas_),this.canvas_=null),super.release()}}class CG extends PN{constructor(t){super(t),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=[1/0,1/0,-1/0,-1/0],this.tmpTileRange_=new e$(0,0,0,0)}isDrawableTile(t){const e=this.getLayer(),n=t.getState(),i=e.getUseInterimTilesOnError();return n==MD||n==TD||n==kD&&!i}getTile(t,e,n,i){const r=i.pixelRatio,o=i.viewState.projection,s=this.getLayer();let a=s.getSource().getTile(t,e,n,r,o);return a.getState()==kD&&s.getUseInterimTilesOnError()&&s.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(a)||(a=a.getInterimTile()),a}getData(t){const e=this.frameState;if(!e)return null;const n=this.getLayer(),i=DP(e.pixelToCoordinateTransform,t.slice()),r=n.getExtent();if(r&&!JP(r,i))return null;const o=e.pixelRatio,s=e.viewState.projection,a=e.viewState,l=n.getRenderSource(),u=l.getTileGridForProjection(a.projection),c=l.getTilePixelRatio(e.pixelRatio);for(let h=u.getZForResolution(a.resolution);h>=u.getMinZoom();--h){const t=u.getTileCoordForCoordAndZ(i,h),e=l.getTile(h,t[1],t[2],o,s);if(!(e instanceof RD||e instanceof EG)||e instanceof EG&&e.getState()===TD)return null;if(e.getState()!==MD)continue;const n=u.getOrigin(h),r=kF(u.getTileSize(h)),d=u.getResolution(h),f=Math.floor(c*((i[0]-n[0])/d-t[1]*r[0])),p=Math.floor(c*((n[1]-i[1])/d-t[2]*r[1])),g=Math.round(c*l.getGutterForProjection(a.projection));return this.getImageData(e.getImage(),f+g,p+g)}return null}loadedTileCallback(t,e,n){return!!this.isDrawableTile(n)&&super.loadedTileCallback(t,e,n)}prepareFrame(t){return!!this.getLayer().getSource()}renderFrame(t,e){const n=t.layerStatesArray[t.layerIndex],i=t.viewState,r=i.projection,o=i.resolution,s=i.center,a=i.rotation,l=t.pixelRatio,u=this.getLayer(),c=u.getSource(),h=c.getRevision(),d=c.getTileGridForProjection(r),f=d.getZForResolution(o,c.zDirection),p=d.getResolution(f);let g=t.extent;const m=t.viewState.resolution,y=c.getTilePixelRatio(l);this.prepareContainer(t,e);const v=this.context.canvas.width,_=this.context.canvas.height,x=n.extent&&PI(n.extent);x&&(g=xR(g,PI(n.extent)));const b=p*v/2/y,w=p*_/2/y,S=[s[0]-b,s[1]-w,s[0]+b,s[1]+w],E=d.getTileRangeForExtentAndZ(g,f),C={};C[f]={};const M=this.createLoadedTileFinder(c,r,C),k=this.tmpExtent,T=this.tmpTileRange_;this.newTiles_=!1;const P=a?vR(i.center,m,a,t.size):void 0;for(let j=E.minX;j<=E.maxX;++j)for(let e=E.minY;e<=E.maxY;++e){if(a&&!d.tileCoordIntersectsViewport([f,j,e],P))continue;const i=this.getTile(f,j,e,t);if(this.isDrawableTile(i)){const e=MP(this);if(i.getState()==MD){C[f][i.tileCoord.toString()]=i;let t=i.inTransition(e);t&&1!==n.opacity&&(i.endTransition(e),t=!1),this.newTiles_||!t&&this.renderedTiles.includes(i)||(this.newTiles_=!0)}if(1===i.getAlpha(e,t.time))continue}const r=d.getTileCoordChildTileRange(i.tileCoord,T,k);let o=!1;r&&(o=M(f+1,r)),o||d.forEachTileCoordParentTileRange(i.tileCoord,M,T,k)}const R=p/o*l/y,I=this.getRenderContext(t);zP(this.tempTransform,v/2,_/2,R,R,0,-v/2,-_/2),x&&this.clipUnrotated(I,t,x),c.getInterpolate()||(I.imageSmoothingEnabled=!1),this.preRender(I,t),this.renderedTiles.length=0;let O,F,L,A=Object.keys(C).map(Number);A.sort(ZT),1!==n.opacity||this.containerReused&&!c.getOpaque(t.viewState.projection)?(O=[],F=[]):A=A.reverse();for(let j=A.length-1;j>=0;--j){const e=A[j],n=c.getTilePixelSize(e,l,r),i=d.getResolution(e)/p,o=n[0]*i*R,s=n[1]*i*R,a=d.getTileCoordForCoordAndZ(bR(S),e),u=d.getTileCoordExtent(a),h=DP(this.tempTransform,[y*(u[0]-S[0])/p,y*(S[3]-u[3])/p]),g=y*c.getGutterForProjection(r),m=C[e];for(const r in m){const n=m[r],i=n.tileCoord,l=a[1]-i[1],u=Math.round(h[0]-(l-1)*o),d=a[2]-i[2],p=Math.round(h[1]-(d-1)*s),y=Math.round(h[0]-l*o),v=Math.round(h[1]-d*s),_=u-y,x=p-v,b=f===e,w=b&&1!==n.getAlpha(MP(this),t.time);let S=!1;if(!w)if(O){L=[y,v,y+_,v,y+_,v+x,y,v+x];for(let t=0,n=O.length;t<n;++t)if(f!==e&&e<F[t]){const e=O[t];ER([y,v,y+_,v+x],[e[0],e[3],e[4],e[7]])&&(S||(I.save(),S=!0),I.beginPath(),I.moveTo(L[0],L[1]),I.lineTo(L[2],L[3]),I.lineTo(L[4],L[5]),I.lineTo(L[6],L[7]),I.moveTo(e[6],e[7]),I.lineTo(e[4],e[5]),I.lineTo(e[2],e[3]),I.lineTo(e[0],e[1]),I.clip())}O.push(L),F.push(e)}else I.clearRect(y,v,_,x);this.drawTileImage(n,t,y,v,_,x,g,b),O&&!w?(S&&I.restore(),this.renderedTiles.unshift(n)):this.renderedTiles.push(n),this.updateUsedTiles(t.usedTiles,c,n)}}return this.renderedRevision=h,this.renderedResolution=p,this.extentChanged=!this.renderedExtent_||!sR(this.renderedExtent_,S),this.renderedExtent_=S,this.renderedPixelRatio=l,this.renderedProjection=r,this.manageTilePyramid(t,c,d,l,r,g,f,u.getPreload()),this.scheduleExpireCache(t,c),this.postRender(this.context,t),n.extent&&I.restore(),I.imageSmoothingEnabled=!0,this.container}drawTileImage(t,e,n,i,r,o,s,a){const l=this.getTileImage(t);if(!l)return;const u=this.getRenderContext(e),c=MP(this),h=e.layerStatesArray[e.layerIndex],d=h.opacity*(a?t.getAlpha(c,e.time):1),f=d!==u.globalAlpha;f&&(u.save(),u.globalAlpha=d),u.drawImage(l,s,s,l.width-2*s,l.height-2*s,n,i,r,o),f&&u.restore(),d!==h.opacity?e.animate=!0:a&&t.endTransition(c)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}scheduleExpireCache(t,e){if(e.canExpireCache()){const n=function(t,e,n){const i=MP(t);i in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[i])}.bind(null,e);t.postRenderFunctions.push(n)}}updateUsedTiles(t,e,n){const i=MP(e);i in t||(t[i]={}),t[i][n.getKey()]=!0}manageTilePyramid(t,e,n,i,r,o,s,a,l){const u=MP(e);u in t.wantedTiles||(t.wantedTiles[u]={});const c=t.wantedTiles[u],h=t.tileQueue,d=n.getMinZoom(),f=t.viewState.rotation,p=f?vR(t.viewState.center,t.viewState.resolution,f,t.size):void 0;let g,m,y,v,_,x,b=0;for(x=d;x<=s;++x)for(m=n.getTileRangeForExtentAndZ(o,x,m),y=n.getResolution(x),v=m.minX;v<=m.maxX;++v)for(_=m.minY;_<=m.maxY;++_)f&&!n.tileCoordIntersectsViewport([x,v,_],p)||(s-x<=a?(++b,g=e.getTile(x,v,_,i,r),g.getState()==ED&&(c[g.getKey()]=!0,h.isKeyQueued(g.getKey())||h.enqueue([g,u,n.getTileCoordCenter(g.tileCoord),y])),void 0!==l&&l(g)):e.useTile(x,v,_,r));e.updateCacheSize(b,r)}}class MG extends mG{constructor(t){super(t)}createRenderer(){return new CG(this)}}const kG="tileloadstart",TG="tileloadend",PG="tileloaderror";function RG(t){let e=t.getDefaultTileGrid();return e||(e=function(t,e,n,i){const r=OG(t);return function(t,e,n,i){i=void 0!==i?i:"top-left";const r=IG(t,e,n);return new fG({extent:t,origin:mR(t,i),resolutions:r,tileSize:n})}(r,e,n,i)}(t),t.setDefaultTileGrid(e)),e}function IG(t,e,n,i){e=void 0!==e?e:42,n=kF(void 0!==n?n:SL);const r=_R(t),o=SR(t);i=i>0?i:Math.max(o/n[0],r/n[1]);const s=e+1,a=new Array(s);for(let l=0;l<s;++l)a[l]=i/Math.pow(2,l);return a}function OG(t){let e=(t=mI(t)).getExtent();if(!e){const n=180*TR.degrees/t.getMetersPerUnit();e=nR(-n,-n,n,n)}return e}class FG extends hD{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.opaque_=void 0!==t.opaque&&t.opaque,this.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null;const e=[256,256];this.tileGrid&&kF(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),e),this.tileCache=new t$(t.cacheSize||0),this.tmpSize=[0,0],this.key_=t.key||"",this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(t,e){const n=this.getTileCacheForProjection(t);n&&n.expireCache(e)}forEachLoadedTile(t,e,n,i){const r=this.getTileCacheForProjection(t);if(!r)return!1;let o,s,a,l=!0;for(let u=n.minX;u<=n.maxX;++u)for(let t=n.minY;t<=n.maxY;++t)s=Jz(e,u,t),a=!1,r.containsKey(s)&&(o=r.get(s),a=o.getState()===MD,a&&(a=!1!==i(o))),a||(l=!1);return l}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getOpaque(t){return this.opaque_}getResolutions(t){const e=t?this.getTileGridForProjection(t):this.tileGrid;return e?e.getResolutions():null}getTile(t,e,n,i,r){return EP()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:RG(t)}getTileCacheForProjection(t){const e=this.getProjection();return LP(null===e||wI(e,t),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,e,n){const i=this.getTileGridForProjection(n),r=this.getTilePixelRatio(e),o=kF(i.getTileSize(t),this.tmpSize);return 1==r?o:(s=o,a=r,void 0===(l=this.tmpSize)&&(l=[0,0]),l[0]=s[0]*a+.5|0,l[1]=s[1]*a+.5|0,l);var s,a,l}getTileCoordForTileUrlFunction(t,e){e=void 0!==e?e:this.getProjection();const n=this.getTileGridForProjection(e);return this.getWrapX()&&e.isGlobal()&&(t=function(t,e,n){const i=e[0],r=t.getTileCoordCenter(e),o=OG(n);if(!JP(o,r)){const e=SR(o),n=Math.ceil((o[0]-r[0])/e);return r[0]+=e*n,t.getTileCoordForCoordAndZ(r,i)}return e}(n,t,e)),function(t,e){const n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const o=e.getFullTileRange(n);return!o||o.containsXY(i,r)}(t,n)?t:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(t,e){const n=this.getTileCacheForProjection(e);t>n.highWaterMark&&(n.highWaterMark=t)}useTile(t,e,n,i){}}class LG extends qT{constructor(t,e){super(t),this.tile=e}}function AG(t,e){const n=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,o=/\{-y\}/g;return function(s,a,l){if(s)return t.replace(n,s[0].toString()).replace(i,s[1].toString()).replace(r,s[2].toString()).replace(o,(function(){const t=s[0],n=e.getFullTileRange(t);if(!n)throw new Error("The {-y} placeholder requires a tile grid with extent");return(n.getHeight()-s[2]-1).toString()}))}}function jG(t,e){const n=t.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=AG(t[r],e);return function(t){return 1===t.length?t[0]:function(e,n,i){if(!e)return;const r=function(t){return(t[1]<<t[0])+t[2]}(e),o=YR(r,t.length);return t[o](e,n,i)}}(i)}class NG extends FG{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===NG.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const e=t.target,n=MP(e),i=e.getState();let r;i==CD?(this.tileLoadingKeys_[n]=!0,r=kG):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],r=i==kD?PG:i==MD?TG:void 0),null!=r&&this.dispatchEvent(new LG(r,e))}setTileLoadFunction(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()}setUrl(t){const e=function(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const i=n[1].charCodeAt(0),r=n[2].charCodeAt(0);let o;for(o=i;o<=r;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const i=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=i;r++)e.push(t.replace(n[0],r.toString()));return e}return e.push(t),e}(t);this.urls=e,this.setUrls(e)}setUrls(t){this.urls=t;const e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(jG(t,this.tileGrid),e):this.setKey(e)}tileUrlFunction(t,e,n){}useTile(t,e,n){const i=Jz(t,e,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}class DG extends NG{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:zG,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:void 0===t.interpolate||t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:RD,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1}expireCache(t,e){const n=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==n?e:{});for(const i in this.tileCacheForProjection){const t=this.tileCacheForProjection[i];t.expireCache(t==n?e:{})}}getGutterForProjection(t){return this.getProjection()&&t&&!wI(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getOpaque(t){return!(this.getProjection()&&t&&!wI(this.getProjection(),t))&&super.getOpaque(t)}getTileGridForProjection(t){const e=this.getProjection();if(this.tileGrid&&(!e||wI(e,t)))return this.tileGrid;const n=MP(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=RG(t)),this.tileGridForProjection[n]}getTileCacheForProjection(t){const e=this.getProjection();if(!e||wI(e,t))return this.tileCache;const n=MP(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new t$(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]}createTile_(t,e,n,i,r,o){const s=[t,e,n],a=this.getTileCoordForTileUrlFunction(s,r),l=a?this.tileUrlFunction(a,i,r):void 0,u=new this.tileClass(s,void 0!==l?ED:TD,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=o,u.addEventListener(uP,this.handleTileChange.bind(this)),u}getTile(t,e,n,i,r){const o=this.getProjection();if(!o||!r||wI(o,r))return this.getTileInternal(t,e,n,i,o||r);const s=this.getTileCacheForProjection(r),a=[t,e,n];let l;const u=Qz(a);s.containsKey(u)&&(l=s.get(u));const c=this.getKey();if(l&&l.key==c)return l;const h=this.getTileGridForProjection(o),d=this.getTileGridForProjection(r),f=this.getTileCoordForTileUrlFunction(a,r),p=new EG(o,h,r,d,a,f,this.getTilePixelRatio(i),this.getGutter(),((t,e,n,i)=>this.getTileInternal(t,e,n,i,o)),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return p.key=c,l?(p.interimTile=l,p.refreshInterimChain(),s.replace(u,p)):s.set(u,p),p}getTileInternal(t,e,n,i,r){let o=null;const s=Jz(t,e,n),a=this.getKey();if(this.tileCache.containsKey(s)){if(o=this.tileCache.get(s),o.key!=a){const l=o;o=this.createTile_(t,e,n,i,r,a),l.getState()==ED?o.interimTile=l.interimTile:o.interimTile=l,o.refreshInterimChain(),this.tileCache.replace(s,o)}}else o=this.createTile_(t,e,n,i,r,a),this.tileCache.set(s,o);return o}setRenderReprojectionEdges(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(t,e){const n=mI(t);if(n){const t=MP(n);t in this.tileGridForProjection||(this.tileGridForProjection[t]=e)}}clear(){super.clear();for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear()}}function zG(t,e){t.getImage().src=e}class $G extends DG{constructor(t){const e=void 0!==(t=t||{}).projection?t.projection:"EPSG:3857",n=void 0!==t.tileGrid?t.tileGrid:function(t){const e=t||{},n=e.extent||mI("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:IG(n,e.maxZoom,e.tileSize,e.maxResolution)};return new fG(i)}({extent:OG(e),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,opaque:t.opaque,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:n,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=void 0!==t.gutter?t.gutter:0}getGutter(){return this.gutter_}}class BG extends zL{constructor(t){super(t=t||{})}}class WG extends PN{constructor(t){super(t),this.image_=null}getImage(){return this.image_?this.image_.getImage():null}prepareFrame(t){const e=t.layerStatesArray[t.layerIndex],n=t.pixelRatio,i=t.viewState,r=i.resolution,o=this.getLayer().getSource(),s=t.viewHints;let a=t.extent;if(void 0!==e.extent&&(a=xR(a,PI(e.extent,i.projection))),!s[xL]&&!s[bL]&&!CR(a))if(o){const t=i.projection,e=o.getImage(a,r,n,t);e&&(this.loadImage(e)?this.image_=e:e.getState()===FO&&(this.image_=null))}else this.image_=null;return!!this.image_}getData(t){const e=this.frameState;if(!e)return null;const n=this.getLayer(),i=DP(e.pixelToCoordinateTransform,t.slice()),r=n.getExtent();if(r&&!JP(r,i))return null;const o=this.image_.getExtent(),s=this.image_.getImage(),a=SR(o),l=Math.floor(s.width*((i[0]-o[0])/a));if(l<0||l>=s.width)return null;const u=_R(o),c=Math.floor(s.height*((o[3]-i[1])/u));return c<0||c>=s.height?null:this.getImageData(s,l,c)}renderFrame(t,e){const n=this.image_,i=n.getExtent(),r=n.getResolution(),[o,s]=Array.isArray(r)?r:[r,r],a=n.getPixelRatio(),l=t.layerStatesArray[t.layerIndex],u=t.pixelRatio,c=t.viewState,h=c.center,d=c.resolution,f=u*o/(d*a),p=u*s/(d*a);this.prepareContainer(t,e);const g=this.context.canvas.width,m=this.context.canvas.height,y=this.getRenderContext(t);let v=!1,_=!0;if(l.extent){const e=PI(l.extent,c.projection);_=ER(e,t.extent),v=_&&!QP(e,t.extent),v&&this.clipUnrotated(y,t,e)}const x=n.getImage(),b=zP(this.tempTransform,g/2,m/2,f,p,0,a*(i[0]-h[0])/o,a*(h[1]-i[3])/s);this.renderedResolution=s*u/a;const w=x.width*b[0],S=x.height*b[3];if(this.getLayer().getSource().getInterpolate()||(y.imageSmoothingEnabled=!1),this.preRender(y,t),_&&w>=.5&&S>=.5){const t=b[4],e=b[5],n=l.opacity;1!==n&&(y.save(),y.globalAlpha=n),y.drawImage(x,0,0,+x.width,+x.height,t,e,w,S),1!==n&&y.restore()}return this.postRender(this.context,t),v&&y.restore(),y.imageSmoothingEnabled=!0,this.container}}class GG extends BG{constructor(t){super(t)}createRenderer(){return new WG(this)}getData(t){return super.getData(t)}}function UG(t){return Array.isArray(t)?Math.min(...t):t}class HG extends dF{constructor(t,e,n,i,r,o,s){let a=t.getExtent();a&&t.canWrapX()&&(a=a.slice(),a[0]=-1/0,a[2]=1/0);let l=e.getExtent();l&&e.canWrapX()&&(l=l.slice(),l[0]=-1/0,l[2]=1/0);const u=l?xR(n,l):n,c=wG(t,e,gR(u),i),h=new yG(t,e,u,a,.5*c,i),d=h.calculateSourceExtent(),f=CR(d)?null:o(d,c,r),p=f?PO:FO,g=f?f.getPixelRatio():1;super(n,i,g,p),this.targetProj_=e,this.maxSourceExtent_=a,this.triangulation_=h,this.targetResolution_=i,this.targetExtent_=n,this.sourceImage_=f,this.sourcePixelRatio_=g,this.interpolate_=s,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==RO&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const t=this.sourceImage_.getState();if(t==IO){const t=SR(this.targetExtent_)/this.targetResolution_,e=_R(this.targetExtent_)/this.targetResolution_;this.canvas_=SG(t,e,this.sourcePixelRatio_,UG(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=t,this.changed()}load(){if(this.state==PO){this.state=RO,this.changed();const t=this.sourceImage_.getState();t==IO||t==OO?this.reproject_():(this.sourceListenerKey_=_P(this.sourceImage_,uP,(function(t){const e=this.sourceImage_.getState();e!=IO&&e!=OO||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}}unlistenSource_(){bP(this.sourceListenerKey_),this.sourceListenerKey_=null}}const VG="imageloadstart",qG="imageloadend",XG="imageloaderror";class KG extends qT{constructor(t,e){super(t),this.image=e}}class ZG extends hD{constructor(t){super({attributions:t.attributions,projection:t.projection,state:t.state,interpolate:void 0===t.interpolate||t.interpolate}),this.on,this.once,this.un,this.loader=t.loader||null,this.resolutions_=void 0!==t.resolutions?t.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=!!t.loader&&0===t.loader.length,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(t){this.resolutions_=t}findNearestResolution(t){const e=this.getResolutions();return e&&(t=e[YT(e,t,0)]),t}getImage(t,e,n,i){const r=this.getProjection();if(!r||!i||wI(r,i))return r&&(i=r),this.getImageInternal(t,e,n,i);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&wI(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==e&&sR(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new HG(r,i,t,e,n,((t,e,n)=>this.getImageInternal(t,e,n,r)),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(t,e,n,i){if(this.loader){const r=JG(t,e,n,1),o=this.findNearestResolution(e);if(this.image&&(this.static_||this.wantedProjection_===i&&(this.wantedExtent_&&QP(this.wantedExtent_,r)||QP(this.image.getExtent(),r))&&(this.wantedResolution_&&UG(this.wantedResolution_)===o||UG(this.image.getResolution())===o)))return this.image;this.wantedProjection_=i,this.wantedExtent_=r,this.wantedResolution_=o,this.image=new dF(r,o,n,this.loader),this.image.addEventListener(uP,this.handleImageChange.bind(this))}return this.image}handleImageChange(t){const e=t.target;let n;switch(e.getState()){case RO:this.loading=!0,n=VG;break;case IO:this.loading=!1,n=qG;break;case OO:this.loading=!1,n=XG;break;default:return}this.hasListener(n)&&this.dispatchEvent(new KG(n,e))}}function YG(t,e){t.getImage().src=e}function JG(t,e,n,i){const r=e/n,o=gR(t),s=nI(SR(t)/r,4),a=nI(_R(t)/r,4);return yR(o,r,0,[s+2*nI((i-1)*s/2,4),a+2*nI((i-1)*a/2,4)])}function QG(t,e){const n=[];Object.keys(e).forEach((function(t){null!==e[t]&&void 0!==e[t]&&n.push(t+"="+encodeURIComponent(e[t]))}));const i=n.join("&");return t=t.replace(/[?&]$/,""),(t+=t.includes("?")?"&":"?")+i}const tU="1.3.0",eU=[101,101];function nU(t,e,n,i,r){r.WIDTH=n[0],r.HEIGHT=n[1];const o=i.getAxisOrientation();let s;const a=rI(r.VERSION,"1.3")>=0;return r[a?"CRS":"SRS"]=i.getCode(),s=a&&"ne"==o.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,r.BBOX=s.join(","),QG(t,r)}function iU(t,e){return Object.assign({REQUEST:e,SERVICE:"WMS",VERSION:tU,FORMAT:"image/png",STYLES:"",TRANSPARENT:!0},t)}function rU(t){const e=void 0===t.hidpi||t.hidpi,n=mI(t.projection||"EPSG:3857"),i=t.ratio||1.5,r=t.load||pF;return(o,s,a)=>{o=JG(o,s,a,i),1==a||e&&void 0!==t.serverType||(a=1);const l=function(t,e,n,i,r,o,s){o=Object.assign({REQUEST:"GetMap"},o);const a=e/n,l=[tI(SR(t)/a,4),tI(_R(t)/a,4)];if(1!=n)switch(s){case"geoserver":const t=90*n+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+t:o.FORMAT_OPTIONS="dpi:"+t;break;case"mapserver":o.MAP_RESOLUTION=90*n;break;case"carmentaserver":case"qgis":o.DPI=90*n;break;default:throw new Error("Unknown `serverType` configured")}return nU(r,t,l,i,o)}(o,s,a,n,t.url,iU(t.params,"GetMap"),t.serverType),u=new Image;return null!==t.crossOrigin&&(u.crossOrigin=t.crossOrigin),r(u,l).then((t=>({image:t,extent:o,pixelRatio:a})))}}class oU extends ZG{constructor(t){super({attributions:(t=t||{}).attributions,interpolate:t.interpolate,projection:t.projection,resolutions:t.resolutions}),this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null,this.url_=t.url,this.imageLoadFunction_=void 0!==t.imageLoadFunction?t.imageLoadFunction:YG,this.params_=Object.assign({},t.params),this.serverType_=t.serverType,this.hidpi_=void 0===t.hidpi||t.hidpi,this.renderedRevision_=0,this.ratio_=void 0!==t.ratio?t.ratio:1.5,this.loaderProjection_=null}getFeatureInfoUrl(t,e,n,i){const r=mI(n),o=this.getProjection();return o&&o!==r&&(e=wG(o,r,t,e),t=CI(t,r,o)),function(t,e,n){if(void 0===t.url)return;const i=mI(t.projection||"EPSG:3857"),r=yR(e,n,0,eU),o={QUERY_LAYERS:t.params.LAYERS,INFO_FORMAT:"application/json"};Object.assign(o,iU(t.params,"GetFeatureInfo"),t.params);const s=eI((e[0]-r[0])/n,4),a=eI((r[3]-e[1])/n,4),l=rI(o.VERSION,"1.3")>=0;return o[l?"I":"X"]=s,o[l?"J":"Y"]=a,nU(t.url,r,eU,i,o)}({url:this.url_,params:{...this.params_,...i},projection:o||r},t,e)}getLegendUrl(t,e){return function(t,e){if(void 0===t.url)return;const n={SERVICE:"WMS",VERSION:tU,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===t.params||void 0===t.params.LAYER){const e=t.params.LAYERS;if(Array.isArray(e)&&1!==e.length)return;n.LAYER=e}if(void 0!==e){const i=mI(t.projection||"EPSG:3857").getMetersPerUnit()||1,r=28e-5;n.SCALE=e*i/r}return Object.assign(n,t.params),QG(t.url,n)}({url:this.url_,params:{...this.params_,...e}},t)}getParams(){return this.params_}getImageInternal(t,e,n,i){return void 0===this.url_?null:(this.loader&&this.loaderProjection_===i||(this.loaderProjection_=i,this.loader=rU({crossOrigin:this.crossOrigin_,params:this.params_,projection:i,serverType:this.serverType_,hidpi:this.hidpi_,url:this.url_,ratio:this.ratio_,load:(t,e)=>(this.image.setImage(t),this.imageLoadFunction_(this.image,e),pF(t))})),super.getImageInternal(t,e,n,i))}getImageLoadFunction(){return this.imageLoadFunction_}getUrl(){return this.url_}setImageLoadFunction(t){this.imageLoadFunction_=t,this.changed()}setUrl(t){t!=this.url_&&(this.url_=t,this.loader=null,this.changed())}updateParams(t){Object.assign(this.params_,t),this.changed()}changed(){this.image=null,super.changed()}}const sU="projection",aU="coordinateFormat";class lU extends iz{constructor(t){t=t||{};const e=document.createElement("div");e.className=void 0!==t.className?t.className:"ol-mouse-position",super({element:e,render:t.render,target:t.target}),this.on,this.once,this.un,this.addChangeListener(sU,this.handleProjectionChanged_),t.coordinateFormat&&this.setCoordinateFormat(t.coordinateFormat),t.projection&&this.setProjection(t.projection),this.renderOnMouseOut_=void 0!==t.placeholder,this.placeholder_=this.renderOnMouseOut_?t.placeholder:"&#160;",this.renderedHTML_=e.innerHTML,this.mapProjection_=null,this.transform_=null,this.wrapX_=!1!==t.wrapX}handleProjectionChanged_(){this.transform_=null}getCoordinateFormat(){return this.get(aU)}getProjection(){return this.get(sU)}handleMouseMove(t){const e=this.getMap();this.updateHTML_(e.getEventPixel(t))}handleMouseOut(t){this.updateHTML_(null)}setMap(t){if(super.setMap(t),t){const e=t.getViewport();this.listenerKeys.push(_P(e,BD,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(_P(e,GD,this.handleMouseOut,this)),this.updateHTML_(null)}}setCoordinateFormat(t){this.set(aU,t)}setProjection(t){this.set(sU,mI(t))}updateHTML_(t){let e=this.placeholder_;if(t&&this.mapProjection_){if(!this.transform_){const t=this.getProjection();this.transform_=t?SI(this.mapProjection_,t):pI}const n=this.getMap().getCoordinateFromPixelInternal(t);if(n){this.transform_(n,n),this.wrapX_&&lI(n,this.getProjection()||this.mapProjection_);const t=this.getCoordinateFormat();e=t?t(n):n.toString()}}this.renderedHTML_&&e===this.renderedHTML_||(this.element.innerHTML=e,this.renderedHTML_=e)}render(t){const e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null}}const uU="units",cU=[1,2,5],hU=25.4/.28;class dU extends iz{constructor(t){t=t||{};const e=document.createElement("div");e.style.pointerEvents="none",super({element:e,render:t.render,target:t.target}),this.on,this.once,this.un;const n=void 0!==t.className?t.className:t.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=n+"-inner",this.element.className=n+" "+IF,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==t.minWidth?t.minWidth:64,this.maxWidth_=t.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(uU,this.handleUnitsChanged_),this.setUnits(t.units||"metric"),this.scaleBar_=t.bar||!1,this.scaleBarSteps_=t.steps||4,this.scaleBarText_=t.text||!1,this.dpi_=t.dpi||void 0}getUnits(){return this.get(uU)}handleUnitsChanged_(){this.updateElement_()}setUnits(t){this.set(uU,t)}setDpi(t){this.dpi_=t}updateElement_(){const t=this.viewState_;if(!t)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const e=t.center,n=t.projection,i=this.getUnits(),r="degrees"==i?"degrees":"m";let o=yI(n,t.resolution,e,r);const s=this.minWidth_*(this.dpi_||hU)/hU,a=void 0!==this.maxWidth_?this.maxWidth_*(this.dpi_||hU)/hU:void 0;let l=s*o,u="";if("degrees"==i){const t=TR.degrees;l*=t,l<t/60?(u="â€³",o*=3600):l<t?(u="â€²",o*=60):u="Â°"}else if("imperial"==i)l<.9144?(u="in",o/=.0254):l<1609.344?(u="ft",o/=.3048):(u="mi",o/=1609.344);else if("nautical"==i)o/=1852,u="NM";else if("metric"==i)l<1e-6?(u="nm",o*=1e9):l<.001?(u="Î¼m",o*=1e6):l<1?(u="mm",o*=1e3):l<1e3?u="m":(u="km",o/=1e3);else{if("us"!=i)throw new Error("Invalid units");l<.9144?(u="in",o*=39.37):l<1609.344?(u="ft",o/=.30480061):(u="mi",o/=1609.3472)}let c,h,d,f,p,g,m=3*Math.floor(Math.log(s*o)/Math.log(10));for(;;){d=Math.floor(m/3);const t=Math.pow(10,d);if(c=cU[(m%3+3)%3]*t,h=Math.round(c/o),isNaN(h))return this.element.style.display="none",void(this.renderedVisible_=!1);if(void 0!==a&&h>=a){c=f,h=p,d=g;break}if(h>=s)break;f=c,p=h,g=d,++m}const y=this.scaleBar_?this.createScaleBar(h,c,u):c.toFixed(d<0?-d:0)+" "+u;this.renderedHTML_!=y&&(this.innerElement_.innerHTML=y,this.renderedHTML_=y),this.renderedWidth_!=h&&(this.innerElement_.style.width=h+"px",this.renderedWidth_=h),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(t,e,n){const i=this.getScaleForResolution(),r=i<1?Math.round(1/i).toLocaleString()+" : 1":"1 : "+Math.round(i).toLocaleString(),o=this.scaleBarSteps_,s=t/o,a=[this.createMarker("absolute")];for(let l=0;l<o;++l){const i=l%2==0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";a.push(`<div><div class="ol-scale-singlebar ${i}" style="width: ${s}px;"></div>`+this.createMarker("relative")+(l%2==0||2===o?this.createStepText(l,t,!1,e,n):"")+"</div>")}return a.push(this.createStepText(o,t,!0,e,n)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${t}px;">`+r+"</div>":"")+a.join("")}createMarker(t){return`<div class="ol-scale-step-marker" style="position: ${t}; top: ${"absolute"===t?3:-10}px;"></div>`}createStepText(t,e,n,i,r){const o=(0===t?0:Math.round(i/this.scaleBarSteps_*t*100)/100)+(0===t?"":" "+r);return`<div class="ol-scale-step-text" style="margin-left: ${0===t?-3:e/this.scaleBarSteps_*-1}px;text-align: ${0===t?"left":"center"};min-width: ${0===t?0:e/this.scaleBarSteps_*2}px;left: ${n?e+"px":"unset"};">`+o+"</div>"}getScaleForResolution(){return yI(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m")*(1e3/25.4)*(this.dpi_||hU)}render(t){const e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()}}const fU="select";class pU extends qT{constructor(t,e,n,i){super(t),this.selected=e,this.deselected=n,this.mapBrowserEvent=i}}const gU={};class mU extends uz{constructor(t){let e;if(super(),this.on,this.once,this.un,t=t||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=t.condition?t.condition:xz,this.addCondition_=t.addCondition?t.addCondition:_z,this.removeCondition_=t.removeCondition?t.removeCondition:_z,this.toggleCondition_=t.toggleCondition?t.toggleCondition:Sz,this.multi_=!!t.multi&&t.multi,this.filter_=t.filter?t.filter:eP,this.hitTolerance_=t.hitTolerance?t.hitTolerance:0,this.style_=void 0!==t.style?t.style:function(){const t=function(){const t={},e=[255,255,255,1],n=[0,153,255,1];return t.Polygon=[new rL({fill:new xF({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new rL({stroke:new CF({color:e,width:5})}),new rL({stroke:new CF({color:n,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new rL({image:new iL({radius:6,fill:new xF({color:n}),stroke:new CF({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}();return QT(t.Polygon,t.LineString),QT(t.GeometryCollection,t.LineString),function(e){return e.getGeometry()?t[e.getGeometry().getType()]:null}}(),this.features_=t.features||new FP,t.layers)if("function"==typeof t.layers)e=t.layers;else{const n=t.layers;e=function(t){return n.includes(t)}}else e=eP;this.layerFilter_=e,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(t,e){this.featureLayerAssociation_[MP(t)]=e}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(t){return this.featureLayerAssociation_[MP(t)]}setHitTolerance(t){this.hitTolerance_=t}setMap(t){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(t),t?(this.features_.addEventListener(PP,this.boundAddFeature_),this.features_.addEventListener(RP,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(PP,this.boundAddFeature_),this.features_.removeEventListener(RP,this.boundRemoveFeature_))}addFeature_(t){const e=t.element;if(this.style_&&this.applySelectedStyle_(e),!this.getLayer(e)){const t=this.getMap().getAllLayers().find((function(t){if(t instanceof eD&&t.getSource()&&t.getSource().hasFeature(e))return t}));t&&this.addFeatureLayerAssociation_(e,t)}}removeFeature_(t){this.style_&&this.restorePreviousStyle_(t.element)}getStyle(){return this.style_}applySelectedStyle_(t){const e=MP(t);e in gU||(gU[e]=t.getStyle()),t.setStyle(this.style_)}restorePreviousStyle_(t){const e=this.getMap().getInteractions().getArray();for(let i=e.length-1;i>=0;--i){const n=e[i];if(n!==this&&n instanceof mU&&n.getStyle()&&-1!==n.getFeatures().getArray().lastIndexOf(t))return void t.setStyle(n.getStyle())}const n=MP(t);t.setStyle(gU[n]),delete gU[n]}removeFeatureLayerAssociation_(t){delete this.featureLayerAssociation_[MP(t)]}handleEvent(t){if(!this.condition_(t))return!0;const e=this.addCondition_(t),n=this.removeCondition_(t),i=this.toggleCondition_(t),r=!e&&!n&&!i,o=t.map,s=this.getFeatures(),a=[],l=[];if(r){sP(this.featureLayerAssociation_),o.forEachFeatureAtPixel(t.pixel,((t,e)=>{if(t instanceof AP&&this.filter_(t,e))return this.addFeatureLayerAssociation_(t,e),l.push(t),!this.multi_}),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let t=s.getLength()-1;t>=0;--t){const e=s.item(t),n=l.indexOf(e);n>-1?l.splice(n,1):(s.remove(e),a.push(e))}0!==l.length&&s.extend(l)}else{o.forEachFeatureAtPixel(t.pixel,((t,r)=>{if(t instanceof AP&&this.filter_(t,r))return!e&&!i||s.getArray().includes(t)?(n||i)&&s.getArray().includes(t)&&(a.push(t),this.removeFeatureLayerAssociation_(t)):(this.addFeatureLayerAssociation_(t,r),l.push(t)),!this.multi_}),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let t=a.length-1;t>=0;--t)s.remove(a[t]);s.extend(l)}return(l.length>0||a.length>0)&&this.dispatchEvent(new pU(fU,l,a,t)),!0}}mF.setSize(1024),mB.defs("EPSG:3301","+proj=lcc +lat_1=59.33333333333334 +lat_2=58 +lat_0=57.51755393055556 +lon_0=24 +x_0=500000 +y_0=6375000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),function(t){const e=Object.keys(t.defs),n=e.length;let i,r;for(i=0;i<n;++i){const n=e[i];if(!mI(n)){const e=t.defs(n);let i=e.units;i||"longlat"!==e.projName||(i="degrees"),gI(new PR({code:n,axisOrientation:e.axis,metersPerUnit:e.to_meter,units:i}))}}for(i=0;i<n;++i){const o=e[i],s=mI(o);for(r=0;r<n;++r){const n=e[r],i=mI(n);if(!VR(o,n))if(t.defs[o]===t.defs[n])vI([s,i]);else{const e=t(o,n);bI(s,i,RI(s,i,e.forward),RI(i,s,e.inverse))}}}}(mB);const yU=[40500,5993e3,1064500,7017e3],vU=[4e3,2e3,1e3,500,250,125,62.5,31.25,15.625,7.8125,3.90625,1.953125,.9765625,.48828125,.2808,.1403,.0562,.028,.014,.007,.0035,.00175,875e-6],_U=new fG({resolutions:vU,extent:yU}),xU=new PR({code:"EPSG:3301",inextent:yU,units:"m"}),bU=t=>{const{children:e,center:n,zoom:i,extent:r}=t,o=G.useRef(null),[s,a]=G.useState(null),l=C_(),u="Aluskaart: Maa-amet 2024, SÃ¼steemilahendus: <a href='https://www.geospatial.ee'>Geospatial OÃœÂ®</a> ",c=13;return G.useEffect((()=>{const t=new MG({inextent:yU,maxZoom:c,source:new $G({projection:"EPSG:3301",tileGrid:_U,url:"https://tiles.maaamet.ee/tm/tms/1.0.0/hallkaart/{z}/{x}/{-y}.jpg",crossOrigin:"anonymous",attributions:u}),zIndex:1}),e=new MG({inextent:yU,maxZoom:c,source:new $G({projection:"EPSG:3301",tileGrid:_U,url:"https://tiles.maaamet.ee/tm/tms/1.0.0/kaart2/{z}/{x}/{-y}.jpg",crossOrigin:"anonymous",attributions:u}),zIndex:2}),n=new MG({inextent:yU,maxZoom:c,name:"foto",source:new $G({projection:"EPSG:3301",tileGrid:_U,url:"https://tiles.maaamet.ee/tm/tms/1.0.0/foto/{z}/{x}/{-y}.jpg",crossOrigin:"anonymous",attributions:u}),zIndex:3}),i=new GG({visible:!0,minZoom:c,source:new oU({url:"https://kaart.maaamet.ee/wms/hallkaart?",params:{LAYERS:"MA-HALLKAART",VERSION:"1.1.1"},crossOrigin:"anonymous",attributions:u}),zIndex:1}),r=new GG({visible:!0,minZoom:c,source:new oU({url:"https://kaart.maaamet.ee/wms/kaart?",params:{LAYERS:"MA-KAART",VERSION:"1.1.1"},crossOrigin:"anonymous",attributions:u}),zIndex:2}),s=new GG({minZoom:c,name:"foto",source:new oU({url:"https://kaart.maaamet.ee/wms/alus?",params:{LAYERS:"of10000",VERSION:"1.1.1"},crossOrigin:"anonymous",attributions:u}),zIndex:3}),h=[new ND({combine:!0,visible:!1,title:"foto",type:"base",layers:[n,s]}),new ND({combine:!0,visible:!1,title:"kaart",type:"base",layers:[e,r]}),new ND({combine:!0,visible:!1,title:"hallkaart",type:"base",layers:[t,i]})],d=new Kz({target:void 0,controls:az({attributionOptions:{collapsed:!1,tipLabel:"info"}}).extend([new dU({units:"metric",bar:!0,text:!0,steps:1,minWidth:125})]),interactions:new Vz({constrainResolution:!0,onFocusOnly:!1}),layers:h,view:new AL({projection:xU,center:[659840,6472807],zoom:5,constrainResolution:!0,resolutions:vU})});return d&&(d.setTarget(o.current),a(d)),d.on("moveend",(()=>{const t=d.getView().getCenter(),e=d.getView().getZoom();l(((t,e)=>async n=>{n(Jb({center:t,zoom:e}))})(t,e))})),()=>{l((async t=>{t(nw())})),d.setTarget(void 0),a(null)}}),[l]),G.useEffect((()=>{s&&s.getView().setZoom(i)}),[s,i]),G.useEffect((()=>{s&&s.getView().setCenter(n)}),[s,n]),G.useEffect((()=>{s&&r&&s.getView().fit(r,{padding:[100,200,100,200],nearest:!0,minResolution:.005})}),[s,r]),G.useEffect((()=>{s&&s.updateSize()}),[s]),G.useEffect((()=>{o.current.focus()}),[]),Q.jsx(i$.Provider,{value:{map:s},children:Q.jsx("div",{ref:o,tabIndex:"0",className:"ol-map",children:e})})};mB.defs("EPSG:3301","+proj=lcc +lat_1=59.33333333333334 +lat_2=58 +lat_0=57.51755393055556 +lon_0=24 +x_0=500000 +y_0=6375000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs");const wU=({MapContext:t})=>{const{map:e}=G.useContext(t);return G.useEffect((()=>{if(!e)return;const t=new lU({coordinateFormat:t=>{let e=function(t,e){return t?oI("NS",t[1],e)+" "+oI("EW",t[0],e):""}(mB("EPSG:3301","EPSG:4326",t),1),n=function(t,e,n){return t?e.replace("{x}",t[0].toFixed(n)).replace("{y}",t[1].toFixed(n)):""}(t,"LEST: {y}, {x}",2);return"WGS: "+e+"</br>"+n},projection:"EPSG:3310",className:"custom-mouse-position",undefinedHTML:"&nbsp;"});return e.controls.push(t),()=>{e.controls.remove(t)}}),[e]),null},SU=34962,EU=34963,CU=35048,MU=["experimental-webgl","webgl","webkit-3d","moz-webgl"],kU=35044;class TU{constructor(t,e){this.array_=null,this.type_=t,LP(t===SU||t===EU,"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`"),this.usage_=void 0!==e?e:kU}ofSize(t){return this.array_=new(PU(this.type_))(t),this}fromArray(t){return this.array_=PU(this.type_).from(t),this}fromArrayBuffer(t){return this.array_=new(PU(this.type_))(t),this}getType(){return this.type_}getArray(){return this.array_}getUsage(){return this.usage_}getSize(){return this.array_?this.array_.length:0}}function PU(t){switch(t){case SU:return Float32Array;case EU:return Uint32Array;default:return Float32Array}}const RU="webglcontextlost",IU="webglcontextrestored";class OU{constructor(t){this.gl_=t.webGlContext;const e=this.gl_;this.scaleRatio_=t.scaleRatio||1,this.renderTargetTexture_=e.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=e.createFramebuffer(),this.depthBuffer_=e.createRenderbuffer();const n=e.createShader(e.VERTEX_SHADER);e.shaderSource(n,t.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord = a_position * 0.5 + 0.5;\n    v_screenCoord = v_texCoord * u_screenSize;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n"),e.compileShader(n);const i=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(i,t.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n  uniform float u_opacity;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;\n  }\n"),e.compileShader(i),this.renderTargetProgram_=e.createProgram(),e.attachShader(this.renderTargetProgram_,n),e.attachShader(this.renderTargetProgram_,i),e.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),e.STATIC_DRAW),this.renderTargetAttribLocation_=e.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetOpacityLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_opacity"),this.renderTargetTextureLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],t.uniforms&&Object.keys(t.uniforms).forEach((n=>{this.uniforms_.push({value:t.uniforms[n],location:e.getUniformLocation(this.renderTargetProgram_,n)})}))}getGL(){return this.gl_}init(t){const e=this.getGL(),n=[e.drawingBufferWidth*this.scaleRatio_,e.drawingBufferHeight*this.scaleRatio_];if(e.bindFramebuffer(e.FRAMEBUFFER,this.getFrameBuffer()),e.bindRenderbuffer(e.RENDERBUFFER,this.getDepthBuffer()),e.viewport(0,0,n[0],n[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==n[0]||this.renderTargetTextureSize_[1]!==n[1]){this.renderTargetTextureSize_=n;const t=0,i=e.RGBA,r=0,o=e.RGBA,s=e.UNSIGNED_BYTE,a=null;e.bindTexture(e.TEXTURE_2D,this.renderTargetTexture_),e.texImage2D(e.TEXTURE_2D,t,i,n[0],n[1],r,o,s,a),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.renderTargetTexture_,0),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,n[0],n[1]),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this.depthBuffer_)}}apply(t,e,n,i){const r=this.getGL(),o=t.size;if(r.bindFramebuffer(r.FRAMEBUFFER,e?e.getFrameBuffer():null),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,this.renderTargetTexture_),!e){const e=MP(r.canvas);if(!t.renderTargets[e]){const n=r.getContextAttributes();n&&n.preserveDrawingBuffer&&(r.clearColor(0,0,0,0),r.clearDepth(1),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT)),t.renderTargets[e]=!0}}r.disable(r.DEPTH_TEST),r.enable(r.BLEND),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA),r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight),r.bindBuffer(r.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),r.useProgram(this.renderTargetProgram_),r.enableVertexAttribArray(this.renderTargetAttribLocation_),r.vertexAttribPointer(this.renderTargetAttribLocation_,2,r.FLOAT,!1,0,0),r.uniform2f(this.renderTargetUniformLocation_,o[0],o[1]),r.uniform1i(this.renderTargetTextureLocation_,0);const s=t.layerStatesArray[t.layerIndex].opacity;r.uniform1f(this.renderTargetOpacityLocation_,s),this.applyUniforms(t),n&&n(r,t),r.drawArrays(r.TRIANGLES,0,6),i&&i(r,t)}getFrameBuffer(){return this.frameBuffer_}getDepthBuffer(){return this.depthBuffer_}applyUniforms(t){const e=this.getGL();let n,i=1;this.uniforms_.forEach((function(r){if(n="function"==typeof r.value?r.value(t):r.value,n instanceof HTMLCanvasElement||n instanceof ImageData)r.texture||(r.texture=e.createTexture()),e.activeTexture(e[`TEXTURE${i}`]),e.bindTexture(e.TEXTURE_2D,r.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n instanceof ImageData?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,n.width,n.height,0,e.UNSIGNED_BYTE,new Uint8Array(n.data)):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.uniform1i(r.location,i++);else if(Array.isArray(n))switch(n.length){case 2:return void e.uniform2f(r.location,n[0],n[1]);case 3:return void e.uniform3f(r.location,n[0],n[1],n[2]);case 4:return void e.uniform4f(r.location,n[0],n[1],n[2],n[3]);default:return}else"number"==typeof n&&e.uniform1f(r.location,n)}))}}const FU="u_projectionMatrix",LU="u_time",AU="u_zoom",jU="u_resolution",NU="u_rotation",DU="u_viewportSizePx",zU="u_pixelRatio",$U="u_hitDetection",BU=5121,WU=5123,GU=5125,UU=5126,HU={};function VU(t){return"shared/"+t}let qU=0;function XU(t){let e=HU[t];if(!e){const n=document.createElement("canvas");n.width=1,n.height=1,n.style.position="absolute",n.style.left="0";const i=function(t,e){e=Object.assign({preserveDrawingBuffer:!0,antialias:!JO},e);const n=MU.length;for(let r=0;r<n;++r)try{const n=t.getContext(MU[r],e);if(n)return n}catch(i){}return null}(n);e={users:0,context:i},HU[t]=e}return e.users+=1,e.context}class KU extends KT{constructor(t){super(),t=t||{},this.boundHandleWebGLContextLost_=this.handleWebGLContextLost.bind(this),this.boundHandleWebGLContextRestored_=this.handleWebGLContextRestored.bind(this),this.canvasCacheKey_=t.canvasCacheKey?VU(t.canvasCacheKey):function(){const t="unique/"+qU;return qU+=1,t}(),this.gl_=XU(this.canvasCacheKey_),this.bufferCache_={},this.extensionCache_={},this.currentProgram_=null,this.needsToBeRecreated_=!1;const e=this.gl_.canvas;e.addEventListener(RU,this.boundHandleWebGLContextLost_),e.addEventListener(IU,this.boundHandleWebGLContextRestored_),this.offsetRotateMatrix_=[1,0,0,1,0,0],this.offsetScaleMatrix_=[1,0,0,1,0,0],this.tmpMat4_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.uniformLocationsByProgram_={},this.attribLocationsByProgram_={},this.uniforms_=[],t.uniforms&&this.setUniforms(t.uniforms),this.postProcessPasses_=t.postProcesses?t.postProcesses.map((t=>new OU({webGlContext:this.gl_,scaleRatio:t.scaleRatio,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms}))):[new OU({webGlContext:this.gl_})],this.shaderCompileErrors_=null,this.startTime_=Date.now()}setUniforms(t){this.uniforms_=[],this.addUniforms(t)}addUniforms(t){for(const e in t)this.uniforms_.push({name:e,value:t[e]})}canvasCacheKeyMatches(t){return this.canvasCacheKey_===VU(t)}getExtension(t){if(t in this.extensionCache_)return this.extensionCache_[t];const e=this.gl_.getExtension(t);return this.extensionCache_[t]=e,e}bindBuffer(t){const e=this.gl_,n=MP(t);let i=this.bufferCache_[n];i||(i={buffer:t,webGlBuffer:e.createBuffer()},this.bufferCache_[n]=i),e.bindBuffer(t.getType(),i.webGlBuffer)}flushBufferData(t){const e=this.gl_;this.bindBuffer(t),e.bufferData(t.getType(),t.getArray(),t.getUsage())}deleteBuffer(t){const e=this.gl_,n=MP(t),i=this.bufferCache_[n];i&&!e.isContextLost()&&e.deleteBuffer(i.webGlBuffer),delete this.bufferCache_[n]}disposeInternal(){const t=this.gl_.canvas;t.removeEventListener(RU,this.boundHandleWebGLContextLost_),t.removeEventListener(IU,this.boundHandleWebGLContextRestored_),function(t){const e=HU[t];if(!e)return;if(e.users-=1,e.users>0)return;const n=e.context,i=n.getExtension("WEBGL_lose_context");i&&i.loseContext();const r=n.canvas;r.width=1,r.height=1,delete HU[t]}(this.canvasCacheKey_),delete this.gl_}prepareDraw(t,e,n){const i=this.gl_,r=this.getCanvas(),o=t.size,s=t.pixelRatio;r.width===o[0]*s&&r.height===o[1]*s||(r.width=o[0]*s,r.height=o[1]*s,r.style.width=o[0]+"px",r.style.height=o[1]+"px");for(let a=this.postProcessPasses_.length-1;a>=0;a--)this.postProcessPasses_[a].init(t);i.bindTexture(i.TEXTURE_2D,null),i.clearColor(0,0,0,0),i.depthRange(0,1),i.clearDepth(1),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),i.enable(i.BLEND),i.blendFunc(i.ONE,e?i.ZERO:i.ONE_MINUS_SRC_ALPHA),n?(i.enable(i.DEPTH_TEST),i.depthFunc(i.LEQUAL)):i.disable(i.DEPTH_TEST)}bindTexture(t,e,n){const i=this.gl_;i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,t),i.uniform1i(this.getUniformLocation(n),e)}prepareDrawToRenderTarget(t,e,n,i){const r=this.gl_,o=e.getSize();r.bindFramebuffer(r.FRAMEBUFFER,e.getFramebuffer()),r.bindRenderbuffer(r.RENDERBUFFER,e.getDepthbuffer()),r.viewport(0,0,o[0],o[1]),r.bindTexture(r.TEXTURE_2D,e.getTexture()),r.clearColor(0,0,0,0),r.depthRange(0,1),r.clearDepth(1),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),r.enable(r.BLEND),r.blendFunc(r.ONE,n?r.ZERO:r.ONE_MINUS_SRC_ALPHA),i?(r.enable(r.DEPTH_TEST),r.depthFunc(r.LEQUAL)):r.disable(r.DEPTH_TEST)}drawElements(t,e){const n=this.gl_;this.getExtension("OES_element_index_uint");const i=n.UNSIGNED_INT,r=e-t,o=4*t;n.drawElements(n.TRIANGLES,r,i,o)}finalizeDraw(t,e,n){for(let i=0,r=this.postProcessPasses_.length;i<r;i++)i===r-1?this.postProcessPasses_[i].apply(t,null,e,n):this.postProcessPasses_[i].apply(t,this.postProcessPasses_[i+1])}getCanvas(){return this.gl_.canvas}getGL(){return this.gl_}applyFrameState(t){const e=t.size,n=t.viewState.rotation,i=t.pixelRatio;this.setUniformFloatValue(LU,.001*(Date.now()-this.startTime_)),this.setUniformFloatValue(AU,t.viewState.zoom),this.setUniformFloatValue(jU,t.viewState.resolution),this.setUniformFloatValue(zU,i),this.setUniformFloatVec2(DU,[e[0],e[1]]),this.setUniformFloatValue(NU,n)}applyHitDetectionUniform(t){const e=this.getUniformLocation($U);this.getGL().uniform1i(e,t?1:0),t&&this.setUniformFloatValue(zU,.5)}applyUniforms(t){const e=this.gl_;let n,i=0;this.uniforms_.forEach((r=>{if(n="function"==typeof r.value?r.value(t):r.value,n instanceof HTMLCanvasElement||n instanceof HTMLImageElement||n instanceof ImageData||n instanceof WebGLTexture){n instanceof WebGLTexture&&!r.texture?(r.prevValue=void 0,r.texture=n):r.texture||(r.prevValue=void 0,r.texture=e.createTexture()),this.bindTexture(r.texture,i,r.name),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);const t=!(n instanceof HTMLImageElement)||n.complete;n instanceof WebGLTexture||!t||r.prevValue===n||(r.prevValue=n,e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)),i++}else if(Array.isArray(n)&&6===n.length)this.setUniformMatrixValue(r.name,(o=this.tmpMat4_,s=n,o[0]=s[0],o[1]=s[1],o[4]=s[2],o[5]=s[3],o[12]=s[4],o[13]=s[5],o));else if(Array.isArray(n)&&n.length<=4)switch(n.length){case 2:return void e.uniform2f(this.getUniformLocation(r.name),n[0],n[1]);case 3:return void e.uniform3f(this.getUniformLocation(r.name),n[0],n[1],n[2]);case 4:return void e.uniform4f(this.getUniformLocation(r.name),n[0],n[1],n[2],n[3]);default:return}else"number"==typeof n&&e.uniform1f(this.getUniformLocation(r.name),n);var o,s}))}useProgram(t,e){this.gl_.useProgram(t),this.currentProgram_=t,this.applyFrameState(e),this.applyUniforms(e)}compileShader(t,e){const n=this.gl_,i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}getProgram(t,e){const n=this.gl_,i=this.compileShader(t,n.FRAGMENT_SHADER),r=this.compileShader(e,n.VERTEX_SHADER),o=n.createProgram();if(n.attachShader(o,i),n.attachShader(o,r),n.linkProgram(o),!n.getShaderParameter(i,n.COMPILE_STATUS)){const t=`Fragment shader compilation failed: ${n.getShaderInfoLog(i)}`;throw new Error(t)}if(n.deleteShader(i),!n.getShaderParameter(r,n.COMPILE_STATUS)){const t=`Vertex shader compilation failed: ${n.getShaderInfoLog(r)}`;throw new Error(t)}if(n.deleteShader(r),!n.getProgramParameter(o,n.LINK_STATUS)){const t=`GL program linking failed: ${n.getProgramInfoLog(o)}`;throw new Error(t)}return o}getUniformLocation(t){const e=MP(this.currentProgram_);return void 0===this.uniformLocationsByProgram_[e]&&(this.uniformLocationsByProgram_[e]={}),void 0===this.uniformLocationsByProgram_[e][t]&&(this.uniformLocationsByProgram_[e][t]=this.gl_.getUniformLocation(this.currentProgram_,t)),this.uniformLocationsByProgram_[e][t]}getAttributeLocation(t){const e=MP(this.currentProgram_);return void 0===this.attribLocationsByProgram_[e]&&(this.attribLocationsByProgram_[e]={}),void 0===this.attribLocationsByProgram_[e][t]&&(this.attribLocationsByProgram_[e][t]=this.gl_.getAttribLocation(this.currentProgram_,t)),this.attribLocationsByProgram_[e][t]}makeProjectionTransform(t,e){const n=t.size,i=t.viewState.rotation,r=t.viewState.resolution,o=t.viewState.center;return zP(e,0,0,2/(r*n[0]),2/(r*n[1]),-i,-o[0],-o[1]),e}setUniformFloatValue(t,e){this.gl_.uniform1f(this.getUniformLocation(t),e)}setUniformFloatVec2(t,e){this.gl_.uniform2fv(this.getUniformLocation(t),e)}setUniformFloatVec4(t,e){this.gl_.uniform4fv(this.getUniformLocation(t),e)}setUniformMatrixValue(t,e){this.gl_.uniformMatrix4fv(this.getUniformLocation(t),!1,e)}enableAttributeArray_(t,e,n,i,r){const o=this.getAttributeLocation(t);o<0||(this.gl_.enableVertexAttribArray(o),this.gl_.vertexAttribPointer(o,e,n,!1,i,r))}enableAttributes(t){const e=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];e+=i.size*ZU(i.type)}return e}(t);let n=0;for(let i=0;i<t.length;i++){const r=t[i];this.enableAttributeArray_(r.name,r.size,r.type||5126,e,n),n+=r.size*ZU(r.type)}}handleWebGLContextLost(t){sP(this.bufferCache_),this.currentProgram_=null,t.preventDefault()}handleWebGLContextRestored(){this.needsToBeRecreated_=!0}needsToBeRecreated(){return this.needsToBeRecreated_}createTexture(t,e,n){const i=this.gl_;n=n||i.createTexture();const r=i.RGBA,o=i.RGBA,s=i.UNSIGNED_BYTE;return i.bindTexture(i.TEXTURE_2D,n),e?i.texImage2D(i.TEXTURE_2D,0,r,o,s,e):i.texImage2D(i.TEXTURE_2D,0,r,t[0],t[1],0,o,s,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),n}}function ZU(t){switch(t){case BU:return Uint8Array.BYTES_PER_ELEMENT;case WU:return Uint16Array.BYTES_PER_ELEMENT;case GU:return Uint32Array.BYTES_PER_ELEMENT;default:return Float32Array.BYTES_PER_ELEMENT}}class YU extends EN{constructor(t,e){super(t),e=e||{},this.inversePixelTransform_=[1,0,0,1,0,0],this.pixelContext_=null,this.postProcesses_=e.postProcesses,this.uniforms_=e.uniforms,this.helper,t.addChangeListener(vL,this.removeHelper.bind(this)),this.dispatchPreComposeEvent=this.dispatchPreComposeEvent.bind(this),this.dispatchPostComposeEvent=this.dispatchPostComposeEvent.bind(this)}dispatchPreComposeEvent(t,e){const n=this.getLayer();if(n.hasListener(MO)){const i=new CN(MO,void 0,e,t);n.dispatchEvent(i)}}dispatchPostComposeEvent(t,e){const n=this.getLayer();if(n.hasListener(kO)){const i=new CN(kO,void 0,e,t);n.dispatchEvent(i)}}reset(t){this.uniforms_=t.uniforms,this.helper&&this.helper.setUniforms(this.uniforms_)}removeHelper(){this.helper&&(this.helper.dispose(),delete this.helper)}prepareFrame(t){if(this.getLayer().getRenderSource()){let e,n=!0,i=-1;for(let o=0,s=t.layerStatesArray.length;o<s;o++){const r=t.layerStatesArray[o].layer,s=r.getRenderer();if(!(s instanceof YU)){n=!0;continue}const a=r.getClassName();if((n||a!==e)&&(i+=1,n=!1),e=a,s===this)break}const r="map/"+t.mapId+"/group/"+i;this.helper&&this.helper.canvasCacheKeyMatches(r)&&!this.helper.needsToBeRecreated()||(this.removeHelper(),this.helper=new KU({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:r}),e&&(this.helper.getCanvas().className=e),this.afterHelperCreated())}return this.prepareFrameInternal(t)}afterHelperCreated(){}prepareFrameInternal(t){return!0}disposeInternal(){this.removeHelper(),super.disposeInternal()}dispatchRenderEvent_(t,e,n){const i=this.getLayer();if(i.hasListener(t)){zP(this.inversePixelTransform_,0,0,n.pixelRatio,-n.pixelRatio,0,0,-n.size[1]);const r=new CN(t,this.inversePixelTransform_,n,e);i.dispatchEvent(r)}}preRender(t,e){this.dispatchRenderEvent_(EO,t,e)}postRender(t,e){this.dispatchRenderEvent_(CO,t,e)}}const JU=new Uint8Array(4);class QU{constructor(t,e){this.helper_=t;const n=t.getGL();this.texture_=n.createTexture(),this.framebuffer_=n.createFramebuffer(),this.depthbuffer_=n.createRenderbuffer(),this.size_=e||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}setSize(t){tP(t,this.size_)||(this.size_[0]=t[0],this.size_[1]=t[1],this.updateSize_())}getSize(){return this.size_}clearCachedData(){this.dataCacheDirty_=!0}readAll(){if(this.dataCacheDirty_){const t=this.size_,e=this.helper_.getGL();e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer_),e.readPixels(0,0,t[0],t[1],e.RGBA,e.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_}readPixel(t,e){if(t<0||e<0||t>this.size_[0]||e>=this.size_[1])return JU[0]=0,JU[1]=0,JU[2]=0,JU[3]=0,JU;this.readAll();const n=Math.floor(t)+(this.size_[1]-Math.floor(e)-1)*this.size_[0];return JU[0]=this.data_[4*n],JU[1]=this.data_[4*n+1],JU[2]=this.data_[4*n+2],JU[3]=this.data_[4*n+3],JU}getTexture(){return this.texture_}getFramebuffer(){return this.framebuffer_}getDepthbuffer(){return this.depthbuffer_}updateSize_(){const t=this.size_,e=this.helper_.getGL();this.texture_=this.helper_.createTexture(t,null,this.texture_),e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer_),e.viewport(0,0,t[0],t[1]),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture_,0),e.bindRenderbuffer(e.RENDERBUFFER,this.depthbuffer_),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,t[0],t[1]),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this.depthbuffer_),this.data_=new Uint8Array(t[0]*t[1]*4)}}const tH="GENERATE_POINT_BUFFERS";var eH={exports:{}};function nH(t,e,n){n=n||2;var i,r,o,s,a,l,u,c=e&&e.length,h=c?e[0]*n:t.length,d=iH(t,0,h,n,!0),f=[];if(!d||d.next===d.prev)return f;if(c&&(d=function(t,e,n,i){var r,o,s,a=[];for(r=0,o=e.length;r<o;r++)(s=iH(t,e[r]*i,r<o-1?e[r+1]*i:t.length,i,!1))===s.next&&(s.steiner=!0),a.push(pH(s));for(a.sort(cH),r=0;r<a.length;r++)n=hH(a[r],n);return n}(t,e,d,n)),t.length>80*n){i=o=t[0],r=s=t[1];for(var p=n;p<h;p+=n)(a=t[p])<i&&(i=a),(l=t[p+1])<r&&(r=l),a>o&&(o=a),l>s&&(s=l);u=0!==(u=Math.max(o-i,s-r))?32767/u:0}return oH(d,f,n,i,r,u,0),f}function iH(t,e,n,i,r){var o,s;if(r===kH(t,e,n,i)>0)for(o=e;o<n;o+=i)s=EH(o,t[o],t[o+1],s);else for(o=n-i;o>=e;o-=i)s=EH(o,t[o],t[o+1],s);return s&&vH(s,s.next)&&(CH(s),s=s.next),s}function rH(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!vH(i,i.next)&&0!==yH(i.prev,i,i.next))i=i.next;else{if(CH(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function oH(t,e,n,i,r,o,s){if(t){!s&&o&&function(t,e,n,i){var r=t;do{0===r.z&&(r.z=fH(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,i,r,o,s,a,l,u=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,i=n,a=0,e=0;e<u&&(a++,i=i.nextZ);e++);for(l=u;a>0||l>0&&i;)0!==a&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,u*=2}while(s>1)}(r)}(t,i,r,o);for(var a,l,u=t;t.prev!==t.next;)if(a=t.prev,l=t.next,o?aH(t,i,r,o):sH(t))e.push(a.i/n|0),e.push(t.i/n|0),e.push(l.i/n|0),CH(t),t=l.next,u=l.next;else if((t=l)===u){s?1===s?oH(t=lH(rH(t),e,n),e,n,i,r,o,2):2===s&&uH(t,e,n,i,r,o):oH(rH(t),e,n,i,r,o,1);break}}}function sH(t){var e=t.prev,n=t,i=t.next;if(yH(e,n,i)>=0)return!1;for(var r=e.x,o=n.x,s=i.x,a=e.y,l=n.y,u=i.y,c=r<o?r<s?r:s:o<s?o:s,h=a<l?a<u?a:u:l<u?l:u,d=r>o?r>s?r:s:o>s?o:s,f=a>l?a>u?a:u:l>u?l:u,p=i.next;p!==e;){if(p.x>=c&&p.x<=d&&p.y>=h&&p.y<=f&&gH(r,a,o,l,s,u,p.x,p.y)&&yH(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function aH(t,e,n,i){var r=t.prev,o=t,s=t.next;if(yH(r,o,s)>=0)return!1;for(var a=r.x,l=o.x,u=s.x,c=r.y,h=o.y,d=s.y,f=a<l?a<u?a:u:l<u?l:u,p=c<h?c<d?c:d:h<d?h:d,g=a>l?a>u?a:u:l>u?l:u,m=c>h?c>d?c:d:h>d?h:d,y=fH(f,p,e,n,i),v=fH(g,m,e,n,i),_=t.prevZ,x=t.nextZ;_&&_.z>=y&&x&&x.z<=v;){if(_.x>=f&&_.x<=g&&_.y>=p&&_.y<=m&&_!==r&&_!==s&&gH(a,c,l,h,u,d,_.x,_.y)&&yH(_.prev,_,_.next)>=0)return!1;if(_=_.prevZ,x.x>=f&&x.x<=g&&x.y>=p&&x.y<=m&&x!==r&&x!==s&&gH(a,c,l,h,u,d,x.x,x.y)&&yH(x.prev,x,x.next)>=0)return!1;x=x.nextZ}for(;_&&_.z>=y;){if(_.x>=f&&_.x<=g&&_.y>=p&&_.y<=m&&_!==r&&_!==s&&gH(a,c,l,h,u,d,_.x,_.y)&&yH(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;x&&x.z<=v;){if(x.x>=f&&x.x<=g&&x.y>=p&&x.y<=m&&x!==r&&x!==s&&gH(a,c,l,h,u,d,x.x,x.y)&&yH(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function lH(t,e,n){var i=t;do{var r=i.prev,o=i.next.next;!vH(r,o)&&_H(r,i,i.next,o)&&wH(r,o)&&wH(o,r)&&(e.push(r.i/n|0),e.push(i.i/n|0),e.push(o.i/n|0),CH(i),CH(i.next),i=t=o),i=i.next}while(i!==t);return rH(i)}function uH(t,e,n,i,r,o){var s=t;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&mH(s,a)){var l=SH(s,a);return s=rH(s,s.next),l=rH(l,l.next),oH(s,e,n,i,r,o,0),void oH(l,e,n,i,r,o,0)}a=a.next}s=s.next}while(s!==t)}function cH(t,e){return t.x-e.x}function hH(t,e){var n=function(t,e){var n,i=e,r=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=r&&a>s&&(s=a,n=i.x<i.next.x?i:i.next,a===r))return n}i=i.next}while(i!==e);if(!n)return null;var l,u=n,c=n.x,h=n.y,d=1/0;i=n;do{r>=i.x&&i.x>=c&&r!==i.x&&gH(o<h?r:s,o,c,h,o<h?s:r,o,i.x,i.y)&&(l=Math.abs(o-i.y)/(r-i.x),wH(i,t)&&(l<d||l===d&&(i.x>n.x||i.x===n.x&&dH(n,i)))&&(n=i,d=l)),i=i.next}while(i!==u);return n}(t,e);if(!n)return e;var i=SH(n,t);return rH(i,i.next),rH(n,n.next)}function dH(t,e){return yH(t.prev,t,e.prev)<0&&yH(e.next,t,t.next)<0}function fH(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-i)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function pH(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function gH(t,e,n,i,r,o,s,a){return(r-s)*(e-a)>=(t-s)*(o-a)&&(t-s)*(i-a)>=(n-s)*(e-a)&&(n-s)*(o-a)>=(r-s)*(i-a)}function mH(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&_H(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(wH(t,e)&&wH(e,t)&&function(t,e){var n=t,i=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)&&(yH(t.prev,t,e.prev)||yH(t,e.prev,e))||vH(t,e)&&yH(t.prev,t,t.next)>0&&yH(e.prev,e,e.next)>0)}function yH(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function vH(t,e){return t.x===e.x&&t.y===e.y}function _H(t,e,n,i){var r=bH(yH(t,e,n)),o=bH(yH(t,e,i)),s=bH(yH(n,i,t)),a=bH(yH(n,i,e));return r!==o&&s!==a||!(0!==r||!xH(t,n,e))||!(0!==o||!xH(t,i,e))||!(0!==s||!xH(n,t,i))||!(0!==a||!xH(n,e,i))}function xH(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function bH(t){return t>0?1:t<0?-1:0}function wH(t,e){return yH(t.prev,t,t.next)<0?yH(t,e,t.next)>=0&&yH(t,t.prev,e)>=0:yH(t,e,t.prev)<0||yH(t,t.next,e)<0}function SH(t,e){var n=new MH(t.i,t.x,t.y),i=new MH(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function EH(t,e,n,i){var r=new MH(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function CH(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function MH(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function kH(t,e,n,i){for(var r=0,o=e,s=n-i;o<n;o+=i)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}function TH(t,e){const n=256,i=255;return(e=e||[])[0]=Math.floor(t/n/n/n)/i,e[1]=Math.floor(t/n/n)%n/i,e[2]=Math.floor(t/n)%n/i,e[3]=t%n/i,e}eH.exports=nH,eH.exports.default=nH,nH.deviation=function(t,e,n,i){var r=e&&e.length,o=r?e[0]*n:t.length,s=Math.abs(kH(t,0,o,n));if(r)for(var a=0,l=e.length;a<l;a++){var u=e[a]*n,c=a<l-1?e[a+1]*n:t.length;s-=Math.abs(kH(t,u,c,n))}var h=0;for(a=0;a<i.length;a+=3){var d=i[a]*n,f=i[a+1]*n,p=i[a+2]*n;h+=Math.abs((t[d]-t[p])*(t[f+1]-t[d+1])-(t[d]-t[f])*(t[p+1]-t[d+1]))}return 0===s&&0===h?0:Math.abs((h-s)/s)},nH.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[r][o][s]);r>0&&(i+=t[r-1].length,n.holes.push(i))}return n};class PH extends YU{constructor(t,e){const n=e.uniforms||{},i=[1,0,0,1,0,0];n[FU]=i,super(t,{uniforms:n,postProcesses:e.postProcesses}),this.sourceRevision_=-1,this.verticesBuffer_=new TU(SU,CU),this.indicesBuffer_=new TU(EU,CU),this.vertexShader_=e.vertexShader,this.fragmentShader_=e.fragmentShader,this.program_,this.hitDetectionEnabled_=e.hitDetectionEnabled??!0;const r=e.attributes?e.attributes.map((function(t){return{name:"a_prop_"+t.name,size:1,type:UU}})):[];this.attributes=[{name:"a_position",size:2,type:UU},{name:"a_index",size:1,type:UU}],this.hitDetectionEnabled_&&(this.attributes.push({name:"a_prop_hitColor",size:4,type:UU}),this.attributes.push({name:"a_featureUid",size:1,type:UU})),this.attributes.push(...r),this.customAttributes=e.attributes?e.attributes:[],this.previousExtent_=[1/0,1/0,-1/0,-1/0],this.currentTransform_=i,this.renderTransform_=[1,0,0,1,0,0],this.invertRenderTransform_=[1,0,0,1,0,0],this.renderInstructions_=new Float32Array(0),this.hitRenderTarget_,this.lastSentId=0,this.worker_=function(){const t='const e="GENERATE_POLYGON_BUFFERS",t="GENERATE_POINT_BUFFERS",n="GENERATE_LINE_STRING_BUFFERS";function r(e,t){const n=t[0],r=t[1];return t[0]=e[0]*n+e[2]*r+e[4],t[1]=e[1]*n+e[3]*r+e[5],t}function x(e,t){const n=(r=t)[0]*r[3]-r[1]*r[2];var r;!function(e,t){if(!e)throw new Error(t)}(0!==n,"Transformation matrix cannot be inverted");const x=t[0],i=t[1],u=t[2],o=t[3],f=t[4],s=t[5];return e[0]=o/n,e[1]=-i/n,e[2]=-u/n,e[3]=x/n,e[4]=(u*s-o*f)/n,e[5]=-(x*s-i*f)/n,e}function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}new Array(6);var u={exports:{}};function o(e,t,n){n=n||2;var r,x,i,u,o,s,l,v=t&&t.length,h=v?t[0]*n:e.length,c=f(e,0,h,n,!0),g=[];if(!c||c.next===c.prev)return g;if(v&&(c=function(e,t,n,r){var x,i,u,o=[];for(x=0,i=t.length;x<i;x++)(u=f(e,t[x]*r,x<i-1?t[x+1]*r:e.length,r,!1))===u.next&&(u.steiner=!0),o.push(d(u));for(o.sort(p),x=0;x<o.length;x++)n=y(o[x],n);return n}(e,t,c,n)),e.length>80*n){r=i=e[0],x=u=e[1];for(var b=n;b<h;b+=n)(o=e[b])<r&&(r=o),(s=e[b+1])<x&&(x=s),o>i&&(i=o),s>u&&(u=s);l=0!==(l=Math.max(i-r,u-x))?32767/l:0}return a(c,g,n,r,x,l,0),g}function f(e,t,n,r,x){var i,u;if(x===O(e,t,n,r)>0)for(i=t;i<n;i+=r)u=P(i,e[i],e[i+1],u);else for(i=n-r;i>=t;i-=r)u=P(i,e[i],e[i+1],u);return u&&m(u,u.next)&&(B(u),u=u.next),u}function s(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!m(r,r.next)&&0!==w(r.prev,r,r.next))r=r.next;else{if(B(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function a(e,t,n,r,x,i,u){if(e){!u&&i&&function(e,t,n,r){var x=e;do{0===x.z&&(x.z=b(x.x,x.y,t,n,r)),x.prevZ=x.prev,x.nextZ=x.next,x=x.next}while(x!==e);x.prevZ.nextZ=null,x.prevZ=null,function(e){var t,n,r,x,i,u,o,f,s=1;do{for(n=e,e=null,i=null,u=0;n;){for(u++,r=n,o=0,t=0;t<s&&(o++,r=r.nextZ);t++);for(f=s;o>0||f>0&&r;)0!==o&&(0===f||!r||n.z<=r.z)?(x=n,n=n.nextZ,o--):(x=r,r=r.nextZ,f--),i?i.nextZ=x:e=x,x.prevZ=i,i=x;n=r}i.nextZ=null,s*=2}while(u>1)}(x)}(e,r,x,i);for(var o,f,p=e;e.prev!==e.next;)if(o=e.prev,f=e.next,i?v(e,r,x,i):l(e))t.push(o.i/n|0),t.push(e.i/n|0),t.push(f.i/n|0),B(e),e=f.next,p=f.next;else if((e=f)===p){u?1===u?a(e=h(s(e),t,n),t,n,r,x,i,2):2===u&&c(e,t,n,r,x,i):a(s(e),t,n,r,x,i,1);break}}}function l(e){var t=e.prev,n=e,r=e.next;if(w(t,n,r)>=0)return!1;for(var x=t.x,i=n.x,u=r.x,o=t.y,f=n.y,s=r.y,a=x<i?x<u?x:u:i<u?i:u,l=o<f?o<s?o:s:f<s?f:s,v=x>i?x>u?x:u:i>u?i:u,h=o>f?o>s?o:s:f>s?f:s,c=r.next;c!==t;){if(c.x>=a&&c.x<=v&&c.y>=l&&c.y<=h&&M(x,o,i,f,u,s,c.x,c.y)&&w(c.prev,c,c.next)>=0)return!1;c=c.next}return!0}function v(e,t,n,r){var x=e.prev,i=e,u=e.next;if(w(x,i,u)>=0)return!1;for(var o=x.x,f=i.x,s=u.x,a=x.y,l=i.y,v=u.y,h=o<f?o<s?o:s:f<s?f:s,c=a<l?a<v?a:v:l<v?l:v,p=o>f?o>s?o:s:f>s?f:s,y=a>l?a>v?a:v:l>v?l:v,g=b(h,c,t,n,r),d=b(p,y,t,n,r),Z=e.prevZ,m=e.nextZ;Z&&Z.z>=g&&m&&m.z<=d;){if(Z.x>=h&&Z.x<=p&&Z.y>=c&&Z.y<=y&&Z!==x&&Z!==u&&M(o,a,f,l,s,v,Z.x,Z.y)&&w(Z.prev,Z,Z.next)>=0)return!1;if(Z=Z.prevZ,m.x>=h&&m.x<=p&&m.y>=c&&m.y<=y&&m!==x&&m!==u&&M(o,a,f,l,s,v,m.x,m.y)&&w(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;Z&&Z.z>=g;){if(Z.x>=h&&Z.x<=p&&Z.y>=c&&Z.y<=y&&Z!==x&&Z!==u&&M(o,a,f,l,s,v,Z.x,Z.y)&&w(Z.prev,Z,Z.next)>=0)return!1;Z=Z.prevZ}for(;m&&m.z<=d;){if(m.x>=h&&m.x<=p&&m.y>=c&&m.y<=y&&m!==x&&m!==u&&M(o,a,f,l,s,v,m.x,m.y)&&w(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function h(e,t,n){var r=e;do{var x=r.prev,i=r.next.next;!m(x,i)&&A(x,r,r.next,i)&&z(x,i)&&z(i,x)&&(t.push(x.i/n|0),t.push(r.i/n|0),t.push(i.i/n|0),B(r),B(r.next),r=e=i),r=r.next}while(r!==e);return s(r)}function c(e,t,n,r,x,i){var u=e;do{for(var o=u.next.next;o!==u.prev;){if(u.i!==o.i&&Z(u,o)){var f=F(u,o);return u=s(u,u.next),f=s(f,f.next),a(u,t,n,r,x,i,0),void a(f,t,n,r,x,i,0)}o=o.next}u=u.next}while(u!==e)}function p(e,t){return e.x-t.x}function y(e,t){var n=function(e,t){var n,r=t,x=e.x,i=e.y,u=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var o=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(o<=x&&o>u&&(u=o,n=r.x<r.next.x?r:r.next,o===x))return n}r=r.next}while(r!==t);if(!n)return null;var f,s=n,a=n.x,l=n.y,v=1/0;r=n;do{x>=r.x&&r.x>=a&&x!==r.x&&M(i<l?x:u,i,a,l,i<l?u:x,i,r.x,r.y)&&(f=Math.abs(i-r.y)/(x-r.x),z(r,e)&&(f<v||f===v&&(r.x>n.x||r.x===n.x&&g(n,r)))&&(n=r,v=f)),r=r.next}while(r!==s);return n}(e,t);if(!n)return t;var r=F(n,e);return s(r,r.next),s(n,n.next)}function g(e,t){return w(e.prev,e,t.prev)<0&&w(t.next,e,e.next)<0}function b(e,t,n,r,x){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*x|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*x|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function d(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function M(e,t,n,r,x,i,u,o){return(x-u)*(t-o)>=(e-u)*(i-o)&&(e-u)*(r-o)>=(n-u)*(t-o)&&(n-u)*(i-o)>=(x-u)*(r-o)}function Z(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&A(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(z(e,t)&&z(t,e)&&function(e,t){var n=e,r=!1,x=(e.x+t.x)/2,i=(e.y+t.y)/2;do{n.y>i!=n.next.y>i&&n.next.y!==n.y&&x<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(w(e.prev,e,t.prev)||w(e,t.prev,t))||m(e,t)&&w(e.prev,e,e.next)>0&&w(t.prev,t,t.next)>0)}function w(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function m(e,t){return e.x===t.x&&e.y===t.y}function A(e,t,n,r){var x=I(w(e,t,n)),i=I(w(e,t,r)),u=I(w(n,r,e)),o=I(w(n,r,t));return x!==i&&u!==o||(!(0!==x||!E(e,n,t))||(!(0!==i||!E(e,r,t))||(!(0!==u||!E(n,e,r))||!(0!==o||!E(n,t,r)))))}function E(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function I(e){return e>0?1:e<0?-1:0}function z(e,t){return w(e.prev,e,e.next)<0?w(e,t,e.next)>=0&&w(e,e.prev,t)>=0:w(e,t,e.prev)<0||w(e,e.next,t)<0}function F(e,t){var n=new _(e.i,e.x,e.y),r=new _(t.i,t.x,t.y),x=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=x,x.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function P(e,t,n,r){var x=new _(e,t,n);return r?(x.next=r.next,x.prev=r,r.next.prev=x,r.next=x):(x.prev=x,x.next=x),x}function B(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function _(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(e,t,n,r){for(var x=0,i=t,u=n-r;i<n;i+=r)x+=(e[u]-e[i])*(e[i+1]+e[u+1]),u=i;return x}u.exports=o,u.exports.default=o,o.deviation=function(e,t,n,r){var x=t&&t.length,i=x?t[0]*n:e.length,u=Math.abs(O(e,0,i,n));if(x)for(var o=0,f=t.length;o<f;o++){var s=t[o]*n,a=o<f-1?t[o+1]*n:e.length;u-=Math.abs(O(e,s,a,n))}var l=0;for(o=0;o<r.length;o+=3){var v=r[o]*n,h=r[o+1]*n,c=r[o+2]*n;l+=Math.abs((e[v]-e[c])*(e[h+1]-e[v+1])-(e[v]-e[h])*(e[c+1]-e[v+1]))}return 0===u&&0===l?0:Math.abs((l-u)/u)},o.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,x=0;x<e.length;x++){for(var i=0;i<e[x].length;i++)for(var u=0;u<t;u++)n.vertices.push(e[x][i][u]);x>0&&(r+=e[x-1].length,n.holes.push(r))}return n};var N=i(u.exports);const R=[],S={vertexPosition:0,indexPosition:0};function T(e,t,n,r,x){e[t+0]=n,e[t+1]=r,e[t+2]=x}function U(e,t,n,r,x,i){const u=3+x,o=e[t+0],f=e[t+1],s=R;s.length=x;for(let n=0;n<s.length;n++)s[n]=e[t+2+n];let a=i?i.vertexPosition:0,l=i?i.indexPosition:0;const v=a/u;return T(n,a,o,f,0),s.length&&n.set(s,a+3),a+=u,T(n,a,o,f,1),s.length&&n.set(s,a+3),a+=u,T(n,a,o,f,2),s.length&&n.set(s,a+3),a+=u,T(n,a,o,f,3),s.length&&n.set(s,a+3),a+=u,r[l++]=v,r[l++]=v+1,r[l++]=v+3,r[l++]=v+1,r[l++]=v+2,r[l++]=v+3,S.vertexPosition=a,S.indexPosition=l,S}function k(e,t,n,x,i,u,o,f,s,a,l){const v=8+f.length,h=u.length/v,c=[e[t+0],e[t+1]],p=[e[n],e[n+1]],y=r(s,[...c]),g=r(s,[...p]);function b(e,t,n){const r=Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),x=[(t[0]-e[0])/r,(t[1]-e[1])/r],i=[-x[1],x[0]],u=Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])),o=[(n[0]-e[0])/u,(n[1]-e[1])/u],f=0===r||0===u?0:Math.acos((s=o[0]*x[0]+o[1]*x[1],a=-1,l=1,Math.min(Math.max(s,a),l)));var s,a,l;return o[0]*i[0]+o[1]*i[1]>0?f:2*Math.PI-f}let d=-1,M=-1,Z=l;const w=null!==i;if(null!==x){d=b(y,g,r(s,[...[e[x],e[x+1]]])),Math.cos(d)<=.985&&(Z+=Math.tan((d-Math.PI)/2))}if(w){M=b(g,y,r(s,[...[e[i],e[i+1]]])),Math.cos(M)<=.985&&(Z+=Math.tan((Math.PI-M)/2))}function m(e,t){return 0===t?1e4*e:Math.sign(t)*(1e4*e+Math.abs(t))}return u.push(c[0],c[1],p[0],p[1],d,M,a,m(0,l)),u.push(...f),u.push(c[0],c[1],p[0],p[1],d,M,a,m(1,l)),u.push(...f),u.push(c[0],c[1],p[0],p[1],d,M,a,m(2,l)),u.push(...f),u.push(c[0],c[1],p[0],p[1],d,M,a,m(3,l)),u.push(...f),o.push(h,h+1,h+2,h+1,h+3,h+2),{length:a+Math.sqrt((g[0]-y[0])*(g[0]-y[0])+(g[1]-y[1])*(g[1]-y[1])),angle:Z}}function G(e,t,n,r,x){const i=2+x;let u=t;const o=e.slice(u,u+x);u+=x;const f=e[u++];let s=0;const a=new Array(f-1);for(let t=0;t<f;t++)s+=e[u++],t<f-1&&(a[t]=s);const l=e.slice(u,u+2*s),v=N(l,a,2);for(let e=0;e<v.length;e++)r.push(v[e]+n.length/i);for(let e=0;e<l.length;e+=2)n.push(l[e],l[e+1],...o);return u+2*s}const j=self;j.onmessage=r=>{const i=r.data;switch(i.type){case t:{const e=3,t=2,n=i.customAttributesSize,r=t+n,x=new Float32Array(i.renderInstructions),u=x.length/r,o=4*u*(n+e),f=new Uint32Array(6*u),s=new Float32Array(o);let a;for(let e=0;e<x.length;e+=r)a=U(x,e,s,f,n,a);const l=Object.assign({vertexBuffer:s.buffer,indexBuffer:f.buffer,renderInstructions:x.buffer},i);j.postMessage(l,[s.buffer,f.buffer,x.buffer]);break}case n:{const e=[],t=[],n=i.customAttributesSize,r=2,u=new Float32Array(i.renderInstructions);let o=0;const f=[1,0,0,1,0,0];let s,a;for(x(f,i.renderInstructionsTransform);o<u.length;){a=Array.from(u.slice(o,o+n)),o+=n,s=u[o++];const x=o,i=o+(s-1)*r,l=u[x]===u[i]&&u[x+1]===u[i+1];let v=0,h=0;for(let n=0;n<s-1;n++){let c=null;n>0?c=o+(n-1)*r:l&&(c=i-r);let p=null;n<s-2?p=o+(n+2)*r:l&&(p=x+r);const y=k(u,o+n*r,o+(n+1)*r,c,p,e,t,a,f,v,h);v=y.length,h=y.angle}o+=s*r}const l=Uint32Array.from(t),v=Float32Array.from(e),h=Object.assign({vertexBuffer:v.buffer,indexBuffer:l.buffer,renderInstructions:u.buffer},i);j.postMessage(h,[v.buffer,l.buffer,u.buffer]);break}case e:{const e=[],t=[],n=i.customAttributesSize,r=new Float32Array(i.renderInstructions);let x=0;for(;x<r.length;)x=G(r,x,e,t,n);const u=Uint32Array.from(t),o=Float32Array.from(e),f=Object.assign({vertexBuffer:o.buffer,indexBuffer:u.buffer,renderInstructions:r.buffer},i);j.postMessage(f,[o.buffer,u.buffer,r.buffer]);break}}};';return new Worker("undefined"==typeof Blob?"data:application/javascript;base64,"+Buffer.from(t,"binary").toString("base64"):URL.createObjectURL(new Blob([t],{type:"application/javascript"})))}(),this.worker_.addEventListener("message",(t=>{const e=t.data;if(e.type===tH){const n=e.projectionTransform;this.verticesBuffer_.fromArrayBuffer(e.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_),this.indicesBuffer_.fromArrayBuffer(e.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=n,$P(this.invertRenderTransform_,this.renderTransform_),this.renderInstructions_=new Float32Array(t.data.renderInstructions),e.id===this.lastSentId&&(this.ready=!0),this.getLayer().changed()}})),this.featureCache_={},this.featureCount_=0;const o=this.getLayer().getSource();this.sourceListenKeys_=[_P(o,fD,this.handleSourceFeatureAdded_,this),_P(o,pD,this.handleSourceFeatureChanged_,this),_P(o,mD,this.handleSourceFeatureDelete_,this),_P(o,gD,this.handleSourceFeatureClear_,this)],o.forEachFeature((t=>{this.featureCache_[MP(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()},this.featureCount_++}))}afterHelperCreated(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.hitDetectionEnabled_&&(this.hitRenderTarget_=new QU(this.helper))}handleSourceFeatureAdded_(t){const e=t.feature;this.featureCache_[MP(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()},this.featureCount_++}handleSourceFeatureChanged_(t){const e=t.feature;this.featureCache_[MP(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()}}handleSourceFeatureDelete_(t){const e=t.feature;delete this.featureCache_[MP(e)],this.featureCount_--}handleSourceFeatureClear_(){this.featureCache_={},this.featureCount_=0}renderFrame(t){const e=this.helper.getGL();this.preRender(e,t);const[n,i,r]=function(t,e){const n=t.viewState.projection,i=e.getSource().getWrapX()&&n.canWrapX(),r=n.getExtent(),o=t.extent,s=i?SR(r):null,a=i?Math.ceil((o[2]-r[2])/s)+1:1;return[i?Math.floor((o[0]-r[0])/s):0,a,s]}(t,this.getLayer());return this.renderWorlds(t,!1,n,i,r),this.helper.finalizeDraw(t,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent),this.hitDetectionEnabled_&&(this.renderWorlds(t,!0,n,i,r),this.hitRenderTarget_.clearCachedData()),this.postRender(e,t),this.helper.getCanvas()}prepareFrameInternal(t){const e=this.getLayer(),n=e.getSource(),i=t.viewState,r=!t.viewHints[xL]&&!t.viewHints[bL],o=!sR(this.previousExtent_,t.extent),s=this.sourceRevision_<n.getRevision();if(s&&(this.sourceRevision_=n.getRevision()),r&&(o||s)){const r=i.projection,o=i.resolution,s=e instanceof Jj?e.getRenderBuffer():0,a=KP(t.extent,s*o);n.loadFeatures(a,o,r),this.rebuildBuffers_(t),this.previousExtent_=t.extent.slice()}return this.helper.useProgram(this.program_,t),this.helper.prepareDraw(t),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0}rebuildBuffers_(t){const e=[1,0,0,1,0,0];this.helper.makeProjectionTransform(t,e);const n=(this.hitDetectionEnabled_?7:2)+this.customAttributes.length,i=n*this.featureCount_;let r,o;this.renderInstructions_&&this.renderInstructions_.length===i||(this.renderInstructions_=new Float32Array(i));const s=[],a=[];let l=-1;for(const c in this.featureCache_)if(r=this.featureCache_[c],o=r.geometry,o&&"Point"===o.getType()){if(s[0]=o.getFlatCoordinates()[0],s[1]=o.getFlatCoordinates()[1],DP(e,s),this.renderInstructions_[++l]=s[0],this.renderInstructions_[++l]=s[1],this.hitDetectionEnabled_){const t=TH(l+5,a);this.renderInstructions_[++l]=t[0],this.renderInstructions_[++l]=t[1],this.renderInstructions_[++l]=t[2],this.renderInstructions_[++l]=t[3],this.renderInstructions_[++l]=Number(c)}for(let t=0;t<this.customAttributes.length;t++){const e=this.customAttributes[t].callback(r.feature,r.properties);this.renderInstructions_[++l]=e}}const u={id:++this.lastSentId,type:tH,renderInstructions:this.renderInstructions_.buffer,customAttributesSize:n-2};u.projectionTransform=e,this.ready=!1,this.worker_.postMessage(u,[this.renderInstructions_.buffer]),this.renderInstructions_=null}forEachFeatureAtCoordinate(t,e,n,i,r){if(LP(this.hitDetectionEnabled_,"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has been disabled using the `disableHitDetection: true` option."),!this.renderInstructions_||!this.hitDetectionEnabled_)return;const o=DP(e.coordinateToPixelTransform,t.slice()),s=this.hitRenderTarget_.readPixel(o[0]/2,o[1]/2),a=function(t){let e=0;const n=256,i=255;return e+=Math.round(t[0]*n*n*n*i),e+=Math.round(t[1]*n*n*i),e+=Math.round(t[2]*n*i),e+=Math.round(t[3]*i),e}([s[0]/255,s[1]/255,s[2]/255,s[3]/255]),l=this.renderInstructions_[a],u=Math.floor(l).toString(),c=this.getLayer().getSource().getFeatureByUid(u);return c?i(c,this.getLayer(),null):void 0}renderWorlds(t,e,n,i,r){let o=n;this.helper.useProgram(this.program_,t),e&&(this.hitRenderTarget_.setSize([Math.floor(t.size[0]/2),Math.floor(t.size[1]/2)]),this.helper.prepareDrawToRenderTarget(t,this.hitRenderTarget_,!0)),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes);do{this.helper.makeProjectionTransform(t,this.currentTransform_),NP(this.currentTransform_,function(t,e,n,i,r,o,s){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=s,t}(jP,1,0,0,1,o*r,0)),NP(this.currentTransform_,this.invertRenderTransform_),this.helper.applyUniforms(t),this.helper.applyHitDetectionUniform(e);const n=this.indicesBuffer_.getSize();this.helper.drawElements(0,n)}while(++o<i)}disposeInternal(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach((function(t){bP(t)})),this.sourceListenKeys_=null,super.disposeInternal()}renderDeclutter(){}}class RH{constructor(t,e){this.name=t,this.data=e,this.texture_=null}getTexture(t){if(!this.texture_){const e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.data.length/4,1,0,t.RGBA,t.UNSIGNED_BYTE,this.data),this.texture_=e}return this.texture_}delete(t){this.texture_&&t.deleteTexture(this.texture_),this.texture_=null}}const IH={TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",RENDER_EXTENT:"u_renderExtent",PATTERN_ORIGIN:"u_patternOrigin",RESOLUTION:"u_resolution",ZOOM:"u_zoom",GLOBAL_ALPHA:"u_globalAlpha",PROJECTION_MATRIX:"u_projectionMatrix",SCREEN_TO_WORLD_MATRIX:"u_screenToWorldMatrix",TILE_TEXTURE_ARRAY:"u_tileTextures",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",TEXTURE_RESOLUTION:"u_textureResolution",TEXTURE_ORIGIN_X:"u_textureOriginX",TEXTURE_ORIGIN_Y:"u_textureOriginY"};function OH(t){const e=t.toString();return e.includes(".")?e:e+".0"}function FH(t){if(t.length<2||t.length>4)throw new Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return`vec${t.length}(${t.map(OH).join(", ")})`}function LH(t){const e=qO(t),n=e.length>3?e[3]:1;return FH([e[0]/255*n,e[1]/255*n,e[2]/255*n,n])}const AH={};let jH=0;function NH(t){return t in AH||(AH[t]=jH++),AH[t]}function DH(t){return OH(NH(t))}function zH(t){return"u_var_"+t}const $H="getBandValue";function BH(t){return(e,n,i)=>{const r=n.args.length,o=new Array(r);for(let t=0;t<r;++t)o[t]=GH(n.args[t],i,e);return t(o,e)}}const WH={[CA]:(t,e)=>{const n=e.args[0].value;return n in t.properties||(t.properties[n]={name:n,type:e.type}),(t.inFragmentShader?"v_prop_":"a_prop_")+n},[TA]:(t,e,n)=>{const i="geometryType";return i in t.properties||(t.properties[i]={name:i,type:hA,evaluator:t=>Sj(t.getGeometry())}),(t.inFragmentShader?"v_prop_":"a_prop_")+i},[MA]:(t,e)=>{const n=e.args[0].value;return n in t.variables||(t.variables[n]={name:n,type:e.type}),zH(n)},[OA]:()=>"u_resolution",[FA]:()=>"u_zoom",[LA]:()=>"u_time",[PA]:BH((t=>`(${t.join(" || ")})`)),[RA]:BH((t=>`(${t.join(" && ")})`)),[IA]:BH((([t])=>`(!${t})`)),[AA]:BH((([t,e])=>`(${t} == ${e})`)),[jA]:BH((([t,e])=>`(${t} != ${e})`)),[NA]:BH((([t,e])=>`(${t} > ${e})`)),[DA]:BH((([t,e])=>`(${t} >= ${e})`)),[zA]:BH((([t,e])=>`(${t} < ${e})`)),[$A]:BH((([t,e])=>`(${t} <= ${e})`)),[BA]:BH((t=>`(${t.join(" * ")})`)),[WA]:BH((([t,e])=>`(${t} / ${e})`)),[GA]:BH((t=>`(${t.join(" + ")})`)),[UA]:BH((([t,e])=>`(${t} - ${e})`)),[HA]:BH((([t,e,n])=>`clamp(${t}, ${e}, ${n})`)),[VA]:BH((([t,e])=>`mod(${t}, ${e})`)),[qA]:BH((([t,e])=>`pow(${t}, ${e})`)),[XA]:BH((([t])=>`abs(${t})`)),[KA]:BH((([t])=>`floor(${t})`)),[ZA]:BH((([t])=>`ceil(${t})`)),[YA]:BH((([t])=>`floor(${t} + 0.5)`)),[JA]:BH((([t])=>`sin(${t})`)),[QA]:BH((([t])=>`cos(${t})`)),[tj]:BH((([t,e])=>void 0!==e?`atan(${t}, ${e})`:`atan(${t})`)),[ej]:BH((([t])=>`sqrt(${t})`)),[nj]:BH((t=>{const e=t[0],n=t[t.length-1];let i=null;for(let r=t.length-3;r>=1;r-=2)i=`(${e} == ${t[r]} ? ${t[r+1]} : ${i||n})`;return i})),[ij]:BH((([t,e,n])=>`(${t} >= ${e} && ${t} <= ${n})`)),[rj]:BH((([t,e,...n])=>{let i="";for(let r=0;r<n.length-2;r+=2){const o=n[r],s=i||n[r+1],a=n[r+2],l=n[r+3];let u;u=t===OH(1)?`(${e} - ${o}) / (${a} - ${o})`:`(pow(${t}, (${e} - ${o})) - 1.0) / (pow(${t}, (${a} - ${o})) - 1.0)`,i=`mix(${s}, ${l}, clamp(${u}, 0.0, 1.0))`}return i})),[sj]:BH((t=>{const e=t[t.length-1];let n=null;for(let i=t.length-3;i>=0;i-=2)n=`(${t[i]} ? ${t[i+1]} : ${n||e})`;return n})),[aj]:BH((([t,...e],n)=>{const i=function(t,e){return`operator_${t}_${Object.keys(e.functions).length}`}("in",n),r=[];for(let o=0;o<e.length;o+=1)r.push(`  if (inputValue == ${e[o]}) { return true; }`);return n.functions[i]=`bool ${i}(float inputValue) {\n${r.join("\n")}\n  return false;\n}`,`${i}(${t})`})),[cj]:BH((t=>`vec${t.length}(${t.join(", ")})`)),[hj]:BH((t=>{if(1===t.length)return`vec4(vec3(${t[0]} / 255.0), 1.0)`;if(2===t.length)return`(${t[1]} * vec4(vec3(${t[0]} / 255.0), 1.0))`;const e=t.slice(0,3).map((t=>`${t} / 255.0`));return 3===t.length?`vec4(${e.join(", ")}, 1.0)`:`(${t[3]} * vec4(${e.join(", ")}, 1.0))`})),[fj]:BH((([t,e,n],i)=>{if(!($H in i.functions)){let t="";const e=i.bandCount||1;for(let n=0;n<e;n++){const i=Math.floor(n/4);let r=n%4;n===e-1&&1===r&&(r=3),t+=`  if (band == ${n+1}.0) {\n    return texture2D(${IH.TILE_TEXTURE_ARRAY}[${i}], v_textureCoord + vec2(dx, dy))[${r}];\n  }\n`}i.functions[$H]=`float getBandValue(float band, float xOffset, float yOffset) {\n  float dx = xOffset / ${IH.TEXTURE_PIXEL_WIDTH};\n  float dy = yOffset / ${IH.TEXTURE_PIXEL_HEIGHT};\n${t}\n}`}return`${$H}(${t}, ${e??"0.0"}, ${n??"0.0"})`})),[pj]:(t,e)=>{const[n,...i]=e.args,r=i.length,o=new Uint8Array(4*r);for(let l=0;l<i.length;l++){const t=qO(i[l].value),e=4*l;o[e]=t[0],o[e+1]=t[1],o[e+2]=t[2],o[e+3]=255*t[3]}t.paletteTextures||(t.paletteTextures=[]);const s=`u_paletteTextures[${t.paletteTextures.length}]`,a=new RH(s,o);return t.paletteTextures.push(a),`texture2D(${s}, vec2((${GH(n,cA,t)} + 0.5) / ${r}.0, 0.5))`}};function GH(t,e,n){if(t instanceof wA){const i=WH[t.operator];if(void 0===i)throw new Error(`No compiler defined for this operator: ${JSON.stringify(t.operator)}`);return i(n,t,e)}if((t.type&cA)>0)return OH(t.value);if((t.type&uA)>0)return t.value.toString();if((t.type&hA)>0)return DH(t.value.toString());if((t.type&dA)>0)return LH(t.value);if((t.type&fA)>0)return FH(t.value);if((t.type&pA)>0)return FH(kF(t.value));throw new Error(`Unexpected expression ${t.value} (expected type ${vA(e)})`)}const UH="#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_screenToWorldMatrix;\nuniform vec2 u_viewportSizePx;\nuniform float u_pixelRatio;\nuniform float u_globalAlpha;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\nuniform float u_rotation;\nuniform vec4 u_renderExtent;\nuniform vec2 u_patternOrigin;\nuniform float u_depth;\nuniform mediump int u_hitDetection;\n\nconst float PI = 3.141592653589793238;\nconst float TWO_PI = 2.0 * PI;\n\n// this used to produce an alpha-premultiplied color from a texture\nvec4 samplePremultiplied(sampler2D sampler, vec2 texCoord) {\n  vec4 color = texture2D(sampler, texCoord);\n  return vec4(color.rgb * color.a, color.a);\n}\n",HH={"fill-color":"rgba(255,255,255,0.4)","stroke-color":"#3399CC","stroke-width":1.25,"circle-radius":5,"circle-fill-color":"rgba(255,255,255,0.4)","circle-stroke-width":1.25,"circle-stroke-color":"#3399CC"};class VH{constructor(){this.uniforms_=[],this.attributes_=[],this.varyings_=[],this.hasSymbol_=!1,this.symbolSizeExpression_=`vec2(${OH(HH["circle-radius"])} + ${OH(.5*HH["circle-stroke-width"])})`,this.symbolRotationExpression_="0.0",this.symbolOffsetExpression_="vec2(0.0)",this.symbolColorExpression_=LH(HH["circle-fill-color"]),this.texCoordExpression_="vec4(0.0, 0.0, 1.0, 1.0)",this.discardExpression_="false",this.symbolRotateWithView_=!1,this.hasStroke_=!1,this.strokeWidthExpression_=OH(HH["stroke-width"]),this.strokeColorExpression_=LH(HH["stroke-color"]),this.strokeOffsetExpression_="0.",this.strokeCapExpression_=DH("round"),this.strokeJoinExpression_=DH("round"),this.strokeMiterLimitExpression_="10.",this.strokeDistanceFieldExpression_="-1000.",this.hasFill_=!1,this.fillColorExpression_=LH(HH["fill-color"]),this.vertexShaderFunctions_=[],this.fragmentShaderFunctions_=[]}addUniform(t){return this.uniforms_.push(t),this}addAttribute(t){return this.attributes_.push(t),this}addVarying(t,e,n){return this.varyings_.push({name:t,type:e,expression:n}),this}setSymbolSizeExpression(t){return this.hasSymbol_=!0,this.symbolSizeExpression_=t,this}getSymbolSizeExpression(){return this.symbolSizeExpression_}setSymbolRotationExpression(t){return this.symbolRotationExpression_=t,this}setSymbolOffsetExpression(t){return this.symbolOffsetExpression_=t,this}getSymbolOffsetExpression(){return this.symbolOffsetExpression_}setSymbolColorExpression(t){return this.hasSymbol_=!0,this.symbolColorExpression_=t,this}getSymbolColorExpression(){return this.symbolColorExpression_}setTextureCoordinateExpression(t){return this.texCoordExpression_=t,this}setFragmentDiscardExpression(t){return this.discardExpression_=t,this}getFragmentDiscardExpression(){return this.discardExpression_}setSymbolRotateWithView(t){return this.symbolRotateWithView_=t,this}setStrokeWidthExpression(t){return this.hasStroke_=!0,this.strokeWidthExpression_=t,this}setStrokeColorExpression(t){return this.hasStroke_=!0,this.strokeColorExpression_=t,this}getStrokeColorExpression(){return this.strokeColorExpression_}setStrokeOffsetExpression(t){return this.strokeOffsetExpression_=t,this}setStrokeCapExpression(t){return this.strokeCapExpression_=t,this}setStrokeJoinExpression(t){return this.strokeJoinExpression_=t,this}setStrokeMiterLimitExpression(t){return this.strokeMiterLimitExpression_=t,this}setStrokeDistanceFieldExpression(t){return this.strokeDistanceFieldExpression_=t,this}setFillColorExpression(t){return this.hasFill_=!0,this.fillColorExpression_=t,this}getFillColorExpression(){return this.fillColorExpression_}addVertexShaderFunction(t){this.vertexShaderFunctions_.includes(t)||this.vertexShaderFunctions_.push(t)}addFragmentShaderFunction(t){this.fragmentShaderFunctions_.includes(t)||this.fragmentShaderFunctions_.push(t)}getSymbolVertexShader(){return this.hasSymbol_?`${UH}\n${this.uniforms_.map((function(t){return"uniform "+t+";"})).join("\n")}\nattribute vec2 a_position;\nattribute float a_index;\nattribute vec4 a_prop_hitColor;\n${this.attributes_.map((function(t){return"attribute "+t+";"})).join("\n")}\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\nvarying vec4 v_prop_hitColor;\nvarying vec2 v_centerPx;\nvarying float v_angle;\nvarying vec2 v_quadSizePx;\n${this.varyings_.map((function(t){return"varying "+t.type+" "+t.name+";"})).join("\n")}\n${this.vertexShaderFunctions_.join("\n")}\nvec2 pxToScreen(vec2 coordPx) {\n  vec2 scaled = coordPx / u_viewportSizePx / 0.5;\n  return scaled;\n}\n\nvec2 screenToPx(vec2 coordScreen) {\n  return (coordScreen * 0.5 + 0.5) * u_viewportSizePx;\n}\n\nvoid main(void) {\n  v_quadSizePx = ${this.symbolSizeExpression_};\n  vec2 halfSizePx = v_quadSizePx * 0.5;\n  vec2 centerOffsetPx = ${this.symbolOffsetExpression_};\n  vec2 offsetPx = centerOffsetPx;\n  if (a_index == 0.0) {\n    offsetPx -= halfSizePx;\n  } else if (a_index == 1.0) {\n    offsetPx += halfSizePx * vec2(1., -1.);\n  } else if (a_index == 2.0) {\n    offsetPx += halfSizePx;\n  } else {\n    offsetPx += halfSizePx * vec2(-1., 1.);\n  }\n  float angle = ${this.symbolRotationExpression_};\n  ${this.symbolRotateWithView_?"angle += u_rotation;":""}\n  float c = cos(-angle);\n  float s = sin(-angle);\n  offsetPx = vec2(c * offsetPx.x - s * offsetPx.y, s * offsetPx.x + c * offsetPx.y);\n  vec4 center = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  gl_Position = center + vec4(pxToScreen(offsetPx), u_depth, 0.);\n  vec4 texCoord = ${this.texCoordExpression_};\n  float u = a_index == 0.0 || a_index == 3.0 ? texCoord.s : texCoord.p;\n  float v = a_index == 2.0 || a_index == 3.0 ? texCoord.t : texCoord.q;\n  v_texCoord = vec2(u, v);\n  v_prop_hitColor = a_prop_hitColor;\n  v_angle = angle;\n  c = cos(-v_angle);\n  s = sin(-v_angle);\n  centerOffsetPx = vec2(c * centerOffsetPx.x - s * centerOffsetPx.y, s * centerOffsetPx.x + c * centerOffsetPx.y); \n  v_centerPx = screenToPx(center.xy) + centerOffsetPx;\n${this.varyings_.map((function(t){return"  "+t.name+" = "+t.expression+";"})).join("\n")}\n}`:null}getSymbolFragmentShader(){return this.hasSymbol_?`${UH}\n${this.uniforms_.map((function(t){return"uniform "+t+";"})).join("\n")}\nvarying vec2 v_texCoord;\nvarying vec4 v_prop_hitColor;\nvarying vec2 v_centerPx;\nvarying float v_angle;\nvarying vec2 v_quadSizePx;\n${this.varyings_.map((function(t){return"varying "+t.type+" "+t.name+";"})).join("\n")}\n${this.fragmentShaderFunctions_.join("\n")}\n\nvoid main(void) {\n  if (${this.discardExpression_}) { discard; }\n  vec2 coordsPx = gl_FragCoord.xy / u_pixelRatio - v_centerPx; // relative to center\n  float c = cos(v_angle);\n  float s = sin(v_angle);\n  coordsPx = vec2(c * coordsPx.x - s * coordsPx.y, s * coordsPx.x + c * coordsPx.y);\n  gl_FragColor = ${this.symbolColorExpression_};\n  if (u_hitDetection > 0) {\n    if (gl_FragColor.a < 0.05) { discard; };\n    gl_FragColor = v_prop_hitColor;\n  }\n}`:null}getStrokeVertexShader(){return this.hasStroke_?`${UH}\n${this.uniforms_.map((function(t){return"uniform "+t+";"})).join("\n")}\nattribute vec2 a_position;\nattribute float a_index;\nattribute vec2 a_segmentStart;\nattribute vec2 a_segmentEnd;\nattribute float a_parameters;\nattribute float a_distance;\nattribute vec2 a_joinAngles;\nattribute vec4 a_prop_hitColor;\n${this.attributes_.map((function(t){return"attribute "+t+";"})).join("\n")}\nvarying vec2 v_segmentStart;\nvarying vec2 v_segmentEnd;\nvarying float v_angleStart;\nvarying float v_angleEnd;\nvarying float v_width;\nvarying vec4 v_prop_hitColor;\nvarying float v_distanceOffsetPx;\n${this.varyings_.map((function(t){return"varying "+t.type+" "+t.name+";"})).join("\n")}\n${this.vertexShaderFunctions_.join("\n")}\nvec2 worldToPx(vec2 worldPos) {\n  vec4 screenPos = u_projectionMatrix * vec4(worldPos, 0.0, 1.0);\n  return (0.5 * screenPos.xy + 0.5) * u_viewportSizePx;\n}\n\nvec4 pxToScreen(vec2 pxPos) {\n  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;\n  return vec4(screenPos, u_depth, 1.0);\n}\n\nbool isCap(float joinAngle) {\n  return joinAngle < -0.1;\n}\n\nvec2 getJoinOffsetDirection(vec2 normalPx, float joinAngle) {\n  float halfAngle = joinAngle / 2.0;\n  float c = cos(halfAngle);\n  float s = sin(halfAngle);\n  vec2 angleBisectorNormal = vec2(s * normalPx.x + c * normalPx.y, -c * normalPx.x + s * normalPx.y);\n  float length = 1.0 / s;\n  return angleBisectorNormal * length;\n}\n\nvec2 getOffsetPoint(vec2 point, vec2 normal, float joinAngle, float offsetPx) {\n  // if on a cap or the join angle is too high, offset the line along the segment normal\n  if (cos(joinAngle) > 0.998 || isCap(joinAngle)) {\n    return point - normal * offsetPx;\n  }\n  // offset is applied along the inverted normal (positive offset goes "right" relative to line direction)\n  return point - getJoinOffsetDirection(normal, joinAngle) * offsetPx;\n}\n\nvoid main(void) {\n  v_angleStart = a_joinAngles.x;\n  v_angleEnd = a_joinAngles.y;\n  float vertexNumber = floor(abs(a_parameters) / 10000. + 0.5);\n  // we're reading the fractional part while keeping the sign (so -4.12 gives -0.12, 3.45 gives 0.45)\n  float angleTangentSum = fract(abs(a_parameters) / 10000.) * 10000. * sign(a_parameters);\n\n  float lineWidth = ${this.strokeWidthExpression_};\n  float lineOffsetPx = ${this.strokeOffsetExpression_};\n\n  // compute segment start/end in px with offset\n  vec2 segmentStartPx = worldToPx(a_segmentStart);\n  vec2 segmentEndPx = worldToPx(a_segmentEnd);\n  vec2 tangentPx = normalize(segmentEndPx - segmentStartPx);\n  vec2 normalPx = vec2(-tangentPx.y, tangentPx.x);\n  segmentStartPx = getOffsetPoint(segmentStartPx, normalPx, v_angleStart, lineOffsetPx),\n  segmentEndPx = getOffsetPoint(segmentEndPx, normalPx, v_angleEnd, lineOffsetPx);\n  \n  // compute current vertex position\n  float normalDir = vertexNumber < 0.5 || (vertexNumber > 1.5 && vertexNumber < 2.5) ? 1.0 : -1.0;\n  float tangentDir = vertexNumber < 1.5 ? 1.0 : -1.0;\n  float angle = vertexNumber < 1.5 ? v_angleStart : v_angleEnd;\n  vec2 joinDirection;\n  vec2 positionPx = vertexNumber < 1.5 ? segmentStartPx : segmentEndPx;\n  // if angle is too high, do not make a proper join\n  if (cos(angle) > 0.985 || isCap(angle)) {\n    joinDirection = normalPx * normalDir - tangentPx * tangentDir;\n  } else {\n    joinDirection = getJoinOffsetDirection(normalPx * normalDir, angle);\n  }\n  positionPx = positionPx + joinDirection * (lineWidth * 0.5 + 1.); // adding 1 pixel for antialiasing\n  gl_Position = pxToScreen(positionPx);\n\n  v_segmentStart = segmentStartPx;\n  v_segmentEnd = segmentEndPx;\n  v_width = lineWidth;\n  v_prop_hitColor = a_prop_hitColor;\n  v_distanceOffsetPx = a_distance / u_resolution - (lineOffsetPx * angleTangentSum);\n${this.varyings_.map((function(t){return"  "+t.name+" = "+t.expression+";"})).join("\n")}\n}`:null}getStrokeFragmentShader(){return this.hasStroke_?`${UH}\n${this.uniforms_.map((function(t){return"uniform "+t+";"})).join("\n")}\nvarying vec2 v_segmentStart;\nvarying vec2 v_segmentEnd;\nvarying float v_angleStart;\nvarying float v_angleEnd;\nvarying float v_width;\nvarying vec4 v_prop_hitColor;\nvarying float v_distanceOffsetPx;\n${this.varyings_.map((function(t){return"varying "+t.type+" "+t.name+";"})).join("\n")}\n${this.fragmentShaderFunctions_.join("\n")}\n\nvec2 pxToWorld(vec2 pxPos) {\n  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;\n  return (u_screenToWorldMatrix * vec4(screenPos, 0.0, 1.0)).xy;\n}\n\nbool isCap(float joinAngle) {\n  return joinAngle < -0.1;\n}\n\nfloat segmentDistanceField(vec2 point, vec2 start, vec2 end, float width) {\n  vec2 tangent = normalize(end - start);\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 startToPoint = point - start;\n  return abs(dot(startToPoint, normal)) - width * 0.5;\n}\n\nfloat buttCapDistanceField(vec2 point, vec2 start, vec2 end) {\n  vec2 startToPoint = point - start;\n  vec2 tangent = normalize(end - start);\n  return dot(startToPoint, -tangent);\n}\n\nfloat squareCapDistanceField(vec2 point, vec2 start, vec2 end, float width) {\n  return buttCapDistanceField(point, start, end) - width * 0.5;\n}\n\nfloat roundCapDistanceField(vec2 point, vec2 start, vec2 end, float width) {\n  float onSegment = max(0., 1000. * dot(point - start, end - start)); // this is very high when inside the segment\n  return length(point - start) - width * 0.5 - onSegment;\n}\n\nfloat roundJoinDistanceField(vec2 point, vec2 start, vec2 end, float width) {\n  return roundCapDistanceField(point, start, end, width);\n}\n\nfloat bevelJoinField(vec2 point, vec2 start, vec2 end, float width, float joinAngle) {\n  vec2 startToPoint = point - start;\n  vec2 tangent = normalize(end - start);\n  float c = cos(joinAngle * 0.5);\n  float s = sin(joinAngle * 0.5);\n  float direction = -sign(sin(joinAngle));\n  vec2 bisector = vec2(c * tangent.x - s * tangent.y, s * tangent.x + c * tangent.y);\n  float radius = width * 0.5 * s;\n  return dot(startToPoint, bisector * direction) - radius;\n}\n\nfloat miterJoinDistanceField(vec2 point, vec2 start, vec2 end, float width, float joinAngle) {\n  if (cos(joinAngle) > 0.985) { // avoid risking a division by zero\n    return bevelJoinField(point, start, end, width, joinAngle);\n  }\n  float miterLength = 1. / sin(joinAngle * 0.5);\n  float miterLimit = ${this.strokeMiterLimitExpression_};\n  if (miterLength > miterLimit) {\n    return bevelJoinField(point, start, end, width, joinAngle);\n  }\n  return -1000.;\n}\n\nfloat capDistanceField(vec2 point, vec2 start, vec2 end, float width, float capType) {\n   if (capType == ${DH("butt")}) {\n    return buttCapDistanceField(point, start, end);\n  } else if (capType == ${DH("square")}) {\n    return squareCapDistanceField(point, start, end, width);\n  }\n  return roundCapDistanceField(point, start, end, width);\n}\n\nfloat joinDistanceField(vec2 point, vec2 start, vec2 end, float width, float joinAngle, float joinType) {\n  if (joinType == ${DH("bevel")}) {\n    return bevelJoinField(point, start, end, width, joinAngle);\n  } else if (joinType == ${DH("miter")}) {\n    return miterJoinDistanceField(point, start, end, width, joinAngle);\n  }\n  return roundJoinDistanceField(point, start, end, width);\n}\n\nfloat computeSegmentPointDistance(vec2 point, vec2 start, vec2 end, float width, float joinAngle, float capType, float joinType) {\n  if (isCap(joinAngle)) {\n    return capDistanceField(point, start, end, width, capType);\n  }\n  return joinDistanceField(point, start, end, width, joinAngle, joinType);\n}\n\nvoid main(void) {\n  vec2 currentPoint = gl_FragCoord.xy / u_pixelRatio;\n  #ifdef GL_FRAGMENT_PRECISION_HIGH\n  vec2 worldPos = pxToWorld(currentPoint);\n  if (\n    abs(u_renderExtent[0] - u_renderExtent[2]) > 0.0 && (\n      worldPos[0] < u_renderExtent[0] ||\n      worldPos[1] < u_renderExtent[1] ||\n      worldPos[0] > u_renderExtent[2] ||\n      worldPos[1] > u_renderExtent[3]\n    )\n  ) {\n    discard;\n  }\n  #endif\n  if (${this.discardExpression_}) { discard; }\n\n  float segmentLength = length(v_segmentEnd - v_segmentStart);\n  vec2 segmentTangent = (v_segmentEnd - v_segmentStart) / segmentLength;\n  vec2 segmentNormal = vec2(-segmentTangent.y, segmentTangent.x);\n  vec2 startToPoint = currentPoint - v_segmentStart;\n  float currentLengthPx = max(0., min(dot(segmentTangent, startToPoint), segmentLength)) + v_distanceOffsetPx; \n  float currentRadiusPx = abs(dot(segmentNormal, startToPoint));\n  float currentRadiusRatio = dot(segmentNormal, startToPoint) * 2. / v_width;\n  vec4 color = ${this.strokeColorExpression_} * u_globalAlpha;\n  float capType = ${this.strokeCapExpression_};\n  float joinType = ${this.strokeJoinExpression_};\n  float segmentStartDistance = computeSegmentPointDistance(currentPoint, v_segmentStart, v_segmentEnd, v_width, v_angleStart, capType, joinType);\n  float segmentEndDistance = computeSegmentPointDistance(currentPoint, v_segmentEnd, v_segmentStart, v_width, v_angleEnd, capType, joinType);\n  float distance = max(\n    segmentDistanceField(currentPoint, v_segmentStart, v_segmentEnd, v_width),\n    max(segmentStartDistance, segmentEndDistance)\n  );\n  distance = max(distance, ${this.strokeDistanceFieldExpression_});\n  gl_FragColor = color * smoothstep(0.5, -0.5, distance);\n  if (u_hitDetection > 0) {\n    if (gl_FragColor.a < 0.1) { discard; };\n    gl_FragColor = v_prop_hitColor;\n  }\n}`:null}getFillVertexShader(){return this.hasFill_?`${UH}\n${this.uniforms_.map((function(t){return"uniform "+t+";"})).join("\n")}\nattribute vec2 a_position;\nattribute vec4 a_prop_hitColor;\n${this.attributes_.map((function(t){return"attribute "+t+";"})).join("\n")}\nvarying vec4 v_prop_hitColor;\n${this.varyings_.map((function(t){return"varying "+t.type+" "+t.name+";"})).join("\n")}\n${this.vertexShaderFunctions_.join("\n")}\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, u_depth, 1.0);\n  v_prop_hitColor = a_prop_hitColor;\n${this.varyings_.map((function(t){return"  "+t.name+" = "+t.expression+";"})).join("\n")}\n}`:null}getFillFragmentShader(){return this.hasFill_?`${UH}\n${this.uniforms_.map((function(t){return"uniform "+t+";"})).join("\n")}\nvarying vec4 v_prop_hitColor;\n${this.varyings_.map((function(t){return"varying "+t.type+" "+t.name+";"})).join("\n")}\n${this.fragmentShaderFunctions_.join("\n")}\nvec2 pxToWorld(vec2 pxPos) {\n  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;\n  return (u_screenToWorldMatrix * vec4(screenPos, 0.0, 1.0)).xy;\n}\n\nvec2 worldToPx(vec2 worldPos) {\n  vec4 screenPos = u_projectionMatrix * vec4(worldPos, 0.0, 1.0);\n  return (0.5 * screenPos.xy + 0.5) * u_viewportSizePx;\n}\n\nvoid main(void) {\n  vec2 pxPos = gl_FragCoord.xy / u_pixelRatio;\n  vec2 pxOrigin = worldToPx(u_patternOrigin);\n  #ifdef GL_FRAGMENT_PRECISION_HIGH\n  vec2 worldPos = pxToWorld(pxPos);\n  if (\n    abs(u_renderExtent[0] - u_renderExtent[2]) > 0.0 && (\n      worldPos[0] < u_renderExtent[0] ||\n      worldPos[1] < u_renderExtent[1] ||\n      worldPos[0] > u_renderExtent[2] ||\n      worldPos[1] > u_renderExtent[3]\n    )\n  ) {\n    discard;\n  }\n  #endif\n  if (${this.discardExpression_}) { discard; }\n  gl_FragColor = ${this.fillColorExpression_} * u_globalAlpha;\n  if (u_hitDetection > 0) {\n    if (gl_FragColor.a < 0.1) { discard; };\n    gl_FragColor = v_prop_hitColor;\n  }\n}`:null}}function qH(t,e,n){const i=SA();return i.style=t.style,function(t,e,n,i){const r=EA(t,n,e);if(xA(r.type,0))throw new Error("No matching type was found");if(!_A(e,r.type)){const t=vA(e),n=vA(r.type);throw new Error(`Expected expression to be of type ${t}, got ${n}`)}return GH(r,e,i)}(e,n,i,t)}function XH(t){const e=qO(t);return[256*e[0]+e[1],256*e[2]+Math.round(255*e[3])]}function KH(t){return t===dA||t===pA?2:t===fA?4:1}function ZH(t){const e=KH(t);return e>1?`vec${e}`:"float"}function YH(t){return(JSON.stringify(t).split("").reduce(((t,e)=>(t<<5)-t+e.charCodeAt(0)),0)>>>0).toString()}function JH(t,e,n,i){if(`${i}radius`in t&&"icon-"!==i){let r=qH(n,t[`${i}radius`],cA);`${i}radius2`in t&&(r=`max(${r}, ${qH(n,t[`${i}radius2`],cA)})`),`${i}stroke-width`in t&&(r=`(${r} + ${qH(n,t[`${i}stroke-width`],cA)} * 0.5)`),e.setSymbolSizeExpression(`vec2(${r} * 2. + 0.5)`)}if(`${i}scale`in t){const r=qH(n,t[`${i}scale`],pA);e.setSymbolSizeExpression(`${e.getSymbolSizeExpression()} * ${r}`)}`${i}displacement`in t&&e.setSymbolOffsetExpression(qH(n,t[`${i}displacement`],fA)),`${i}rotation`in t&&e.setSymbolRotationExpression(qH(n,t[`${i}rotation`],cA)),`${i}rotate-with-view`in t&&e.setSymbolRotateWithView(!!t[`${i}rotate-with-view`])}function QH(t,e,n,i,r){let o="vec4(0.)";null!==e&&(o=e),null!==n&&null!==i&&(o=`mix(${n}, ${o}, smoothstep(-${i} + 0.63, -${i} - 0.58, ${t}))`);let s=`${o} * (1.0 - smoothstep(-0.63, 0.58, ${t}))`;return null!==r&&(s=`${s} * ${r}`),s}function tV(t,e,n,i,r){const o=new Image;let s;return o.crossOrigin=void 0===t[`${i}cross-origin`]?"anonymous":t[`${i}cross-origin`],o.src=t[`${i}src`],o.complete&&o.width&&o.height?s=FH([o.width,o.height]):(n[`u_texture${r}_size`]=()=>o.complete?[o.width,o.height]:[0,0],e.addUniform(`vec2 u_texture${r}_size`),s=`u_texture${r}_size`),n[`u_texture${r}`]=o,e.addUniform(`sampler2D u_texture${r}`),s}function eV(t,e,n,i,r){let o=qH(n,t[`${e}offset`],fA);if(`${e}offset-origin`in t)switch(t[`${e}offset-origin`]){case"top-right":o=`vec2(${i}.x, 0.) + ${r} * vec2(-1., 0.) + ${o} * vec2(-1., 1.)`;break;case"bottom-left":o=`vec2(0., ${i}.y) + ${r} * vec2(0., -1.) + ${o} * vec2(1., -1.)`;break;case"bottom-right":o=`${i} - ${r} - ${o}`}return o}function nV(t){const e={inFragmentShader:!1,properties:{},variables:{},functions:{},style:t},n={inFragmentShader:!0,variables:e.variables,properties:{},functions:{},style:t},i=new VH,r={};if("icon-src"in t?function(t,e,n,i,r){let o="vec4(1.0)";"icon-color"in t&&(o=qH(r,t["icon-color"],dA)),"icon-opacity"in t&&(o=`${o} * ${qH(r,t["icon-opacity"],cA)}`);const s=YH(t["icon-src"]),a=tV(t,e,n,"icon-",s);if(e.setSymbolColorExpression(`${o} * samplePremultiplied(u_texture${s}, v_texCoord)`).setSymbolSizeExpression(a),"icon-width"in t&&"icon-height"in t&&e.setSymbolSizeExpression(`vec2(${qH(i,t["icon-width"],cA)}, ${qH(i,t["icon-height"],cA)})`),"icon-offset"in t&&"icon-size"in t){const n=qH(i,t["icon-size"],fA),r=e.getSymbolSizeExpression();e.setSymbolSizeExpression(n);const o=eV(t,"icon-",i,"v_quadSizePx",n);e.setTextureCoordinateExpression(`(vec4((${o}).xyxy) + vec4(0., 0., ${n})) / (${r}).xyxy`)}if(JH(t,e,i,"icon-"),"icon-anchor"in t){const n=qH(i,t["icon-anchor"],fA);let r,o="1.0";"icon-scale"in t&&(o=qH(i,t["icon-scale"],pA)),r="pixels"===t["icon-anchor-x-units"]&&"pixels"===t["icon-anchor-y-units"]?`${n} * ${o}`:"pixels"===t["icon-anchor-x-units"]?`${n} * vec2(vec2(${o}).x, v_quadSizePx.y)`:"pixels"===t["icon-anchor-y-units"]?`${n} * vec2(v_quadSizePx.x, vec2(${o}).x)`:`${n} * v_quadSizePx`;let s=`v_quadSizePx * vec2(0.5, -0.5) + ${r} * vec2(-1., 1.)`;if("icon-anchor-origin"in t)switch(t["icon-anchor-origin"]){case"top-right":s=`v_quadSizePx * -0.5 + ${r}`;break;case"bottom-left":s=`v_quadSizePx * 0.5 - ${r}`;break;case"bottom-right":s=`v_quadSizePx * vec2(-0.5, 0.5) + ${r} * vec2(1., -1.)`}e.setSymbolOffsetExpression(`${e.getSymbolOffsetExpression()} + ${s}`)}}(t,i,r,e,n):"shape-points"in t?function(t,e,n,i,r){r.functions.round="float round(float v) {\n  return sign(v) * floor(abs(v) + 0.5);\n}",r.functions.starDistanceField="float starDistanceField(vec2 point, float numPoints, float radius, float radius2, float angle) {\n  float startAngle = -PI * 0.5 + angle; // tip starts upwards and rotates clockwise with angle\n  float c = cos(startAngle);\n  float s = sin(startAngle);\n  vec2 pointRotated = vec2(c * point.x - s * point.y, s * point.x + c * point.y);\n  float alpha = TWO_PI / numPoints; // the angle of one sector\n  float beta = atan(pointRotated.y, pointRotated.x);\n  float gamma = round(beta / alpha) * alpha; // angle in sector\n  c = cos(-gamma);\n  s = sin(-gamma);\n  vec2 inSector = vec2(c * pointRotated.x - s * pointRotated.y, abs(s * pointRotated.x + c * pointRotated.y));\n  vec2 tipToPoint = inSector + vec2(-radius, 0.);\n  vec2 edgeNormal = vec2(radius2 * sin(alpha * 0.5), -radius2 * cos(alpha * 0.5) + radius);\n  return dot(normalize(edgeNormal), tipToPoint);\n}",r.functions.regularDistanceField="float regularDistanceField(vec2 point, float numPoints, float radius, float angle) {\n  float startAngle = -PI * 0.5 + angle; // tip starts upwards and rotates clockwise with angle\n  float c = cos(startAngle);\n  float s = sin(startAngle);\n  vec2 pointRotated = vec2(c * point.x - s * point.y, s * point.x + c * point.y);\n  float alpha = TWO_PI / numPoints; // the angle of one sector\n  float radiusIn = radius * cos(PI / numPoints);\n  float beta = atan(pointRotated.y, pointRotated.x);\n  float gamma = round((beta - alpha * 0.5) / alpha) * alpha + alpha * 0.5; // angle in sector from mid\n  c = cos(-gamma);\n  s = sin(-gamma);\n  vec2 inSector = vec2(c * pointRotated.x - s * pointRotated.y, abs(s * pointRotated.x + c * pointRotated.y));\n  return inSector.x - radiusIn;\n}",JH(t,e,i,"shape-");let o=null;"shape-opacity"in t&&(o=qH(r,t["shape-opacity"],cA));let s="coordsPx";"shape-scale"in t&&(s=`coordsPx / ${qH(r,t["shape-scale"],pA)}`);let a=null;"shape-fill-color"in t&&(a=qH(r,t["shape-fill-color"],dA));let l=null;"shape-stroke-color"in t&&(l=qH(r,t["shape-stroke-color"],dA));let u=null;"shape-stroke-width"in t&&(u=qH(r,t["shape-stroke-width"],cA));const c=qH(r,t["shape-points"],cA);let h,d="0.";"shape-angle"in t&&(d=qH(r,t["shape-angle"],cA));let f=qH(r,t["shape-radius"],cA);if(null!==u&&(f=`${f} + ${u} * 0.5`),"shape-radius2"in t){let e=qH(r,t["shape-radius2"],cA);null!==u&&(e=`${e} + ${u} * 0.5`),h=`starDistanceField(${s}, ${c}, ${f}, ${e}, ${d})`}else h=`regularDistanceField(${s}, ${c}, ${f}, ${d})`;const p=QH(h,a,l,u,o);e.setSymbolColorExpression(p)}(t,i,0,e,n):"circle-radius"in t&&function(t,e,n,i,r){r.functions.circleDistanceField="float circleDistanceField(vec2 point, float radius) {\n  return length(point) - radius;\n}",JH(t,e,i,"circle-");let o=null;"circle-opacity"in t&&(o=qH(r,t["circle-opacity"],cA));let s="coordsPx";"circle-scale"in t&&(s=`coordsPx / ${qH(r,t["circle-scale"],pA)}`);let a=null;"circle-fill-color"in t&&(a=qH(r,t["circle-fill-color"],dA));let l=null;"circle-stroke-color"in t&&(l=qH(r,t["circle-stroke-color"],dA));let u=qH(r,t["circle-radius"],cA),c=null;"circle-stroke-width"in t&&(c=qH(r,t["circle-stroke-width"],cA),u=`(${u} + ${c} * 0.5)`);const h=QH(`circleDistanceField(${s}, ${u})`,a,l,c,o);e.setSymbolColorExpression(h)}(t,i,0,e,n),function(t,e,n,i,r){if("stroke-color"in t&&e.setStrokeColorExpression(qH(r,t["stroke-color"],dA)),"stroke-pattern-src"in t){const i=YH(t["stroke-pattern-src"]),o=tV(t,e,n,"stroke-pattern-",i);let s=o,a="vec2(0.)";"stroke-pattern-offset"in t&&"stroke-pattern-size"in t&&(s=qH(r,t["stroke-pattern-size"],fA),a=eV(t,"stroke-pattern-",r,o,s));let l="0.";"stroke-pattern-spacing"in t&&(l=qH(r,t["stroke-pattern-spacing"],cA)),r.functions.sampleStrokePattern="vec4 sampleStrokePattern(sampler2D texture, vec2 textureSize, vec2 textureOffset, vec2 sampleSize, float spacingPx, float currentLengthPx, float currentRadiusRatio, float lineWidth) {\n  float currentLengthScaled = currentLengthPx * sampleSize.y / lineWidth;\n  float spacingScaled = spacingPx * sampleSize.y / lineWidth;\n  float uCoordPx = mod(currentLengthScaled, (sampleSize.x + spacingScaled));\n  // make sure that we're not sampling too close to the borders to avoid interpolation with outside pixels\n  uCoordPx = clamp(uCoordPx, 0.5, sampleSize.x - 0.5);\n  float vCoordPx = (-currentRadiusRatio * 0.5 + 0.5) * sampleSize.y;\n  vec2 texCoord = (vec2(uCoordPx, vCoordPx) + textureOffset) / textureSize;\n  return samplePremultiplied(texture, texCoord);\n}";const u=`u_texture${i}`;let c="1.";"stroke-color"in t&&(c=e.getStrokeColorExpression()),e.setStrokeColorExpression(`${c} * sampleStrokePattern(${u}, ${o}, ${a}, ${s}, ${l}, currentLengthPx, currentRadiusRatio, v_width)`)}if("stroke-width"in t&&e.setStrokeWidthExpression(qH(i,t["stroke-width"],cA)),"stroke-offset"in t&&e.setStrokeOffsetExpression(qH(i,t["stroke-offset"],cA)),"stroke-line-cap"in t&&e.setStrokeCapExpression(qH(i,t["stroke-line-cap"],hA)),"stroke-line-join"in t&&e.setStrokeJoinExpression(qH(i,t["stroke-line-join"],hA)),"stroke-miter-limit"in t&&e.setStrokeMiterLimitExpression(qH(i,t["stroke-miter-limit"],cA)),"stroke-line-dash"in t){r.functions.getSingleDashDistance=`float getSingleDashDistance(float distance, float radius, float dashOffset, float dashLength, float dashLengthTotal, float capType) {\n  float localDistance = mod(distance, dashLengthTotal);\n  float distanceSegment = abs(localDistance - dashOffset - dashLength * 0.5) - dashLength * 0.5;\n  distanceSegment = min(distanceSegment, dashLengthTotal - localDistance);\n  if (capType == ${DH("square")}) {\n    distanceSegment -= v_width * 0.5;\n  } else if (capType == ${DH("round")}) {\n    distanceSegment = min(distanceSegment, sqrt(distanceSegment * distanceSegment + radius * radius) - v_width * 0.5);\n  }\n  return distanceSegment;\n}`;let n=t["stroke-line-dash"].map((t=>qH(r,t,cA)));n.length%2==1&&(n=[...n,...n]);let o="0.";"stroke-line-dash-offset"in t&&(o=qH(i,t["stroke-line-dash-offset"],cA));const s=`dashDistanceField_${YH(t["stroke-line-dash"])}`,a=n.map(((t,e)=>`float dashLength${e} = ${t};`)),l=n.map(((t,e)=>`dashLength${e}`)).join(" + ");let u="0.",c=`getSingleDashDistance(distance, radius, ${u}, dashLength0, totalDashLength, capType)`;for(let t=2;t<n.length;t+=2)u=`${u} + dashLength${t-2} + dashLength${t-1}`,c=`min(${c}, getSingleDashDistance(distance, radius, ${u}, dashLength${t}, totalDashLength, capType))`;r.functions[s]=`float ${s}(float distance, float radius, float capType) {\n  ${a.join("\n  ")}\n  float totalDashLength = ${l};\n  return ${c};\n}`,e.setStrokeDistanceFieldExpression(`${s}(currentLengthPx + ${o}, currentRadiusPx, capType)`)}}(t,i,r,e,n),function(t,e,n,i,r){if("fill-color"in t&&e.setFillColorExpression(qH(r,t["fill-color"],dA)),"fill-pattern-src"in t){const i=YH(t["fill-pattern-src"]),o=tV(t,e,n,"fill-pattern-",i);let s=o,a="vec2(0.)";"fill-pattern-offset"in t&&"fill-pattern-size"in t&&(s=qH(r,t["fill-pattern-size"],fA),a=eV(t,"fill-pattern-",r,o,s)),r.functions.sampleFillPattern="vec4 sampleFillPattern(sampler2D texture, vec2 textureSize, vec2 textureOffset, vec2 sampleSize, vec2 pxOrigin, vec2 pxPosition) {\n  float scaleRatio = pow(2., mod(u_zoom + 0.5, 1.) - 0.5);\n  vec2 pxRelativePos = pxPosition - pxOrigin;\n  // rotate the relative position from origin by the current view rotation\n  pxRelativePos = vec2(pxRelativePos.x * cos(u_rotation) - pxRelativePos.y * sin(u_rotation), pxRelativePos.x * sin(u_rotation) + pxRelativePos.y * cos(u_rotation));\n  // sample position is computed according to the sample offset & size\n  vec2 samplePos = mod(pxRelativePos / scaleRatio, sampleSize);\n  // also make sure that we're not sampling too close to the borders to avoid interpolation with outside pixels\n  samplePos = clamp(samplePos, vec2(0.5), sampleSize - vec2(0.5));\n  samplePos.y = sampleSize.y - samplePos.y; // invert y axis so that images appear upright\n  return samplePremultiplied(texture, (samplePos + textureOffset) / textureSize);\n}";const l=`u_texture${i}`;let u="1.";"fill-color"in t&&(u=e.getFillColorExpression()),e.setFillColorExpression(`${u} * sampleFillPattern(${l}, ${o}, ${a}, ${s}, pxOrigin, pxPos)`)}}(t,i,r,0,n),t.filter){const e=qH(n,t.filter,uA);i.setFragmentDiscardExpression(`!${e}`)}Object.keys(n.variables).forEach((function(e){const o=n.variables[e],s=zH(o.name);let a;i.addUniform(`${ZH(o.type)} ${s}`),a=o.type===hA?()=>NH(t.variables[o.name]):o.type===dA?()=>XH([...qO(t.variables[o.name]||"#eee")]):o.type===uA?()=>t.variables[o.name]?1:0:()=>t.variables[o.name],r[s]=a})),Object.keys(n.properties).forEach((function(t){const r=n.properties[t];e.properties[t]||(e.properties[t]=r);let o=ZH(r.type),s=`a_prop_${r.name}`;r.type===dA&&(o="vec4",s=`unpackColor(${s})`,i.addVertexShaderFunction("vec4 unpackColor(vec2 packedColor) {\n  return fract(packedColor[1] / 256.0) * vec4(\n    fract(floor(packedColor[0] / 256.0) / 256.0),\n    fract(packedColor[0] / 256.0),\n    fract(floor(packedColor[1] / 256.0) / 256.0),\n    1.0\n  );\n}")),i.addVarying(`v_prop_${r.name}`,o,s)})),Object.keys(e.properties).forEach((function(t){const n=e.properties[t];i.addAttribute(`${ZH(n.type)} a_prop_${n.name}`)}));const o=Object.keys(e.properties).map((function(t){const n=e.properties[t];let i;return i=n.evaluator?n.evaluator:n.type===hA?t=>NH(t.get(n.name)):n.type===dA?t=>XH([...qO(t.get(n.name)||"#eee")]):n.type===uA?t=>t.get(n.name)?1:0:t=>t.get(n.name),{name:n.name,size:KH(n.type),callback:i}}));for(const s in e.functions)i.addVertexShaderFunction(e.functions[s]);for(const s in n.functions)i.addFragmentShaderFunction(n.functions[s]);return{builder:i,attributes:o.reduce(((t,e)=>({...t,[e.name]:{callback:e.callback,size:e.size}})),{}),uniforms:r}}class iV extends zL{constructor(t){super(Object.assign({},t)),this.parseResult_=nV(t.style),this.styleVariables_=t.style.variables||{},this.hitDetectionDisabled_=!!t.disableHitDetection}createRenderer(){const t=Object.keys(this.parseResult_.attributes).map((t=>({name:t,...this.parseResult_.attributes[t]})));return new PH(this,{vertexShader:this.parseResult_.builder.getSymbolVertexShader(),fragmentShader:this.parseResult_.builder.getSymbolFragmentShader(),hitDetectionEnabled:!this.hitDetectionDisabled_,uniforms:this.parseResult_.uniforms,attributes:t})}updateStyleVariables(t){Object.assign(this.styleVariables_,t),this.changed()}}class rV{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=AP,this.supportedMediaTypes=null}getReadOptions(t,e){if(e){let n=e.dataProjection?mI(e.dataProjection):this.readProjection(t);e.extent&&n&&"tile-pixels"===n.getUnits()&&(n=mI(n),n.setWorldExtent(e.extent)),e={dataProjection:n,featureProjection:e.featureProjection}}return this.adaptOptions(e)}adaptOptions(t){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},t)}getType(){return EP()}readFeature(t,e){return EP()}readFeatures(t,e){return EP()}readGeometry(t,e){return EP()}readProjection(t){return EP()}writeFeature(t,e){return EP()}writeFeatures(t,e){return EP()}writeGeometry(t,e){return EP()}}function oV(t,e,n){const i=n?mI(n.featureProjection):null,r=n?mI(n.dataProjection):null;let o=t;if(i&&r&&!wI(i,r)){e&&(o=t.clone());const n=e?i:r,s=e?r:i;"tile-pixels"===n.getUnits()?o.transform(n,s):o.applyTransform(EI(n,s))}if(e&&n&&void 0!==n.decimals){const e=Math.pow(10,n.decimals),i=function(t){for(let n=0,i=t.length;n<i;++n)t[n]=Math.round(t[n]*e)/e;return t};o===t&&(o=t.clone()),o.applyTransform(i)}return o}const sV={Point:sO,LineString:EF,Polygon:wO,MultiPoint:sD,MultiLineString:oD,MultiPolygon:lD};function aV(t,e){var n;const i=t.geometry;if(!i)return[];if(Array.isArray(i))return i.map((e=>aV({...t,geometry:e}))).flat();const r="MultiPolygon"===i.type?"Polygon":i.type;if("GeometryCollection"===r||"Circle"===r)throw new Error("Unsupported geometry type: "+r);const o=i.layout.length;return oV(new cD(r,"Polygon"===r?function(t,e,n){return Array.isArray(e[0])?(_O(t,0,e,n)||bO(t=t.slice(),0,e,n),t):(vO(t,0,e,n)||xO(t=t.slice(),0,e,n),t)}(i.flatCoordinates,i.ends,o):i.flatCoordinates,null==(n=i.ends)?void 0:n.flat(),o,t.properties||{},t.id).enableSimplifyTransformed(),!1,e)}function lV(t,e){if(!t)return null;if(Array.isArray(t)){const n=t.map((t=>lV(t,e)));return new iD(n)}return oV(new(0,sV[t.type])(t.flatCoordinates,t.layout,t.ends),!1,e)}class uV extends rV{constructor(){super()}getType(){return"json"}readFeature(t,e){return this.readFeatureFromObject(cV(t),this.getReadOptions(t,e))}readFeatures(t,e){return this.readFeaturesFromObject(cV(t),this.getReadOptions(t,e))}readFeatureFromObject(t,e){return EP()}readFeaturesFromObject(t,e){return EP()}readGeometry(t,e){return this.readGeometryFromObject(cV(t),this.getReadOptions(t,e))}readGeometryFromObject(t,e){return EP()}readProjection(t){return this.readProjectionFromObject(cV(t))}readProjectionFromObject(t){return EP()}writeFeature(t,e){return JSON.stringify(this.writeFeatureObject(t,e))}writeFeatureObject(t,e){return EP()}writeFeatures(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))}writeFeaturesObject(t,e){return EP()}writeGeometry(t,e){return JSON.stringify(this.writeGeometryObject(t,e))}writeGeometryObject(t,e){return EP()}}function cV(t){if("string"==typeof t){const e=JSON.parse(t);return e||null}return null!==t?t:null}class hV extends uV{constructor(t){t=t||{},super(),this.dataProjection=mI(t.dataProjection?t.dataProjection:"EPSG:4326"),t.featureProjection&&(this.defaultFeatureProjection=mI(t.featureProjection)),t.featureClass&&(this.featureClass=t.featureClass),this.geometryName_=t.geometryName,this.extractGeometryName_=t.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(t,e){let n=null;n="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null};const i=dV(n.geometry);if(this.featureClass===cD)return aV({geometry:i,id:n.id,properties:n.properties},e);const r=new AP;return this.geometryName_?r.setGeometryName(this.geometryName_):this.extractGeometryName_&&n.geometry_name&&r.setGeometryName(n.geometry_name),r.setGeometry(lV(i,e)),"id"in n&&r.setId(n.id),n.properties&&r.setProperties(n.properties,!0),r}readFeaturesFromObject(t,e){let n=null;if("FeatureCollection"===t.type){n=[];const i=t.features;for(let t=0,r=i.length;t<r;++t){const r=this.readFeatureFromObject(i[t],e);r&&n.push(r)}}else n=[this.readFeatureFromObject(t,e)];return n.flat()}readGeometryFromObject(t,e){return function(t,e){const n=dV(t);return lV(n,e)}(t,e)}readProjectionFromObject(t){const e=t.crs;let n;if(e)if("name"==e.type)n=mI(e.properties.name);else{if("EPSG"!==e.type)throw new Error("Unknown SRS type");n=mI("EPSG:"+e.properties.code)}else n=this.dataProjection;return n}writeFeatureObject(t,e){e=this.adaptOptions(e);const n={type:"Feature",geometry:null,properties:null},i=t.getId();if(void 0!==i&&(n.id=i),!t.hasProperties())return n;const r=t.getProperties(),o=t.getGeometry();return o&&(n.geometry=fV(o,e),delete r[t.getGeometryName()]),aP(r)||(n.properties=r),n}writeFeaturesObject(t,e){e=this.adaptOptions(e);const n=[];for(let i=0,r=t.length;i<r;++i)n.push(this.writeFeatureObject(t[i],e));return{type:"FeatureCollection",features:n}}writeGeometryObject(t,e){return fV(t,this.adaptOptions(e))}}function dV(t,e){if(!t)return null;let n;switch(t.type){case"Point":n=function(t){const e=t.coordinates;return{type:"Point",flatCoordinates:e,layout:zI(e.length)}}(t);break;case"LineString":n=function(t){var e;const n=t.coordinates,i=n.flat();return{type:"LineString",flatCoordinates:i,ends:[i.length],layout:zI((null==(e=n[0])?void 0:e.length)||2)}}(t);break;case"Polygon":n=function(t){var e,n;const i=t.coordinates,r=[],o=null==(n=null==(e=i[0])?void 0:e[0])?void 0:n.length,s=qI(r,0,i,o);return{type:"Polygon",flatCoordinates:r,ends:s,layout:zI(o)}}(t);break;case"MultiPoint":n=function(t){var e;const n=t.coordinates;return{type:"MultiPoint",flatCoordinates:n.flat(),layout:zI((null==(e=n[0])?void 0:e.length)||2)}}(t);break;case"MultiLineString":n=function(t){var e,n;const i=t.coordinates,r=(null==(n=null==(e=i[0])?void 0:e[0])?void 0:n.length)||2,o=[],s=qI(o,0,i,r);return{type:"MultiLineString",flatCoordinates:o,ends:s,layout:zI(r)}}(t);break;case"MultiPolygon":n=function(t){var e,n;const i=t.coordinates,r=[],o=(null==(n=null==(e=i[0])?void 0:e[0])?void 0:n[0].length)||2,s=XI(r,0,i,o);return{type:"MultiPolygon",flatCoordinates:r,ends:s,layout:zI(o)}}(t);break;case"GeometryCollection":n=function(t){const e=t.geometries.map((function(t){return dV(t)}));return e}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return n}function fV(t,e){const n=(t=oV(t,!0,e)).getType();let i;switch(n){case"Point":i=function(t){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case"LineString":i=function(t){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case"Polygon":i=function(t,e){let n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}(t,e);break;case"MultiPoint":i=function(t){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case"MultiLineString":i=function(t){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case"MultiPolygon":i=function(t,e){let n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}(t,e);break;case"GeometryCollection":i=function(t,e){delete(e=Object.assign({},e)).featureProjection;const n=t.getGeometriesArray().map((function(t){return fV(t,e)}));return{type:"GeometryCollection",geometries:n}}(t,e);break;case"Circle":i={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+n)}return i}const pV=({MapContext:t,features:e,style:n,zIndex:i=0,...r})=>{const{map:o}=G.useContext(t),[s,a]=G.useState();return G.useEffect((()=>{if(!o)return;let t=new iV({source:new SD({features:[]}),style:n,...r});return t.setZIndex(i),o.addLayer(t),a(t),()=>{o&&(o.removeLayer(t),a(null),t.dispose())}}),[o,i]),G.useEffect((()=>{s&&s.updateStyleVariables(n.variables)}),[s,n]),G.useEffect((()=>{if(s&&(s.getSource().clear(),null==e?void 0:e.length)){const t=new hV,n={type:"FeatureCollection",features:e.map(((t,e)=>{const{$:n,p:i}=t;return{type:"Feature",id:e,geometry:n,properties:i}}))};s.getSource().addFeatures(t.readFeatures(n))}}),[e,s]),null},gV=({MapContext:t,features:e,style:n,zIndex:i=0,...r})=>{const{map:o}=G.useContext(t),[s,a]=G.useState();return G.useEffect((()=>{if(!o)return;let t=new eD({source:new SD({features:[]}),style:n,...r});return o.addLayer(t),t.setZIndex(i),a(t),()=>{o&&(o.removeLayer(t),a(null))}}),[o,i]),G.useEffect((()=>{if(s&&(s.getSource().clear(),null==e?void 0:e.length)){const t=new hV;s.getSource().addFeatures(t.readFeatures({type:"FeatureCollection",features:e}))}}),[s,e]),G.useEffect((()=>{s&&s.setStyle(n)}),[s,n]),null},mV=new mU({wrapX:!1,hitTolerance:10,multi:!1,style:null,addCondition:function(t){return wz(t)},toggleCondition:function(t){return wz(t)},layers:t=>t.get("selectable")});let yV,vV=mV.getFeatures();const _V=()=>{const{map:t}=G.useContext(i$),e=g_((t=>t.map.activeFeatures)),n=C_();G.useEffect((()=>{e.length<1&&vV.clear()}),[e]);const i=G.useCallback((()=>{const t=(new hV).writeFeaturesObject(vV.getArray()).features;n(fw(t))}),[n]);return G.useEffect((()=>{if(t)return t.addInteraction(mV),yV=mV.on("select",(()=>{i()})),()=>{SP([yV]),t.removeInteraction(mV)}}),[t,i]),null},xV={FTTH:{ba:"maakond: ",ca:"omavalitsus: ",bb:"FTTH kogumaksumus: ",bc:"FTTH maksumus hoone kohta: â‰ˆ",bd:"FTTH hÃµlmatud hoonete arv: ",cb:"FTTH kogumaksumus: ",cc:"FTTH maksumus hoone kohta: â‰ˆ",cd:"FTTH hÃµlmatud hoonete arv: ",x:"hÃµlmatud elanike arv: "},FWA:{ba:"maakond: ",ca:"omavalitsus: ",be:"5G FWA kogumaksumus: ",bf:"5G FWA maksumus hoone kohta: â‰ˆ",bg:"5G FWA hÃµlmatud hoonete arv: ",bh:"5G FWA mastide arv kokku: ",bt:"5G FWA rajatavate mastide arv: ",ce:"5G FWA kogumaksumus: ",cf:"5G FWA maksumus hoone kohta: â‰ˆ",cg:"5G FWA hÃµlmatud hoonete arv: ",ch:"5G FWA mastide arv kokku: ",ct:"5G FWA rajatavate mastide arv: ",x:"hÃµlmatud elanike arv: "},FTTHFWA:{ba:"maakond: ",ca:"omavalitsus: ",da:"piirkond: ",bi:"FTTH/5G kogumaksumus: ",bj:"FTTH/5G maksumus hoone kohta: â‰ˆ",bk:"FTTH/5G hÃµlmatud hoonete arv: ",bl:"FTTH/5G mastide arv kokku: ",bu:"FTTH/5G rajatavate mastide arv: ",ci:"FTTH/5G kogumaksumus: ",cj:"FTTH/5G maksumus hoone kohta: â‰ˆ",ck:"FTTH/5G hÃµlmatud hoonete arv: ",cl:"FTTH/5G mastide arv kokku: ",cu:"FTTH/5G rajatavate mastide arv: ",x:"hÃµlmatud elanike arv: ",db:"kogumaksumus: ",dc:"maksumus hoone kohta: â‰ˆ",dd:"hÃµlmatud hoonete arv: ",de:"mastide arv kokku: ",dg:"rajatavate mastide arv: ",df:"hÃµlmatud asustusÃ¼ksuste arv: "},FTTH5:{ba:"maakond: ",ca:"omavalitsus: ",ea:"piirkond: ",bm:"FTTH 5000 EUR kogumaksumus: ",bn:"FTTH 5000 EUR maksumus hoone kohta: â‰ˆ",bo:"FTTH 5000 EUR hÃµlmatud hoonete arv: ",cm:"FTTH 5000 EUR kogumaksumus: ",cn:"FTTH 5000 EUR maksumus hoone kohta: â‰ˆ",co:"FTTH 5000 EUR hÃµlmatud hoonete arv: ",x:"hÃµlmatud elanike arv: ",eb:"kogumaksumus: ",ec:"maksumus hoone kohta: â‰ˆ ",ed:"hÃµlmatud hoonete arv: ",ef:"hÃµlmatud asustusÃ¼ksuste arv: "},FTTH3:{ba:"maakond: ",ca:"omavalitsus: ",fa:"piirkond: ",bp:"FTTH 3000 EUR kogumaksumus: ",br:"FTTH 3000 EUR maksumus hoone kohta: â‰ˆ",bs:"FTTH 3000 EUR hÃµlmatud hoonete arv: ",cp:"FTTH 3000 EUR kogumaksumus: ",cr:"FTTH 3000 EUR maksumus hoone kohta: â‰ˆ",cs:"FTTH 3000 EUR hÃµlmatud hoonete arv: ",x:"hÃµlmatud elanike arv: ",fb:"kogumaksumus: ",fc:"maksumus hoone kohta: â‰ˆ ",fd:"hÃµlmatud hoonete arv: ",ff:"hÃµlmatud asustusÃ¼ksuste arv: "}},bV={FTTH:{maksumus:"bb"},FWA:{maksumus:"be"},FTTHFWA:{maksumus:"bi"},FTTH5:{maksumus:"bm"},FTTH3:{maksumus:"bp"},SMP:{maksumus:"-"}},wV={FTTH:{maksumus:"cb"},FWA:{maksumus:"ce"},FTTHFWA:{maksumus:"ci"},FTTH5:{maksumus:"cm"},FTTH3:{maksumus:"cp"},SMP:{maksumus:"-"}},SV={FTTHFWA:{maksumus:"db",olt:"da"},FTTH5:{maksumus:"eb",olt:"ea"},FTTH3:{maksumus:"fb",olt:"fa"}};var EV={},CV=Rm;Object.defineProperty(EV,"__esModule",{value:!0});var MV=EV.default=void 0,kV=CV(LT()),TV=Q;MV=EV.default=(0,kV.default)((0,TV.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info");const PV=()=>{const{activeFeatures:t,scenario:e}=g_((t=>t.map)),n=C_();return Q.jsx(vM,{onClick:()=>{n(fw())},sx:{position:"absolute",left:48,top:48,zIndex:1e3,backgroundColor:"rgba(255, 255, 255, 0.8)",display:t.length?"block":"none",flexWrap:"wrap",flexDirection:"column",minWidth:"300px",maxHeight:"80%",overflow:"auto","& > :not(style)":{mx:3,maxHeight:128},"& > :first-of-type":{mt:3},"& > h6":{fontWeight:400,fontSize:"1erm"}},children:t.map((t=>Q.jsxs(G.Fragment,{children:[Object.entries(t.properties).filter((([t,n])=>("string"==typeof n||"number"==typeof n)&&n&&-1!==Object.keys(xV[e]).indexOf(t))).sort((([t],[n])=>Object.keys(xV[e]).indexOf(t)<Object.keys(xV[e]).indexOf(n)?-1:1)).map((([n,i])=>["ef","df","ff"].includes(n)?Q.jsx(_T,{title:t.properties.z,placement:"right-start",children:Q.jsxs(fE,{variant:"h6",gutterBottom:!0,children:[`${xV[e][n]}`,`${i.toLocaleString("et")}`,Q.jsx(MV,{sx:{float:"right",color:"#3366cc",fontSize:15}})]})},`${t.id}${n}`):Q.jsx(fE,{variant:"h6",gutterBottom:!0,children:`${xV[e][n]}${i.toLocaleString("et")}`},`${t.id}${n}`))),Q.jsx(hk,{})]},t.id)))})};var RV={},IV=Rm;Object.defineProperty(RV,"__esModule",{value:!0});var OV=RV.default=void 0,FV=IV(LT()),LV=Q;OV=RV.default=(0,FV.default)((0,LV.jsx)("path",{d:"M2 4h20v16H2z"}),"Rectangle");const AV=()=>{const{scenario:t,zoom:e}=g_((t=>t.map)),n=C_(),i=t=>{var e;n((e=t.target.id,async t=>{t(tw(e)),t(cw())}))};return Q.jsxs(vM,{sx:{position:"absolute",right:8,top:48,zIndex:1e3,backgroundColor:"rgba(255, 255, 255, 0.8)",display:"flex",flexWrap:"wrap",flexDirection:"column",minWidth:"300px",maxWidth:"300px","& > :not(style)":{m:1,maxHeight:400}},children:[Q.jsxs(Fk,{component:"legend",children:["Uuringud",Q.jsx(MV,{fontSize:"small",sx:{float:"right",color:"#3366cc"},onClick:()=>n(dw())})]}),Q.jsxs(kk,{children:[Q.jsx(_T,{title:"Infrastruktuuri ehitamise maksumus kasutades ainult FTTH tehnoloogiat ",placement:"left-start",children:Q.jsx(Sk,{control:Q.jsx(LM,{id:"FTTH",checked:"FTTH"===t,onChange:i}),label:"FTTH"})}),Q.jsx(_T,{title:"Infrastruktuuri ehitamise maksumus kasutades ainult 5G FWA tehnoloogiat ",placement:"left-start",children:Q.jsx(Sk,{control:Q.jsx(LM,{id:"FWA",checked:"FWA"===t,onChange:i}),label:"5G FWA"})}),Q.jsx(_T,{title:"Piirkonnad, kuluefektiivsema tehnoloogia alusel ",placement:"left-start",children:Q.jsx(Sk,{control:Q.jsx(LM,{id:"FTTHFWA",checked:"FTTHFWA"===t,onChange:i}),label:"FTTH vs 5G FWA"})}),Q.jsx(_T,{title:"Piirkonnad, kuhu on vÃµimalik ehitada liitumisvÃµimalused FTTH lairiba infrastruktuuriga maksumusega kuni 5000 EUR hoone kohta ",placement:"left-start",children:Q.jsx(Sk,{control:Q.jsx(LM,{id:"FTTH5",checked:"FTTH5"===t,onChange:i}),label:"FTTH 5000 EUR"})}),Q.jsx(_T,{title:"Piirkonnad, kuhu on vÃµimalik ehitada liitumisvÃµimalused FTTH lairiba infrastruktuuriga maksumusega kuni 3000 EUR hoone kohta ",placement:"left-start",children:Q.jsx(Sk,{control:Q.jsx(LM,{id:"FTTH3",checked:"FTTH3"===t,onChange:i}),label:"FTTH 3000 EUR"})}),Q.jsx(_T,{title:"Asukohad, kuhu ei ole sotsiaalmajanduslikult pÃµhjendatud ehitada gigabitise vÃµimekusega lairibataristut ja kus elanikud/ettevÃµtted peaksid kasutama satelliitÃ¼hendusi (st. hooned, kuhu taristu rajamine maksab rohkem kui 10 000 EUR)",placement:"left-start",children:Q.jsx(Sk,{control:Q.jsx(LM,{id:"SMP",checked:"SMP"===t,onChange:i}),label:"FTTH 10 000+ EUR"})})]}),e>6?Q.jsxs(G.Fragment,{children:[Q.jsx(Fk,{component:"legend",children:"Legend"}),Q.jsxs(kk,{sx:{"& > :not(style)":{marginX:2},"& .MuiSvgIcon-root":{marginRight:3}},children:[Q.jsx(Sk,{control:Q.jsx(OV,{style:{color:"#0d8029"}}),label:"Ãœhendatud FTTH vÃµrku"}),Q.jsx(Sk,{control:Q.jsx(OV,{style:{color:"#cb10f0"}}),label:"Ãœhendatud 5G FWA vÃµrku"}),Q.jsx(Sk,{control:Q.jsx(OV,{style:{color:"#0a0afc"}}),label:"Ãœhendamata (olemasolev FTTH juurdepÃ¤Ã¤suvÃµrk)"}),Q.jsx(Sk,{control:Q.jsx(OV,{style:{color:"#f7f934"}}),label:"Ãœhendamata Satelliit"}),Q.jsx(Sk,{control:Q.jsx(OV,{style:{color:"#ff0000"}}),label:"FTTH 10 000+ EUR aadress"}),Q.jsx(Sk,{control:Q.jsx(OV,{style:{color:"#808080"}}),label:"Ãœhendamata"}),Q.jsxs("ul",{style:{fontWeight:"100",fontSize:"12px",marginLeft:"-10px"},children:[Q.jsx("li",{children:"Ãœhendatud â€“ Valitud uuringus arvutustesse kaasatud hoone. "}),Q.jsx("li",{children:"Ãœhendamata â€“ Valitud uuringus arvutustest vÃ¤lja jÃ¤etud hoone."})]})]})]}):null]})},jV=({MapContext:t})=>{const{map:e}=G.useContext(t),{scenario:n}=g_((t=>t.map));return G.useEffect((()=>{if(e){const t=e.getLayers().getArray().find((t=>"aLayer"===t.get("name")));"SMP"===n?t.setMinZoom(0):t.setMinZoom(6);const i=e.getLayers().getArray().filter((t=>!0===t.get("area")));for(const e of i)"dLayer"===e.get("name")&&"FTTHFWA"===n||"eLayer"===e.get("name")&&"FTTH5"===n||"fLayer"===e.get("name")&&"FTTH3"===n?e.setVisible(!0):e.setVisible(!1),["bLayer","cLayer"].includes(e.get("name"))&&("SMP"===n?e.setVisible(!1):e.setVisible(!0))}}),[e,n]),null};function NV(){const{center:t,zoom:e,extent:n,adata:i,bdata:r,cdata:o,ddata:s,edata:a,fdata:l,activeFeatures:u,scenario:c}=g_((t=>t.map)),h=(({scenario:t})=>{const e=G.useCallback((e=>{const n=[];let i=e.getGeometry(),r=[];"Polygon"===i.getType()?r.push(i):r=i.getPolygons().sort(((t,e)=>{let n=t.getArea(),i=e.getArea();return n>i?1:n<i?-1:0}));let o=r.pop();const s=new rL({stroke:new CF({color:"rgba(255, 179, 179, 1)",width:3}),fill:new xF({color:"rgba(255, 255, 255, .1)"}),zIndex:100});n.push(s);const a=new rL({geometry:new sO(gR(o.getExtent())),text:new lL({font:"bold 16px Arial, Verdana, Helvetica, sans-serif",text:`${((null==e?void 0:e.getProperties()[bV[t].maksumus])||0).toLocaleString("et")}`,fill:new xF({color:"rgba(0, 0, 0, 1)"}),stroke:new CF({color:"rgba(255, 255, 255, 1)",width:5})}),zIndex:102});return n.push(a),n}),[t]),n=G.useCallback(((e,n)=>{const i=new CF({color:"rgba(255, 179, 179, 1)",width:3}),r=new xF({color:"rgba(255, 255, 255, .1)"});let o=new lL({font:"bold 16px Arial, Verdana, Helvetica, sans-serif",text:`${((null==e?void 0:e.getProperties()[wV[t].maksumus])||0).toLocaleString("et")}`,fill:new xF({color:"rgba(0, 0, 204, 1)"}),stroke:new CF({color:"rgba(255, 255, 255, 1)",width:5})});return n<32&&(o=null),new rL({stroke:i,fill:r,text:o,declutter:"none",zIndex:100})}),[t]),i=G.useCallback((e=>new rL({stroke:new CF({color:"rgba(255, 255, 255, 1)",width:2}),fill:new xF({color:(null==e?void 0:e.getProperties().de)?"rgba(203, 16, 240, .2)":"rgba(13, 128, 41, .2)"}),text:new lL({font:"bold 16px Arial, Verdana, Helvetica, sans-serif",text:`${null==e?void 0:e.getProperties()[SV[t].olt]}: ${((null==e?void 0:e.getProperties()[SV[t].maksumus])||0).toLocaleString("et")}`,fill:new xF({color:"rgba(0, 0, 204, 1)"}),stroke:new CF({color:"rgba(255, 255, 255, 1)",width:1})}),declutter:"none",zIndex:100})),[t]);return{maakond:e,hooned:G.useMemo((()=>({"circle-radius":["interpolate",["linear"],["zoom"],4,1,20,20],"circle-fill-color":["match",["var","scenario"],"FTTH",["match",["get","b"],"Access Net","#0a0afc","FTTH","#0d8029","FWA","#cb10f0","Satellite","#f7f934","#808080"],"FWA",["match",["get","c"],"Access Net","#0a0afc","FTTH","#0d8029","FWA","#cb10f0","Satellite","#f7f934","#808080"],"FTTHFWA",["match",["get","d"],"Access Net","#0a0afc","FTTH","#0d8029","FWA","#cb10f0","Satellite","#f7f934","#808080"],"FTTH5",["match",["get","e"],"Access Net","#0a0afc","FTTH","#0d8029","FWA","#cb10f0","Satellite","#f7f934","#808080"],"FTTH3",["match",["get","f"],"Access Net","#0a0afc","FTTH","#0d8029","FWA","#cb10f0","Satellite","#f7f934","#808080"],"SMP",["match",["get","g"],"Access Net","#0a0afc","FTTH","#0d8029","FWA","#cb10f0","Satellite","#f7f934","NO","#ff0000","#808080"],"#808080"],"circle-rotate-with-view":!1,"circle-displacement":[0,0],"circle-opacity":["interpolate",["linear"],["zoom"],4,.2,10,1],variables:{scenario:`${t}`}})),[t]),select:G.useCallback((()=>new rL({stroke:new CF({color:"rgba(255, 0, 0, .8)",width:2}),zIndex:1e3})),[]),omavalitsus:n,area:i}})({scenario:c});return Q.jsxs(bU,{center:t,zoom:e,extent:n,children:[Q.jsxs(VT,{children:[Q.jsx(pV,{MapContext:i$,features:i,zIndex:100,style:h.hooned,name:"aLayer",minZoom:6}),Q.jsx(gV,{MapContext:i$,features:r,zIndex:98,style:h.maakond,name:"bLayer",selectable:!0,maxZoom:5,area:!0}),Q.jsx(gV,{MapContext:i$,features:o,zIndex:99,style:h.omavalitsus,name:"cLayer",selectable:!0,minZoom:4,area:!0}),Q.jsx(gV,{MapContext:i$,features:s,zIndex:101,style:h.area,name:"dLayer",selectable:!0,minZoom:5,area:!0}),Q.jsx(gV,{MapContext:i$,features:a,zIndex:101,style:h.area,name:"eLayer",selectable:!0,minZoom:5,area:!0}),Q.jsx(gV,{MapContext:i$,features:l,zIndex:101,style:h.area,name:"fLayer",selectable:!0,minZoom:5,area:!0}),Q.jsx(gV,{MapContext:i$,features:u,zIndex:500,style:h.select,name:"select"})]}),Q.jsx(wU,{MapContext:i$}),Q.jsx(HT,{MapContext:i$}),Q.jsx(jV,{MapContext:i$}),Q.jsx(AV,{}),Q.jsx(_V,{}),Q.jsx(PV,{})]})}var DV={},zV=Rm;Object.defineProperty(DV,"__esModule",{value:!0});var $V=DV.default=void 0,BV=zV(LT()),WV=Q;$V=DV.default=(0,BV.default)((0,WV.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");const GV=Tv(YM)((({theme:t})=>({"& .MuiDialogContent-root":{padding:t.spacing(3)},"& .MuiDialogActions-root":{padding:t.spacing(1)},"& div":{margin:"0em",fontFamily:"Roboto, Helvetica, Arial, sans-serif",fontWeight:"200",fontSize:"1rem",lineHeight:"1"},"& h3":{fontWeight:"500",fontSize:"1.25rem",lineHeight:"1.6",marginBottom:"0.35em",marginTop:"1em"},"& p,ul":{fontWeight:"400",fontSize:"1.2rem",lineHeight:"1.2",margin:".5em","& b":{fontWeight:"500"}},"& li":{fontWeight:"400",fontSize:"1.2rem",lineHeight:"1.2",margin:"0em"}}))),UV=()=>{const{researchInfo:t}=g_((t=>t.map)),e=C_(),n=()=>{e(dw(!1))};return Q.jsxs(GV,{onClose:n,"aria-labelledby":"dialog-title",open:t,maxWidth:"lg",fullWidth:!0,children:[Q.jsx(sk,{sx:{m:0,p:2},id:"dialog-title",children:"TurutÃµrkepiirkondade lairibataristu maksumuse uuring"}),Q.jsx(XS,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8,color:t=>t.palette.grey[500]},children:Q.jsx($V,{})}),Q.jsx(ik,{dividers:!0,children:Q.jsxs("div",{children:[Q.jsx("h3",{children:"Uuring"}),Q.jsx("p",{children:"Uuringu eesmÃ¤rk on anda hinnang maapiirkondadesse 1 Gbit/s kiirust vÃµimaldava FTTH ja 5G FWA baastaristu (kaablid, mikrotorud, kulglad, mastid, elektriÃ¼hendus jne) rajamise maksumusest. Sideteenuste pakkumiseks vajalike aktiivseadmete maksumus ei ole hinnangutega hÃµlmatud."}),Q.jsx("p",{children:"Uuring hÃµlmab ainult maapiirkondade asustusÃ¼ksuseid (maalised ja vÃ¤ikelinnalised asustusÃ¼ksused) ning ei hÃµlma linnasid."}),Q.jsx("h3",{children:"Kaardirakendus"}),Q.jsx("p",{children:"Avaliku kaardirakenduse eesmÃ¤rk on anda visuaalne Ã¼levaade uuringu tulemustest. "}),Q.jsx("h3",{children:"Uuringus on arvutatud"}),Q.jsxs("ul",{children:[Q.jsx("li",{children:"TurutÃµrkepiirkondades gigabiti vÃµimekusega lairibataristu ehitamise maksumus"}),Q.jsxs("ul",{children:[Q.jsx("li",{children:"kasutades ainult FTTH tehnoloogiat ja"}),Q.jsx("li",{children:"kasutades ainult 5G FWA (5G Fixed Wireless Access) tehnoloogiat"})]}),Q.jsx("li",{children:"TurutÃµrkepiirkonnad, kus on kuluefektiivsem ehitada vÃ¤lja gigabiti vÃµimekusega lairibataristu kasutades:"}),Q.jsxs("ul",{children:[Q.jsx("li",{children:"FTTH tehnoloogiat ja selle hinnanguline maksumus vÃµi"}),Q.jsx("li",{children:"5G FWA tehnoloogiat ja selle hinnanguline maksumus"})]}),Q.jsx("li",{children:"Piirkonnad, kuhu on vÃµimalik ehitada liitumisvÃµimalused FTTH lairibataristuga keskmise maksumusega kuni 5000 EUR hoone kohta"}),Q.jsx("li",{children:"Piirkonnad, kuhu on vÃµimalik ehitada liitumisvÃµimalused FTTH lairibataristuga keskmise maksumusega kuni 3000 EUR hoone kohta"}),Q.jsx("li",{children:"Asukohad, kuhu ei ole sotsiaalmajanduslikult pÃµhjendatud ehitada gigabitise vÃµimekusega lairibataristut ja kus elanikud/ettevÃµtted peaksid kasutama satelliitÃ¼hendusi (st. hooned, kuhu taristu rajamine maksab rohkem kui 10 000 EUR)"})]}),Q.jsx("p",{children:"Kaardirakenduses toodud hinnad ei sisalda kÃ¤ibemaksu"}),Q.jsx("h3",{children:" MÃµisted "}),Q.jsxs("ul",{children:[Q.jsx("li",{children:Q.jsxs("p",{children:[Q.jsx("b",{children:"TurutÃµrkepiirkond"})," - aadresside kogum, kus puudub vÃ¤hemalt 100 Mbit/s kiirusega pÃ¼siÃ¼hendus vÃµi sellega liitumise vÃµimalus ja kuhu seda olemasolevate toetusmeetmete abil vÃµi erainvesteeringutena ei ole kavas rajada. TurutÃµrkepiirkonna hulka loetakse kÃ¤esoleva uuringu raames ainult maalised ja vÃ¤ikelinnalised asustusÃ¼ksused vastavalt Statistikaameti poolt vÃ¤lja tÃ¶Ã¶tatud â€žLinnalise, vÃ¤ikelinnalise ja maalise asustuspiirkonna tÃ¼Ã¼bi ja klastrite mÃ¤Ã¤ramise metoodikaleâ€œ."]})}),Q.jsx("li",{children:Q.jsxs("p",{children:[Q.jsx("b",{children:"FTTH tehnoloogia"})," - Fibre To The Home. FTTH tehnoloogia puhul on arvutatud vÃ¤lja kÃµikidele turutÃµrkepiirkondades asuvatele aadressidele FTTH tehnoloogiat kasutades gigabiti vÃµimalusega lairibataristuga liitumise vÃµimaluse loomise maksumus. Liitumise vÃµimalus tÃ¤hendab, et valguskaabelvÃµrgu lÃµpp-punkt elektroonilise side seaduse tÃ¤henduses on aadressiobjekti kinnistu Ã¤Ã¤res ilma liini vÃ¤lja ehitamiseta aadressiobjekti sisse. Maksumus on arvutatud maasse paigaldatud valguskaabli ehituse kulude alusel. Arvutused hÃµlmavad ainult passiivse taristu (kaablid, mikrotorud jne) rajamise maksumust. Arvutused on tehtud FTTH point-to-point (P2P) vÃµrguarhitektuuri alusel. Teenuste pakkumiseks vajalikud aktiivseadmed ja kliendi lÃµppseadmed ei ole arvutuste osa."]})}),Q.jsx("li",{children:Q.jsxs("p",{children:[Q.jsx("b",{children:"5G FWA tehnoloogia"})," - 5G Fixed Wireless Access. 5G FWA baastaristu puhul on arvutatud vÃ¤lja tÃ¤iendavate mastide rajamise maksumus tagamaks kÃµikidele turutÃµrkepiirkondades asuvatele aadressidele 5G FWA tehnoloogiat kasutades gigabiti vÃµimalusega lairibataristuga liitumise vÃµimalus. Arvutuste eelduseks on, et 5G FWA on vÃµimeline 26 GHz sagedusel tagama 1 Gbit/s kiirust 4 km raadiuses. Maksumuse arvutamisel on arvesse vÃµetud 30 kuni 60 m mastide hinda koos paigaldamisega, mastide aluseid konteinereid seadmetele ning mastide Ã¼hendamist valguskaablitel pÃµhineva baasvÃµrguga ja elektrivÃµrguga. Mastialuse maa  ja sideteenuse pakkumiseks vajalike aktiivseadmete hinda ei ole arvestatud."]})})]}),Q.jsx("h3",{children:"Uuringus kasutatud andmed"}),Q.jsxs("ul",{children:[Q.jsx("li",{children:"TurutÃµrke piirkondade hoone aadressid 14.05.2024 / allikas: Majandus- ja Kommunikatsiooniministeerium"}),Q.jsx("li",{children:"Olemasolevad sidetrassid 14.05.2024 / allikas: Maa-amet"}),Q.jsx("li",{children:"Rahva ja eluruumide loendus 2021  31.12.2021 / allikas: Statistikaamet"}),Q.jsx("li",{children:"Olemasolevad telekommunikatsiooni mastid 18.05.2024 / allikas: Maa-amet"}),Q.jsx("li",{children:"ELASA baasvÃµrgu ja olemasolevate kaevude, kappide ja jÃ¤tkude andmed 01.06.2024 / allikas: Eesti Lairiba Arenduse Sihtasutus "})]})]})})]})};function HV(){return Q.jsxs(yw,{theme:kT,children:[Q.jsx(NM,{}),Q.jsx(PT,{}),Q.jsx(UV,{}),Q.jsx("div",{children:Q.jsx(NV,{})})]})}pw.dispatch((async t=>{let e=await fetch("./adata.json"),n=await e.json();t(rw(n))})),pw.dispatch((async t=>{let e=await fetch("./bdata.json"),n=await e.json();t(ow(n))})),pw.dispatch((async t=>{let e=await fetch("./cdata.json"),n=await e.json();t(sw(n))})),pw.dispatch((async t=>{let e=await fetch("./ddata.json"),n=await e.json();t(aw(n))})),pw.dispatch((async t=>{let e=await fetch("./edata.json"),n=await e.json();t(lw(n))})),pw.dispatch((async t=>{let e=await fetch("./fdata.json"),n=await e.json();t(uw(n))})),tt.createRoot(document.getElementById("root")).render(Q.jsx(U.StrictMode,{children:Q.jsx(G.Suspense,{fallback:Q.jsx(Xv,{}),children:Q.jsx(x_,{store:pw,children:Q.jsx(HV,{})})})}))}},function(){return e||(0,t[i(t)[0]])((e={exports:{}}).exports,e),e.exports});export default o();
